function kd(p,f){for(var h=0;h<f.length;h++){const g=f[h];if(typeof g!="string"&&!Array.isArray(g)){for(const y in g)if(y!=="default"&&!(y in p)){const v=Object.getOwnPropertyDescriptor(g,y);v&&Object.defineProperty(p,y,v.get?v:{enumerable:!0,get:()=>g[y]})}}}return Object.freeze(Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}))}(function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const y of document.querySelectorAll('link[rel="modulepreload"]'))g(y);new MutationObserver(y=>{for(const v of y)if(v.type==="childList")for(const w of v.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&g(w)}).observe(document,{childList:!0,subtree:!0});function h(y){const v={};return y.integrity&&(v.integrity=y.integrity),y.referrerPolicy&&(v.referrerPolicy=y.referrerPolicy),y.crossOrigin==="use-credentials"?v.credentials="include":y.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function g(y){if(y.ep)return;y.ep=!0;const v=h(y);fetch(y.href,v)}})();var il=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function po(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}var tf={exports:{}},tl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1;function e2(){if(k1)return tl;k1=1;var p=Symbol.for("react.transitional.element"),f=Symbol.for("react.fragment");function h(g,y,v){var w=null;if(v!==void 0&&(w=""+v),y.key!==void 0&&(w=""+y.key),"key"in y){v={};for(var T in y)T!=="key"&&(v[T]=y[T])}else v=y;return y=v.ref,{$$typeof:p,type:g,key:w,ref:y!==void 0?y:null,props:v}}return tl.Fragment=f,tl.jsx=h,tl.jsxs=h,tl}var B1;function t2(){return B1||(B1=1,tf.exports=e2()),tf.exports}var H=t2(),nf={exports:{}},yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L1;function n2(){if(L1)return yt;L1=1;var p=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),w=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),D=Symbol.iterator;function X(Y){return Y===null||typeof Y!="object"?null:(Y=D&&Y[D]||Y["@@iterator"],typeof Y=="function"?Y:null)}var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ce=Object.assign,ue={};function Le(Y,me,we){this.props=Y,this.context=me,this.refs=ue,this.updater=we||te}Le.prototype.isReactComponent={},Le.prototype.setState=function(Y,me){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,me,"setState")},Le.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function je(){}je.prototype=Le.prototype;function Pe(Y,me,we){this.props=Y,this.context=me,this.refs=ue,this.updater=we||te}var Oe=Pe.prototype=new je;Oe.constructor=Pe,ce(Oe,Le.prototype),Oe.isPureReactComponent=!0;var Ge=Array.isArray,Me={H:null,A:null,T:null,S:null,V:null},Ve=Object.prototype.hasOwnProperty;function fe(Y,me,we,_e,ze,pt){return we=pt.ref,{$$typeof:p,type:Y,key:me,ref:we!==void 0?we:null,props:pt}}function Je(Y,me){return fe(Y.type,me,void 0,void 0,void 0,Y.props)}function be(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===p}function Nn(Y){var me={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(we){return me[we]})}var Pt=/\/+/g;function De(Y,me){return typeof Y=="object"&&Y!==null&&Y.key!=null?Nn(""+Y.key):me.toString(36)}function tt(){}function It(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(tt,tt):(Y.status="pending",Y.then(function(me){Y.status==="pending"&&(Y.status="fulfilled",Y.value=me)},function(me){Y.status==="pending"&&(Y.status="rejected",Y.reason=me)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function re(Y,me,we,_e,ze){var pt=typeof Y;(pt==="undefined"||pt==="boolean")&&(Y=null);var ve=!1;if(Y===null)ve=!0;else switch(pt){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(Y.$$typeof){case p:case f:ve=!0;break;case I:return ve=Y._init,re(ve(Y._payload),me,we,_e,ze)}}if(ve)return ze=ze(Y),ve=_e===""?"."+De(Y,0):_e,Ge(ze)?(we="",ve!=null&&(we=ve.replace(Pt,"$&/")+"/"),re(ze,me,we,"",function(Fe){return Fe})):ze!=null&&(be(ze)&&(ze=Je(ze,we+(ze.key==null||Y&&Y.key===ze.key?"":(""+ze.key).replace(Pt,"$&/")+"/")+ve)),me.push(ze)),1;ve=0;var Bn=_e===""?".":_e+":";if(Ge(Y))for(var ht=0;ht<Y.length;ht++)_e=Y[ht],pt=Bn+De(_e,ht),ve+=re(_e,me,we,pt,ze);else if(ht=X(Y),typeof ht=="function")for(Y=ht.call(Y),ht=0;!(_e=Y.next()).done;)_e=_e.value,pt=Bn+De(_e,ht++),ve+=re(_e,me,we,pt,ze);else if(pt==="object"){if(typeof Y.then=="function")return re(It(Y),me,we,_e,ze);throw me=String(Y),Error("Objects are not valid as a React child (found: "+(me==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":me)+"). If you meant to render a collection of children, use an array instead.")}return ve}function ie(Y,me,we){if(Y==null)return Y;var _e=[],ze=0;return re(Y,_e,"","",function(pt){return me.call(we,pt,ze++)}),_e}function Q(Y){if(Y._status===-1){var me=Y._result;me=me(),me.then(function(we){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=we)},function(we){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=we)}),Y._status===-1&&(Y._status=0,Y._result=me)}if(Y._status===1)return Y._result.default;throw Y._result}var Ee=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var me=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(me))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)};function Ke(){}return yt.Children={map:ie,forEach:function(Y,me,we){ie(Y,function(){me.apply(this,arguments)},we)},count:function(Y){var me=0;return ie(Y,function(){me++}),me},toArray:function(Y){return ie(Y,function(me){return me})||[]},only:function(Y){if(!be(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},yt.Component=Le,yt.Fragment=h,yt.Profiler=y,yt.PureComponent=Pe,yt.StrictMode=g,yt.Suspense=N,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Me,yt.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return Me.H.useMemoCache(Y)}},yt.cache=function(Y){return function(){return Y.apply(null,arguments)}},yt.cloneElement=function(Y,me,we){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var _e=ce({},Y.props),ze=Y.key,pt=void 0;if(me!=null)for(ve in me.ref!==void 0&&(pt=void 0),me.key!==void 0&&(ze=""+me.key),me)!Ve.call(me,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&me.ref===void 0||(_e[ve]=me[ve]);var ve=arguments.length-2;if(ve===1)_e.children=we;else if(1<ve){for(var Bn=Array(ve),ht=0;ht<ve;ht++)Bn[ht]=arguments[ht+2];_e.children=Bn}return fe(Y.type,ze,void 0,void 0,pt,_e)},yt.createContext=function(Y){return Y={$$typeof:w,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:v,_context:Y},Y},yt.createElement=function(Y,me,we){var _e,ze={},pt=null;if(me!=null)for(_e in me.key!==void 0&&(pt=""+me.key),me)Ve.call(me,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(ze[_e]=me[_e]);var ve=arguments.length-2;if(ve===1)ze.children=we;else if(1<ve){for(var Bn=Array(ve),ht=0;ht<ve;ht++)Bn[ht]=arguments[ht+2];ze.children=Bn}if(Y&&Y.defaultProps)for(_e in ve=Y.defaultProps,ve)ze[_e]===void 0&&(ze[_e]=ve[_e]);return fe(Y,pt,void 0,void 0,null,ze)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(Y){return{$$typeof:T,render:Y}},yt.isValidElement=be,yt.lazy=function(Y){return{$$typeof:I,_payload:{_status:-1,_result:Y},_init:Q}},yt.memo=function(Y,me){return{$$typeof:E,type:Y,compare:me===void 0?null:me}},yt.startTransition=function(Y){var me=Me.T,we={};Me.T=we;try{var _e=Y(),ze=Me.S;ze!==null&&ze(we,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(Ke,Ee)}catch(pt){Ee(pt)}finally{Me.T=me}},yt.unstable_useCacheRefresh=function(){return Me.H.useCacheRefresh()},yt.use=function(Y){return Me.H.use(Y)},yt.useActionState=function(Y,me,we){return Me.H.useActionState(Y,me,we)},yt.useCallback=function(Y,me){return Me.H.useCallback(Y,me)},yt.useContext=function(Y){return Me.H.useContext(Y)},yt.useDebugValue=function(){},yt.useDeferredValue=function(Y,me){return Me.H.useDeferredValue(Y,me)},yt.useEffect=function(Y,me,we){var _e=Me.H;if(typeof we=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return _e.useEffect(Y,me)},yt.useId=function(){return Me.H.useId()},yt.useImperativeHandle=function(Y,me,we){return Me.H.useImperativeHandle(Y,me,we)},yt.useInsertionEffect=function(Y,me){return Me.H.useInsertionEffect(Y,me)},yt.useLayoutEffect=function(Y,me){return Me.H.useLayoutEffect(Y,me)},yt.useMemo=function(Y,me){return Me.H.useMemo(Y,me)},yt.useOptimistic=function(Y,me){return Me.H.useOptimistic(Y,me)},yt.useReducer=function(Y,me,we){return Me.H.useReducer(Y,me,we)},yt.useRef=function(Y){return Me.H.useRef(Y)},yt.useState=function(Y){return Me.H.useState(Y)},yt.useSyncExternalStore=function(Y,me,we){return Me.H.useSyncExternalStore(Y,me,we)},yt.useTransition=function(){return Me.H.useTransition()},yt.version="19.1.0",yt}var P1;function cl(){return P1||(P1=1,nf.exports=n2()),nf.exports}var ft=cl();const fo=po(ft);var rf={exports:{}},nl={},af={exports:{}},sf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1;function r2(){return j1||(j1=1,function(p){function f(ie,Q){var Ee=ie.length;ie.push(Q);e:for(;0<Ee;){var Ke=Ee-1>>>1,Y=ie[Ke];if(0<y(Y,Q))ie[Ke]=Q,ie[Ee]=Y,Ee=Ke;else break e}}function h(ie){return ie.length===0?null:ie[0]}function g(ie){if(ie.length===0)return null;var Q=ie[0],Ee=ie.pop();if(Ee!==Q){ie[0]=Ee;e:for(var Ke=0,Y=ie.length,me=Y>>>1;Ke<me;){var we=2*(Ke+1)-1,_e=ie[we],ze=we+1,pt=ie[ze];if(0>y(_e,Ee))ze<Y&&0>y(pt,_e)?(ie[Ke]=pt,ie[ze]=Ee,Ke=ze):(ie[Ke]=_e,ie[we]=Ee,Ke=we);else if(ze<Y&&0>y(pt,Ee))ie[Ke]=pt,ie[ze]=Ee,Ke=ze;else break e}}return Q}function y(ie,Q){var Ee=ie.sortIndex-Q.sortIndex;return Ee!==0?Ee:ie.id-Q.id}if(p.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var v=performance;p.unstable_now=function(){return v.now()}}else{var w=Date,T=w.now();p.unstable_now=function(){return w.now()-T}}var N=[],E=[],I=1,D=null,X=3,te=!1,ce=!1,ue=!1,Le=!1,je=typeof setTimeout=="function"?setTimeout:null,Pe=typeof clearTimeout=="function"?clearTimeout:null,Oe=typeof setImmediate<"u"?setImmediate:null;function Ge(ie){for(var Q=h(E);Q!==null;){if(Q.callback===null)g(E);else if(Q.startTime<=ie)g(E),Q.sortIndex=Q.expirationTime,f(N,Q);else break;Q=h(E)}}function Me(ie){if(ue=!1,Ge(ie),!ce)if(h(N)!==null)ce=!0,Ve||(Ve=!0,De());else{var Q=h(E);Q!==null&&re(Me,Q.startTime-ie)}}var Ve=!1,fe=-1,Je=5,be=-1;function Nn(){return Le?!0:!(p.unstable_now()-be<Je)}function Pt(){if(Le=!1,Ve){var ie=p.unstable_now();be=ie;var Q=!0;try{e:{ce=!1,ue&&(ue=!1,Pe(fe),fe=-1),te=!0;var Ee=X;try{t:{for(Ge(ie),D=h(N);D!==null&&!(D.expirationTime>ie&&Nn());){var Ke=D.callback;if(typeof Ke=="function"){D.callback=null,X=D.priorityLevel;var Y=Ke(D.expirationTime<=ie);if(ie=p.unstable_now(),typeof Y=="function"){D.callback=Y,Ge(ie),Q=!0;break t}D===h(N)&&g(N),Ge(ie)}else g(N);D=h(N)}if(D!==null)Q=!0;else{var me=h(E);me!==null&&re(Me,me.startTime-ie),Q=!1}}break e}finally{D=null,X=Ee,te=!1}Q=void 0}}finally{Q?De():Ve=!1}}}var De;if(typeof Oe=="function")De=function(){Oe(Pt)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,It=tt.port2;tt.port1.onmessage=Pt,De=function(){It.postMessage(null)}}else De=function(){je(Pt,0)};function re(ie,Q){fe=je(function(){ie(p.unstable_now())},Q)}p.unstable_IdlePriority=5,p.unstable_ImmediatePriority=1,p.unstable_LowPriority=4,p.unstable_NormalPriority=3,p.unstable_Profiling=null,p.unstable_UserBlockingPriority=2,p.unstable_cancelCallback=function(ie){ie.callback=null},p.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Je=0<ie?Math.floor(1e3/ie):5},p.unstable_getCurrentPriorityLevel=function(){return X},p.unstable_next=function(ie){switch(X){case 1:case 2:case 3:var Q=3;break;default:Q=X}var Ee=X;X=Q;try{return ie()}finally{X=Ee}},p.unstable_requestPaint=function(){Le=!0},p.unstable_runWithPriority=function(ie,Q){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var Ee=X;X=ie;try{return Q()}finally{X=Ee}},p.unstable_scheduleCallback=function(ie,Q,Ee){var Ke=p.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?Ke+Ee:Ke):Ee=Ke,ie){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=Ee+Y,ie={id:I++,callback:Q,priorityLevel:ie,startTime:Ee,expirationTime:Y,sortIndex:-1},Ee>Ke?(ie.sortIndex=Ee,f(E,ie),h(N)===null&&ie===h(E)&&(ue?(Pe(fe),fe=-1):ue=!0,re(Me,Ee-Ke))):(ie.sortIndex=Y,f(N,ie),ce||te||(ce=!0,Ve||(Ve=!0,De()))),ie},p.unstable_shouldYield=Nn,p.unstable_wrapCallback=function(ie){var Q=X;return function(){var Ee=X;X=Q;try{return ie.apply(this,arguments)}finally{X=Ee}}}}(sf)),sf}var U1;function i2(){return U1||(U1=1,af.exports=r2()),af.exports}var of={exports:{}},wr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z1;function a2(){if(z1)return wr;z1=1;var p=cl();function f(N){var E="https://react.dev/errors/"+N;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var I=2;I<arguments.length;I++)E+="&args[]="+encodeURIComponent(arguments[I])}return"Minified React error #"+N+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(){}var g={d:{f:h,r:function(){throw Error(f(522))},D:h,C:h,L:h,m:h,X:h,S:h,M:h},p:0,findDOMNode:null},y=Symbol.for("react.portal");function v(N,E,I){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:y,key:D==null?null:""+D,children:N,containerInfo:E,implementation:I}}var w=p.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function T(N,E){if(N==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return wr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=g,wr.createPortal=function(N,E){var I=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(f(299));return v(N,E,null,I)},wr.flushSync=function(N){var E=w.T,I=g.p;try{if(w.T=null,g.p=2,N)return N()}finally{w.T=E,g.p=I,g.d.f()}},wr.preconnect=function(N,E){typeof N=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,g.d.C(N,E))},wr.prefetchDNS=function(N){typeof N=="string"&&g.d.D(N)},wr.preinit=function(N,E){if(typeof N=="string"&&E&&typeof E.as=="string"){var I=E.as,D=T(I,E.crossOrigin),X=typeof E.integrity=="string"?E.integrity:void 0,te=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;I==="style"?g.d.S(N,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:D,integrity:X,fetchPriority:te}):I==="script"&&g.d.X(N,{crossOrigin:D,integrity:X,fetchPriority:te,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},wr.preinitModule=function(N,E){if(typeof N=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var I=T(E.as,E.crossOrigin);g.d.M(N,{crossOrigin:I,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&g.d.M(N)},wr.preload=function(N,E){if(typeof N=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var I=E.as,D=T(I,E.crossOrigin);g.d.L(N,I,{crossOrigin:D,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},wr.preloadModule=function(N,E){if(typeof N=="string")if(E){var I=T(E.as,E.crossOrigin);g.d.m(N,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:I,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else g.d.m(N)},wr.requestFormReset=function(N){g.d.r(N)},wr.unstable_batchedUpdates=function(N,E){return N(E)},wr.useFormState=function(N,E,I){return w.H.useFormState(N,E,I)},wr.useFormStatus=function(){return w.H.useHostTransitionStatus()},wr.version="19.1.0",wr}var F1;function s2(){if(F1)return of.exports;F1=1;function p(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p)}catch(f){console.error(f)}}return p(),of.exports=a2(),of.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H1;function o2(){if(H1)return nl;H1=1;var p=i2(),f=cl(),h=s2();function g(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function y(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function v(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function w(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function T(e){if(v(e)!==e)throw Error(g(188))}function N(e){var n=e.alternate;if(!n){if(n=v(e),n===null)throw Error(g(188));return n!==e?null:e}for(var o=e,u=n;;){var x=o.return;if(x===null)break;var C=x.alternate;if(C===null){if(u=x.return,u!==null){o=u;continue}break}if(x.child===C.child){for(C=x.child;C;){if(C===o)return T(x),e;if(C===u)return T(x),n;C=C.sibling}throw Error(g(188))}if(o.return!==u.return)o=x,u=C;else{for(var R=!1,L=x.child;L;){if(L===o){R=!0,o=x,u=C;break}if(L===u){R=!0,u=x,o=C;break}L=L.sibling}if(!R){for(L=C.child;L;){if(L===o){R=!0,o=C,u=x;break}if(L===u){R=!0,u=C,o=x;break}L=L.sibling}if(!R)throw Error(g(189))}}if(o.alternate!==u)throw Error(g(190))}if(o.tag!==3)throw Error(g(188));return o.stateNode.current===o?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var I=Object.assign,D=Symbol.for("react.element"),X=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),ce=Symbol.for("react.fragment"),ue=Symbol.for("react.strict_mode"),Le=Symbol.for("react.profiler"),je=Symbol.for("react.provider"),Pe=Symbol.for("react.consumer"),Oe=Symbol.for("react.context"),Ge=Symbol.for("react.forward_ref"),Me=Symbol.for("react.suspense"),Ve=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),Je=Symbol.for("react.lazy"),be=Symbol.for("react.activity"),Nn=Symbol.for("react.memo_cache_sentinel"),Pt=Symbol.iterator;function De(e){return e===null||typeof e!="object"?null:(e=Pt&&e[Pt]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Symbol.for("react.client.reference");function It(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===tt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ce:return"Fragment";case Le:return"Profiler";case ue:return"StrictMode";case Me:return"Suspense";case Ve:return"SuspenseList";case be:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case te:return"Portal";case Oe:return(e.displayName||"Context")+".Provider";case Pe:return(e._context.displayName||"Context")+".Consumer";case Ge:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fe:return n=e.displayName||null,n!==null?n:It(e.type)||"Memo";case Je:n=e._payload,e=e._init;try{return It(e(n))}catch{}}return null}var re=Array.isArray,ie=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=h.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},Ke=[],Y=-1;function me(e){return{current:e}}function we(e){0>Y||(e.current=Ke[Y],Ke[Y]=null,Y--)}function _e(e,n){Y++,Ke[Y]=e.current,e.current=n}var ze=me(null),pt=me(null),ve=me(null),Bn=me(null);function ht(e,n){switch(_e(ve,n),_e(pt,e),_e(ze,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?l1(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=l1(n),e=c1(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}we(ze),_e(ze,e)}function Fe(){we(ze),we(pt),we(ve)}function fi(e){e.memoizedState!==null&&_e(Bn,e);var n=ze.current,o=c1(n,e.type);n!==o&&(_e(pt,e),_e(ze,o))}function yn(e){pt.current===e&&(we(ze),we(pt)),Bn.current===e&&(we(Bn),Zo._currentValue=Ee)}var Nt=Object.prototype.hasOwnProperty,mt=p.unstable_scheduleCallback,hi=p.unstable_cancelCallback,Vn=p.unstable_shouldYield,ha=p.unstable_requestPaint,Qt=p.unstable_now,Zt=p.unstable_getCurrentPriorityLevel,wt=p.unstable_ImmediatePriority,Ti=p.unstable_UserBlockingPriority,ke=p.unstable_NormalPriority,da=p.unstable_LowPriority,_i=p.unstable_IdlePriority,Br=p.log,Ni=p.unstable_setDisableYieldValue,gn=null,bn=null;function Ln(e){if(typeof Br=="function"&&Ni(e),bn&&typeof bn.setStrictMode=="function")try{bn.setStrictMode(gn,e)}catch{}}var jt=Math.clz32?Math.clz32:Oi,La=Math.log,Ri=Math.LN2;function Oi(e){return e>>>=0,e===0?32:31-(La(e)/Ri|0)|0}var Wt=256,Ne=4194304;function Mt(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,n,o){var u=e.pendingLanes;if(u===0)return 0;var x=0,C=e.suspendedLanes,R=e.pingedLanes;e=e.warmLanes;var L=u&134217727;return L!==0?(u=L&~C,u!==0?x=Mt(u):(R&=L,R!==0?x=Mt(R):o||(o=L&~e,o!==0&&(x=Mt(o))))):(L=u&~C,L!==0?x=Mt(L):R!==0?x=Mt(R):o||(o=u&~e,o!==0&&(x=Mt(o)))),x===0?0:n!==0&&n!==x&&(n&C)===0&&(C=x&-x,o=n&-n,C>=o||C===32&&(o&4194048)!==0)?n:x}function zt(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Nr(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ii(){var e=Wt;return Wt<<=1,(Wt&4194048)===0&&(Wt=256),e}function Ie(){var e=Ne;return Ne<<=1,(Ne&62914560)===0&&(Ne=4194304),e}function Et(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function yr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pa(e,n,o,u,x,C){var R=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var L=e.entanglements,G=e.expirationTimes,ee=e.hiddenUpdates;for(o=R&~o;0<o;){var he=31-jt(o),xe=1<<he;L[he]=0,G[he]=-1;var ae=ee[he];if(ae!==null)for(ee[he]=null,he=0;he<ae.length;he++){var se=ae[he];se!==null&&(se.lane&=-536870913)}o&=~xe}u!==0&&ja(e,u,0),C!==0&&x===0&&e.tag!==0&&(e.suspendedLanes|=C&~(R&~n))}function ja(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var u=31-jt(n);e.entangledLanes|=n,e.entanglements[u]=e.entanglements[u]|1073741824|o&4194090}function ir(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var u=31-jt(o),x=1<<u;x&n|e[u]&n&&(e[u]|=n),o&=~x}}function ga(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Rn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function br(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:N1(e.type))}function qr(e,n){var o=Q.p;try{return Q.p=e,n()}finally{Q.p=o}}var An=Math.random().toString(36).slice(2),Sn="__reactFiber$"+An,lt="__reactProps$"+An,$t="__reactContainer$"+An,Yn="__reactEvents$"+An,Lr="__reactListeners$"+An,$n="__reactHandles$"+An,Be="__reactResources$"+An,Pr="__reactMarker$"+An;function vr(e){delete e[Sn],delete e[lt],delete e[Yn],delete e[Lr],delete e[$n]}function rn(e){var n=e[Sn];if(n)return n;for(var o=e.parentNode;o;){if(n=o[$t]||o[Sn]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=d1(e);e!==null;){if(o=e[Sn])return o;e=d1(e)}return n}e=o,o=e.parentNode}return null}function On(e){if(e=e[Sn]||e[$t]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Rr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(g(33))}function Kr(e){var n=e[Be];return n||(n=e[Be]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Tt(e){e[Pr]=!0}var ms=new Set,di={};function Pn(e,n){fn(e,n),fn(e+"Capture",n)}function fn(e,n){for(di[e]=n,e=0;e<n.length;e++)ms.add(n[e])}var at=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qr={},jn={};function Ua(e){return Nt.call(jn,e)?!0:Nt.call(Qr,e)?!1:at.test(e)?jn[e]=!0:(Qr[e]=!0,!1)}function ge(e,n,o){if(Ua(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function Mi(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function Dt(e,n,o,u){if(u===null)e.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+u)}}var jr,gi;function bt(e){if(jr===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);jr=n&&n[1]||"",gi=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jr+e+gi}var vt=!1;function gt(e,n){if(!e||vt)return"";vt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(se){var ae=se}Reflect.construct(e,[],xe)}else{try{xe.call()}catch(se){ae=se}e.call(xe.prototype)}}else{try{throw Error()}catch(se){ae=se}(xe=e())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(se){if(se&&ae&&typeof se.stack=="string")return[se.stack,ae.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=u.DetermineComponentFrameRoot(),R=C[0],L=C[1];if(R&&L){var G=R.split(`
`),ee=L.split(`
`);for(x=u=0;u<G.length&&!G[u].includes("DetermineComponentFrameRoot");)u++;for(;x<ee.length&&!ee[x].includes("DetermineComponentFrameRoot");)x++;if(u===G.length||x===ee.length)for(u=G.length-1,x=ee.length-1;1<=u&&0<=x&&G[u]!==ee[x];)x--;for(;1<=u&&0<=x;u--,x--)if(G[u]!==ee[x]){if(u!==1||x!==1)do if(u--,x--,0>x||G[u]!==ee[x]){var he=`
`+G[u].replace(" at new "," at ");return e.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",e.displayName)),he}while(1<=u&&0<=x);break}}}finally{vt=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?bt(o):""}function xt(e){switch(e.tag){case 26:case 27:case 5:return bt(e.type);case 16:return bt("Lazy");case 13:return bt("Suspense");case 19:return bt("SuspenseList");case 0:case 15:return gt(e.type,!1);case 11:return gt(e.type.render,!1);case 1:return gt(e.type,!0);case 31:return bt("Activity");default:return""}}function pa(e){try{var n="";do n+=xt(e),e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function er(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pn(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function kt(e){var n=pn(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),u=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var x=o.get,C=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return x.call(this)},set:function(R){u=""+R,C.call(this,R)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(R){u=""+R},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function pi(e){e._valueTracker||(e._valueTracker=kt(e))}function Jt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),u="";return e&&(u=pn(e)?e.checked?"true":"false":e.value),e=u,e!==o?(n.setValue(e),!0):!1}function Xn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var xs=/[\n"\\]/g;function wn(e){return e.replace(xs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ut(e,n,o,u,x,C,R,L){e.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?e.type=R:e.removeAttribute("type"),n!=null?R==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+er(n)):e.value!==""+er(n)&&(e.value=""+er(n)):R!=="submit"&&R!=="reset"||e.removeAttribute("value"),n!=null?W(e,R,er(n)):o!=null?W(e,R,er(o)):u!=null&&e.removeAttribute("value"),x==null&&C!=null&&(e.defaultChecked=!!C),x!=null&&(e.checked=x&&typeof x!="function"&&typeof x!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?e.name=""+er(L):e.removeAttribute("name")}function In(e,n,o,u,x,C,R,L){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(e.type=C),n!=null||o!=null){if(!(C!=="submit"&&C!=="reset"||n!=null))return;o=o!=null?""+er(o):"",n=n!=null?""+er(n):o,L||n===e.value||(e.value=n),e.defaultValue=n}u=u??x,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=L?e.checked:!!u,e.defaultChecked=!!u,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(e.name=R)}function W(e,n,o){n==="number"&&Xn(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function j(e,n,o,u){if(e=e.options,n){n={};for(var x=0;x<o.length;x++)n["$"+o[x]]=!0;for(o=0;o<e.length;o++)x=n.hasOwnProperty("$"+e[o].value),e[o].selected!==x&&(e[o].selected=x),x&&u&&(e[o].defaultSelected=!0)}else{for(o=""+er(o),n=null,x=0;x<e.length;x++){if(e[x].value===o){e[x].selected=!0,u&&(e[x].defaultSelected=!0);return}n!==null||e[x].disabled||(n=e[x])}n!==null&&(n.selected=!0)}}function Ye(e,n,o){if(n!=null&&(n=""+er(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+er(o):""}function vn(e,n,o,u){if(n==null){if(u!=null){if(o!=null)throw Error(g(92));if(re(u)){if(1<u.length)throw Error(g(93));u=u[0]}o=u}o==null&&(o=""),n=o}o=er(n),e.defaultValue=o,u=e.textContent,u===o&&u!==""&&u!==null&&(e.value=u)}function Un(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var Bt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qi(e,n,o){var u=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":u?e.setProperty(n,o):typeof o!="number"||o===0||Bt.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function fr(e,n,o){if(n!=null&&typeof n!="object")throw Error(g(62));if(e=e.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var x in n)u=n[x],n.hasOwnProperty(x)&&o[x]!==u&&qi(e,x,u)}else for(var C in n)n.hasOwnProperty(C)&&qi(e,C,n[C])}function Ze(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Di=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ki(e){return Di.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Cr=null;function Bi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zr=null,ln=null;function Yt(e){var n=On(e);if(n&&(e=n.stateNode)){var o=e[lt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Ut(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+wn(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var u=o[n];if(u!==e&&u.form===e.form){var x=u[lt]||null;if(!x)throw Error(g(90));Ut(u,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(n=0;n<o.length;n++)u=o[n],u.form===e.form&&Jt(u)}break e;case"textarea":Ye(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&j(e,!!o.multiple,n,!1)}}}var Or=!1;function hr(e,n,o){if(Or)return e(n,o);Or=!0;try{var u=e(n);return u}finally{if(Or=!1,(Zr!==null||ln!==null)&&(Ul(),Zr&&(n=Zr,e=ln,ln=Zr=null,Yt(n),e)))for(n=0;n<e.length;n++)Yt(e[n])}}function We(e,n){var o=e.stateNode;if(o===null)return null;var u=o[lt]||null;if(u===null)return null;o=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(g(231,n,typeof o));return o}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ct=!1;if(qn)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){ct=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch{ct=!1}var Ur=null,Ki=null,Li=null;function Er(){if(Li)return Li;var e,n=Ki,o=n.length,u,x="value"in Ur?Ur.value:Ur.textContent,C=x.length;for(e=0;e<o&&n[e]===x[e];e++);var R=o-e;for(u=1;u<=R&&n[o-u]===x[C-u];u++);return Li=x.slice(e,1<u?1-u:void 0)}function Qi(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Wr(){return!0}function Zi(){return!1}function hn(e){function n(o,u,x,C,R){this._reactName=o,this._targetInst=x,this.type=u,this.nativeEvent=C,this.target=R,this.currentTarget=null;for(var L in e)e.hasOwnProperty(L)&&(o=e[L],this[L]=o?o(C):C[L]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Wr:Zi,this.isPropagationStopped=Zi,this}return I(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Wr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Wr)},persist:function(){},isPersistent:Wr}),n}var mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=hn(mi),Ar=I({},mi,{view:0,detail:0}),zn=hn(Ar),Wi,za,Ji,Fa=I({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$r,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ji&&(Ji&&e.type==="mousemove"?(Wi=e.screenX-Ji.screenX,za=e.screenY-Ji.screenY):za=Wi=0,Ji=e),Wi)},movementY:function(e){return"movementY"in e?e.movementY:za}}),Ha=hn(Fa),ys=I({},Fa,{dataTransfer:0}),Gt=hn(ys),ma=I({},Ar,{relatedTarget:0}),Jr=hn(ma),Ir=I({},mi,{animationName:0,elapsedTime:0,pseudoElement:0}),js=hn(Ir),oe=I({},mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ut=hn(oe),Tn=I({},mi,{data:0}),Pi=hn(Tn),Ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xa(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Kn[e])?!!n[e]:!1}function $r(){return xa}var Cn=I({},Ar,{key:function(e){if(e.key){var n=Ga[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Qi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bs[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$r,charCode:function(e){return e.type==="keypress"?Qi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$i=hn(Cn),cn=I({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ea=hn(cn),zr=I({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$r}),Vt=hn(zr),Qe=I({},mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),vs=hn(Qe),qt=I({},Fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fr=hn(qt),yi=I({},mi,{newState:0,oldState:0}),Us=hn(yi),Hr=[9,13,27,32],ji=qn&&"CompositionEvent"in window,ei=null;qn&&"documentMode"in document&&(ei=document.documentMode);var Cs=qn&&"TextEvent"in window&&!ei,ya=qn&&(!ji||ei&&8<ei&&11>=ei),ba=" ",zs=!1;function bi(e,n){switch(e){case"keyup":return Hr.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Va(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ui=!1;function ta(e,n){switch(e){case"compositionend":return Va(n);case"keypress":return n.which!==32?null:(zs=!0,ba);case"textInput":return e=n.data,e===ba&&zs?null:e;default:return null}}function mo(e,n){if(Ui)return e==="compositionend"||!ji&&bi(e,n)?(e=Er(),Li=Ki=Ur=null,Ui=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ya&&n.locale!=="ko"?null:n.data;default:return null}}var ti={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zi(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ti[e.type]:n==="textarea"}function ar(e,n,o,u){Zr?ln?ln.push(u):ln=[u]:Zr=u,n=Yl(n,"onChange"),0<n.length&&(o=new xi("onChange","change",null,o,u),e.push({event:o,listeners:n}))}var Fi=null,sr=null;function xo(e){r1(e,0)}function na(e){var n=Rr(e);if(Jt(n))return e}function va(e,n){if(e==="change")return n}var Mr=!1;if(qn){var Lt;if(qn){var ra="oninput"in document;if(!ra){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),ra=typeof tr.oninput=="function"}Lt=ra}else Lt=!1;Mr=Lt&&(!document.documentMode||9<document.documentMode)}function ia(){Fi&&(Fi.detachEvent("onpropertychange",Ct),sr=Fi=null)}function Ct(e){if(e.propertyName==="value"&&na(sr)){var n=[];ar(n,sr,e,Bi(e)),hr(xo,n)}}function Ca(e,n,o){e==="focusin"?(ia(),Fi=n,sr=o,Fi.attachEvent("onpropertychange",Ct)):e==="focusout"&&ia()}function O(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return na(sr)}function t(e,n){if(e==="click")return na(n)}function i(e,n){if(e==="input"||e==="change")return na(n)}function s(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var l=typeof Object.is=="function"?Object.is:s;function r(e,n){if(l(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),u=Object.keys(n);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var x=o[u];if(!Nt.call(n,x)||!l(e[x],n[x]))return!1}return!0}function a(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function c(e,n){var o=a(e);e=0;for(var u;o;){if(o.nodeType===3){if(u=e+o.textContent.length,e<=n&&u>=n)return{node:o,offset:n-e};e=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=a(o)}}function d(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?d(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function m(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Xn(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=Xn(e.document)}return n}function b(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var A=qn&&"documentMode"in document&&11>=document.documentMode,S=null,_=null,M=null,B=!1;function k(e,n,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;B||S==null||S!==Xn(u)||(u=S,"selectionStart"in u&&b(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),M&&r(M,u)||(M=u,u=Yl(_,"onSelect"),0<u.length&&(n=new xi("onSelect","select",null,n,o),e.push({event:n,listeners:u}),n.target=S)))}function P(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var U={animationend:P("Animation","AnimationEnd"),animationiteration:P("Animation","AnimationIteration"),animationstart:P("Animation","AnimationStart"),transitionrun:P("Transition","TransitionRun"),transitionstart:P("Transition","TransitionStart"),transitioncancel:P("Transition","TransitionCancel"),transitionend:P("Transition","TransitionEnd")},z={},F={};qn&&(F=document.createElement("div").style,"AnimationEvent"in window||(delete U.animationend.animation,delete U.animationiteration.animation,delete U.animationstart.animation),"TransitionEvent"in window||delete U.transitionend.transition);function V(e){if(z[e])return z[e];if(!U[e])return e;var n=U[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in F)return z[e]=n[o];return e}var K=V("animationend"),$=V("animationiteration"),ne=V("animationstart"),le=V("transitionrun"),de=V("transitionstart"),Ce=V("transitioncancel"),ye=V("transitionend"),Ae=new Map,Re="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Re.push("scrollEnd");function Se(e,n){Ae.set(e,n),Pn(n,[e])}var Ue=new WeakMap;function et(e,n){if(typeof e=="object"&&e!==null){var o=Ue.get(e);return o!==void 0?o:(n={value:e,source:n,stack:pa(n)},Ue.set(e,n),n)}return{value:e,source:n,stack:pa(n)}}var nt=[],dt=0,dr=0;function st(){for(var e=dt,n=dr=dt=0;n<e;){var o=nt[n];nt[n++]=null;var u=nt[n];nt[n++]=null;var x=nt[n];nt[n++]=null;var C=nt[n];if(nt[n++]=null,u!==null&&x!==null){var R=u.pending;R===null?x.next=x:(x.next=R.next,R.next=x),u.pending=x}C!==0&&or(o,x,C)}}function Fn(e,n,o,u){nt[dt++]=e,nt[dt++]=n,nt[dt++]=o,nt[dt++]=u,dr|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function Qn(e,n,o,u){return Fn(e,n,o,u),vi(e)}function Hi(e,n){return Fn(e,null,null,n),vi(e)}function or(e,n,o){e.lanes|=o;var u=e.alternate;u!==null&&(u.lanes|=o);for(var x=!1,C=e.return;C!==null;)C.childLanes|=o,u=C.alternate,u!==null&&(u.childLanes|=o),C.tag===22&&(e=C.stateNode,e===null||e._visibility&1||(x=!0)),e=C,C=C.return;return e.tag===3?(C=e.stateNode,x&&n!==null&&(x=31-jt(o),e=C.hiddenUpdates,u=e[x],u===null?e[x]=[n]:u.push(n),n.lane=o|536870912),C):null}function vi(e){if(50<Ho)throw Ho=0,wu=null,Error(g(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var aa={};function Ug(e,n,o,u){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(e,n,o,u){return new Ug(e,n,o,u)}function vc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ea(e,n){var o=e.alternate;return o===null?(o=ni(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Hf(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ul(e,n,o,u,x,C){var R=0;if(u=e,typeof e=="function")vc(e)&&(R=1);else if(typeof e=="string")R=Fp(e,o,ze.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case be:return e=ni(31,o,n,x),e.elementType=be,e.lanes=C,e;case ce:return Es(o.children,x,C,n);case ue:R=8,x|=24;break;case Le:return e=ni(12,o,n,x|2),e.elementType=Le,e.lanes=C,e;case Me:return e=ni(13,o,n,x),e.elementType=Me,e.lanes=C,e;case Ve:return e=ni(19,o,n,x),e.elementType=Ve,e.lanes=C,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case je:case Oe:R=10;break e;case Pe:R=9;break e;case Ge:R=11;break e;case fe:R=14;break e;case Je:R=16,u=null;break e}R=29,o=Error(g(130,e===null?"null":typeof e,"")),u=null}return n=ni(R,o,n,x),n.elementType=e,n.type=u,n.lanes=C,n}function Es(e,n,o,u){return e=ni(7,e,u,n),e.lanes=o,e}function Cc(e,n,o){return e=ni(6,e,null,n),e.lanes=o,e}function Ec(e,n,o){return n=ni(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Fs=[],Hs=0,fl=null,hl=0,Ci=[],Ei=0,As=null,Aa=1,Sa="";function Ss(e,n){Fs[Hs++]=hl,Fs[Hs++]=fl,fl=e,hl=n}function Gf(e,n,o){Ci[Ei++]=Aa,Ci[Ei++]=Sa,Ci[Ei++]=As,As=e;var u=Aa;e=Sa;var x=32-jt(u)-1;u&=~(1<<x),o+=1;var C=32-jt(n)+x;if(30<C){var R=x-x%5;C=(u&(1<<R)-1).toString(32),u>>=R,x-=R,Aa=1<<32-jt(n)+x|o<<x|u,Sa=C+e}else Aa=1<<C|o<<x|u,Sa=e}function Ac(e){e.return!==null&&(Ss(e,1),Gf(e,1,0))}function Sc(e){for(;e===fl;)fl=Fs[--Hs],Fs[Hs]=null,hl=Fs[--Hs],Fs[Hs]=null;for(;e===As;)As=Ci[--Ei],Ci[Ei]=null,Sa=Ci[--Ei],Ci[Ei]=null,Aa=Ci[--Ei],Ci[Ei]=null}var Dr=null,Mn=null,Kt=!1,ws=null,sa=!1,wc=Error(g(519));function Ts(e){var n=Error(g(418,""));throw vo(et(n,e)),wc}function Vf(e){var n=e.stateNode,o=e.type,u=e.memoizedProps;switch(n[Sn]=e,n[lt]=u,o){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(o=0;o<Vo.length;o++)Ot(Vo[o],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),In(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),pi(n);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),vn(n,u.value,u.defaultValue,u.children),pi(n)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||u.suppressHydrationWarning===!0||o1(n.textContent,o)?(u.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),u.onScroll!=null&&Ot("scroll",n),u.onScrollEnd!=null&&Ot("scrollend",n),u.onClick!=null&&(n.onclick=Xl),n=!0):n=!1,n||Ts(e)}function Yf(e){for(Dr=e.return;Dr;)switch(Dr.tag){case 5:case 13:sa=!1;return;case 27:case 3:sa=!0;return;default:Dr=Dr.return}}function yo(e){if(e!==Dr)return!1;if(!Kt)return Yf(e),Kt=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Fu(e.type,e.memoizedProps)),o=!o),o&&Mn&&Ts(e),Yf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(g(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(o=e.data,o==="/$"){if(n===0){Mn=Vi(e.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++;e=e.nextSibling}Mn=null}}else n===27?(n=Mn,ss(e.type)?(e=Yu,Yu=null,Mn=e):Mn=n):Mn=Dr?Vi(e.stateNode.nextSibling):null;return!0}function bo(){Mn=Dr=null,Kt=!1}function Xf(){var e=ws;return e!==null&&(Yr===null?Yr=e:Yr.push.apply(Yr,e),ws=null),e}function vo(e){ws===null?ws=[e]:ws.push(e)}var Tc=me(null),_s=null,wa=null;function Ya(e,n,o){_e(Tc,n._currentValue),n._currentValue=o}function Ta(e){e._currentValue=Tc.current,we(Tc)}function _c(e,n,o){for(;e!==null;){var u=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),e===o)break;e=e.return}}function Nc(e,n,o,u){var x=e.child;for(x!==null&&(x.return=e);x!==null;){var C=x.dependencies;if(C!==null){var R=x.child;C=C.firstContext;e:for(;C!==null;){var L=C;C=x;for(var G=0;G<n.length;G++)if(L.context===n[G]){C.lanes|=o,L=C.alternate,L!==null&&(L.lanes|=o),_c(C.return,o,e),u||(R=null);break e}C=L.next}}else if(x.tag===18){if(R=x.return,R===null)throw Error(g(341));R.lanes|=o,C=R.alternate,C!==null&&(C.lanes|=o),_c(R,o,e),R=null}else R=x.child;if(R!==null)R.return=x;else for(R=x;R!==null;){if(R===e){R=null;break}if(x=R.sibling,x!==null){x.return=R.return,R=x;break}R=R.return}x=R}}function Co(e,n,o,u){e=null;for(var x=n,C=!1;x!==null;){if(!C){if((x.flags&524288)!==0)C=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var R=x.alternate;if(R===null)throw Error(g(387));if(R=R.memoizedProps,R!==null){var L=x.type;l(x.pendingProps.value,R.value)||(e!==null?e.push(L):e=[L])}}else if(x===Bn.current){if(R=x.alternate,R===null)throw Error(g(387));R.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(e!==null?e.push(Zo):e=[Zo])}x=x.return}e!==null&&Nc(n,e,o,u),n.flags|=262144}function dl(e){for(e=e.firstContext;e!==null;){if(!l(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ns(e){_s=e,wa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Sr(e){return qf(_s,e)}function gl(e,n){return _s===null&&Ns(e),qf(e,n)}function qf(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},wa===null){if(e===null)throw Error(g(308));wa=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else wa=wa.next=n;return o}var zg=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,u){e.push(u)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},Fg=p.unstable_scheduleCallback,Hg=p.unstable_NormalPriority,nr={$$typeof:Oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rc(){return{controller:new zg,data:new Map,refCount:0}}function Eo(e){e.refCount--,e.refCount===0&&Fg(Hg,function(){e.controller.abort()})}var Ao=null,Oc=0,Gs=0,Vs=null;function Gg(e,n){if(Ao===null){var o=Ao=[];Oc=0,Gs=Mu(),Vs={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Oc++,n.then(Kf,Kf),n}function Kf(){if(--Oc===0&&Ao!==null){Vs!==null&&(Vs.status="fulfilled");var e=Ao;Ao=null,Gs=0,Vs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Vg(e,n){var o=[],u={status:"pending",value:null,reason:null,then:function(x){o.push(x)}};return e.then(function(){u.status="fulfilled",u.value=n;for(var x=0;x<o.length;x++)(0,o[x])(n)},function(x){for(u.status="rejected",u.reason=x,x=0;x<o.length;x++)(0,o[x])(void 0)}),u}var Qf=ie.S;ie.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Gg(e,n),Qf!==null&&Qf(e,n)};var Rs=me(null);function Ic(){var e=Rs.current;return e!==null?e:dn.pooledCache}function pl(e,n){n===null?_e(Rs,Rs.current):_e(Rs,n.pool)}function Zf(){var e=Ic();return e===null?null:{parent:nr._currentValue,pool:e}}var So=Error(g(460)),Wf=Error(g(474)),ml=Error(g(542)),Mc={then:function(){}};function Jf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function xl(){}function $f(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(xl,xl),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,t0(e),e;default:if(typeof n.status=="string")n.then(xl,xl);else{if(e=dn,e!==null&&100<e.shellSuspendCounter)throw Error(g(482));e=n,e.status="pending",e.then(function(u){if(n.status==="pending"){var x=n;x.status="fulfilled",x.value=u}},function(u){if(n.status==="pending"){var x=n;x.status="rejected",x.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,t0(e),e}throw wo=n,So}}var wo=null;function e0(){if(wo===null)throw Error(g(459));var e=wo;return wo=null,e}function t0(e){if(e===So||e===ml)throw Error(g(483))}var Xa=!1;function Dc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ka(e,n,o){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(en&2)!==0){var x=u.pending;return x===null?n.next=n:(n.next=x.next,x.next=n),u.pending=n,n=vi(e),or(e,null,o),n}return Fn(e,u,n,o),vi(e)}function To(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var u=n.lanes;u&=e.pendingLanes,o|=u,n.lanes=o,ir(e,o)}}function Bc(e,n){var o=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var x=null,C=null;if(o=o.firstBaseUpdate,o!==null){do{var R={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};C===null?x=C=R:C=C.next=R,o=o.next}while(o!==null);C===null?x=C=n:C=C.next=n}else x=C=n;o={baseState:u.baseState,firstBaseUpdate:x,lastBaseUpdate:C,shared:u.shared,callbacks:u.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var Lc=!1;function _o(){if(Lc){var e=Vs;if(e!==null)throw e}}function No(e,n,o,u){Lc=!1;var x=e.updateQueue;Xa=!1;var C=x.firstBaseUpdate,R=x.lastBaseUpdate,L=x.shared.pending;if(L!==null){x.shared.pending=null;var G=L,ee=G.next;G.next=null,R===null?C=ee:R.next=ee,R=G;var he=e.alternate;he!==null&&(he=he.updateQueue,L=he.lastBaseUpdate,L!==R&&(L===null?he.firstBaseUpdate=ee:L.next=ee,he.lastBaseUpdate=G))}if(C!==null){var xe=x.baseState;R=0,he=ee=G=null,L=C;do{var ae=L.lane&-536870913,se=ae!==L.lane;if(se?(Ht&ae)===ae:(u&ae)===ae){ae!==0&&ae===Gs&&(Lc=!0),he!==null&&(he=he.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var ot=e,rt=L;ae=n;var on=o;switch(rt.tag){case 1:if(ot=rt.payload,typeof ot=="function"){xe=ot.call(on,xe,ae);break e}xe=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=rt.payload,ae=typeof ot=="function"?ot.call(on,xe,ae):ot,ae==null)break e;xe=I({},xe,ae);break e;case 2:Xa=!0}}ae=L.callback,ae!==null&&(e.flags|=64,se&&(e.flags|=8192),se=x.callbacks,se===null?x.callbacks=[ae]:se.push(ae))}else se={lane:ae,tag:L.tag,payload:L.payload,callback:L.callback,next:null},he===null?(ee=he=se,G=xe):he=he.next=se,R|=ae;if(L=L.next,L===null){if(L=x.shared.pending,L===null)break;se=L,L=se.next,se.next=null,x.lastBaseUpdate=se,x.shared.pending=null}}while(!0);he===null&&(G=xe),x.baseState=G,x.firstBaseUpdate=ee,x.lastBaseUpdate=he,C===null&&(x.shared.lanes=0),ns|=R,e.lanes=R,e.memoizedState=xe}}function n0(e,n){if(typeof e!="function")throw Error(g(191,e));e.call(n)}function r0(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)n0(o[e],n)}var Ys=me(null),yl=me(0);function i0(e,n){e=Da,_e(yl,e),_e(Ys,n),Da=e|n.baseLanes}function Pc(){_e(yl,Da),_e(Ys,Ys.current)}function jc(){Da=yl.current,we(Ys),we(yl)}var Qa=0,St=null,an=null,Zn=null,bl=!1,Xs=!1,Os=!1,vl=0,Ro=0,qs=null,Yg=0;function Hn(){throw Error(g(321))}function Uc(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!l(e[o],n[o]))return!1;return!0}function zc(e,n,o,u,x,C){return Qa=C,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ie.H=e===null||e.memoizedState===null?F0:H0,Os=!1,C=o(u,x),Os=!1,Xs&&(C=s0(n,o,u,x)),a0(e),C}function a0(e){ie.H=Tl;var n=an!==null&&an.next!==null;if(Qa=0,Zn=an=St=null,bl=!1,Ro=0,qs=null,n)throw Error(g(300));e===null||lr||(e=e.dependencies,e!==null&&dl(e)&&(lr=!0))}function s0(e,n,o,u){St=e;var x=0;do{if(Xs&&(qs=null),Ro=0,Xs=!1,25<=x)throw Error(g(301));if(x+=1,Zn=an=null,e.updateQueue!=null){var C=e.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}ie.H=Jg,C=n(o,u)}while(Xs);return C}function Xg(){var e=ie.H,n=e.useState()[0];return n=typeof n.then=="function"?Oo(n):n,e=e.useState()[0],(an!==null?an.memoizedState:null)!==e&&(St.flags|=1024),n}function Fc(){var e=vl!==0;return vl=0,e}function Hc(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function Gc(e){if(bl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}bl=!1}Qa=0,Zn=an=St=null,Xs=!1,Ro=vl=0,qs=null}function Gr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?St.memoizedState=Zn=e:Zn=Zn.next=e,Zn}function Wn(){if(an===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=an.next;var n=Zn===null?St.memoizedState:Zn.next;if(n!==null)Zn=n,an=e;else{if(e===null)throw St.alternate===null?Error(g(467)):Error(g(310));an=e,e={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},Zn===null?St.memoizedState=Zn=e:Zn=Zn.next=e}return Zn}function Vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oo(e){var n=Ro;return Ro+=1,qs===null&&(qs=[]),e=$f(qs,e,n),n=St,(Zn===null?n.memoizedState:Zn.next)===null&&(n=n.alternate,ie.H=n===null||n.memoizedState===null?F0:H0),e}function Cl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Oo(e);if(e.$$typeof===Oe)return Sr(e)}throw Error(g(438,String(e)))}function Yc(e){var n=null,o=St.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var u=St.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(x){return x.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=Vc(),St.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),u=0;u<e;u++)o[u]=Nn;return n.index++,o}function _a(e,n){return typeof n=="function"?n(e):n}function El(e){var n=Wn();return Xc(n,an,e)}function Xc(e,n,o){var u=e.queue;if(u===null)throw Error(g(311));u.lastRenderedReducer=o;var x=e.baseQueue,C=u.pending;if(C!==null){if(x!==null){var R=x.next;x.next=C.next,C.next=R}n.baseQueue=x=C,u.pending=null}if(C=e.baseState,x===null)e.memoizedState=C;else{n=x.next;var L=R=null,G=null,ee=n,he=!1;do{var xe=ee.lane&-536870913;if(xe!==ee.lane?(Ht&xe)===xe:(Qa&xe)===xe){var ae=ee.revertLane;if(ae===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),xe===Gs&&(he=!0);else if((Qa&ae)===ae){ee=ee.next,ae===Gs&&(he=!0);continue}else xe={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},G===null?(L=G=xe,R=C):G=G.next=xe,St.lanes|=ae,ns|=ae;xe=ee.action,Os&&o(C,xe),C=ee.hasEagerState?ee.eagerState:o(C,xe)}else ae={lane:xe,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},G===null?(L=G=ae,R=C):G=G.next=ae,St.lanes|=xe,ns|=xe;ee=ee.next}while(ee!==null&&ee!==n);if(G===null?R=C:G.next=L,!l(C,e.memoizedState)&&(lr=!0,he&&(o=Vs,o!==null)))throw o;e.memoizedState=C,e.baseState=R,e.baseQueue=G,u.lastRenderedState=C}return x===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function qc(e){var n=Wn(),o=n.queue;if(o===null)throw Error(g(311));o.lastRenderedReducer=e;var u=o.dispatch,x=o.pending,C=n.memoizedState;if(x!==null){o.pending=null;var R=x=x.next;do C=e(C,R.action),R=R.next;while(R!==x);l(C,n.memoizedState)||(lr=!0),n.memoizedState=C,n.baseQueue===null&&(n.baseState=C),o.lastRenderedState=C}return[C,u]}function o0(e,n,o){var u=St,x=Wn(),C=Kt;if(C){if(o===void 0)throw Error(g(407));o=o()}else o=n();var R=!l((an||x).memoizedState,o);R&&(x.memoizedState=o,lr=!0),x=x.queue;var L=u0.bind(null,u,x,e);if(Io(2048,8,L,[e]),x.getSnapshot!==n||R||Zn!==null&&Zn.memoizedState.tag&1){if(u.flags|=2048,Ks(9,Al(),c0.bind(null,u,x,o,n),null),dn===null)throw Error(g(349));C||(Qa&124)!==0||l0(u,n,o)}return o}function l0(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=St.updateQueue,n===null?(n=Vc(),St.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function c0(e,n,o,u){n.value=o,n.getSnapshot=u,f0(n)&&h0(e)}function u0(e,n,o){return o(function(){f0(n)&&h0(e)})}function f0(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!l(e,o)}catch{return!0}}function h0(e){var n=Hi(e,2);n!==null&&oi(n,e,2)}function Kc(e){var n=Gr();if(typeof e=="function"){var o=e;if(e=o(),Os){Ln(!0);try{o()}finally{Ln(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:e},n}function d0(e,n,o,u){return e.baseState=o,Xc(e,an,typeof u=="function"?u:_a)}function qg(e,n,o,u,x){if(wl(e))throw Error(g(485));if(e=n.action,e!==null){var C={payload:x,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){C.listeners.push(R)}};ie.T!==null?o(!0):C.isTransition=!1,u(C),o=n.pending,o===null?(C.next=n.pending=C,g0(n,C)):(C.next=o.next,n.pending=o.next=C)}}function g0(e,n){var o=n.action,u=n.payload,x=e.state;if(n.isTransition){var C=ie.T,R={};ie.T=R;try{var L=o(x,u),G=ie.S;G!==null&&G(R,L),p0(e,n,L)}catch(ee){Qc(e,n,ee)}finally{ie.T=C}}else try{C=o(x,u),p0(e,n,C)}catch(ee){Qc(e,n,ee)}}function p0(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){m0(e,n,u)},function(u){return Qc(e,n,u)}):m0(e,n,o)}function m0(e,n,o){n.status="fulfilled",n.value=o,x0(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,g0(e,o)))}function Qc(e,n,o){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=o,x0(n),n=n.next;while(n!==u)}e.action=null}function x0(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function y0(e,n){return n}function b0(e,n){if(Kt){var o=dn.formState;if(o!==null){e:{var u=St;if(Kt){if(Mn){t:{for(var x=Mn,C=sa;x.nodeType!==8;){if(!C){x=null;break t}if(x=Vi(x.nextSibling),x===null){x=null;break t}}C=x.data,x=C==="F!"||C==="F"?x:null}if(x){Mn=Vi(x.nextSibling),u=x.data==="F!";break e}}Ts(u)}u=!1}u&&(n=o[0])}}return o=Gr(),o.memoizedState=o.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:y0,lastRenderedState:n},o.queue=u,o=j0.bind(null,St,u),u.dispatch=o,u=Kc(!1),C=eu.bind(null,St,!1,u.queue),u=Gr(),x={state:n,dispatch:null,action:e,pending:null},u.queue=x,o=qg.bind(null,St,x,C,o),x.dispatch=o,u.memoizedState=e,[n,o,!1]}function v0(e){var n=Wn();return C0(n,an,e)}function C0(e,n,o){if(n=Xc(e,n,y0)[0],e=El(_a)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=Oo(n)}catch(R){throw R===So?ml:R}else u=n;n=Wn();var x=n.queue,C=x.dispatch;return o!==n.memoizedState&&(St.flags|=2048,Ks(9,Al(),Kg.bind(null,x,o),null)),[u,C,e]}function Kg(e,n){e.action=n}function E0(e){var n=Wn(),o=an;if(o!==null)return C0(n,o,e);Wn(),n=n.memoizedState,o=Wn();var u=o.queue.dispatch;return o.memoizedState=e,[n,u,!1]}function Ks(e,n,o,u){return e={tag:e,create:o,deps:u,inst:n,next:null},n=St.updateQueue,n===null&&(n=Vc(),St.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(u=o.next,o.next=e,e.next=u,n.lastEffect=e),e}function Al(){return{destroy:void 0,resource:void 0}}function A0(){return Wn().memoizedState}function Sl(e,n,o,u){var x=Gr();u=u===void 0?null:u,St.flags|=e,x.memoizedState=Ks(1|n,Al(),o,u)}function Io(e,n,o,u){var x=Wn();u=u===void 0?null:u;var C=x.memoizedState.inst;an!==null&&u!==null&&Uc(u,an.memoizedState.deps)?x.memoizedState=Ks(n,C,o,u):(St.flags|=e,x.memoizedState=Ks(1|n,C,o,u))}function S0(e,n){Sl(8390656,8,e,n)}function w0(e,n){Io(2048,8,e,n)}function T0(e,n){return Io(4,2,e,n)}function _0(e,n){return Io(4,4,e,n)}function N0(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function R0(e,n,o){o=o!=null?o.concat([e]):null,Io(4,4,N0.bind(null,n,e),o)}function Zc(){}function O0(e,n){var o=Wn();n=n===void 0?null:n;var u=o.memoizedState;return n!==null&&Uc(n,u[1])?u[0]:(o.memoizedState=[e,n],e)}function I0(e,n){var o=Wn();n=n===void 0?null:n;var u=o.memoizedState;if(n!==null&&Uc(n,u[1]))return u[0];if(u=e(),Os){Ln(!0);try{e()}finally{Ln(!1)}}return o.memoizedState=[u,n],u}function Wc(e,n,o){return o===void 0||(Qa&1073741824)!==0?e.memoizedState=n:(e.memoizedState=o,e=kh(),St.lanes|=e,ns|=e,o)}function M0(e,n,o,u){return l(o,n)?o:Ys.current!==null?(e=Wc(e,o,u),l(e,n)||(lr=!0),e):(Qa&42)===0?(lr=!0,e.memoizedState=o):(e=kh(),St.lanes|=e,ns|=e,n)}function D0(e,n,o,u,x){var C=Q.p;Q.p=C!==0&&8>C?C:8;var R=ie.T,L={};ie.T=L,eu(e,!1,n,o);try{var G=x(),ee=ie.S;if(ee!==null&&ee(L,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var he=Vg(G,u);Mo(e,n,he,si(e))}else Mo(e,n,u,si(e))}catch(xe){Mo(e,n,{then:function(){},status:"rejected",reason:xe},si())}finally{Q.p=C,ie.T=R}}function Qg(){}function Jc(e,n,o,u){if(e.tag!==5)throw Error(g(476));var x=k0(e).queue;D0(e,x,n,Ee,o===null?Qg:function(){return B0(e),o(u)})}function k0(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:Ee},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function B0(e){var n=k0(e).next.queue;Mo(e,n,{},si())}function $c(){return Sr(Zo)}function L0(){return Wn().memoizedState}function P0(){return Wn().memoizedState}function Zg(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=si();e=qa(o);var u=Ka(n,e,o);u!==null&&(oi(u,n,o),To(u,n,o)),n={cache:Rc()},e.payload=n;return}n=n.return}}function Wg(e,n,o){var u=si();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},wl(e)?U0(n,o):(o=Qn(e,n,o,u),o!==null&&(oi(o,e,u),z0(o,n,u)))}function j0(e,n,o){var u=si();Mo(e,n,o,u)}function Mo(e,n,o,u){var x={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(wl(e))U0(n,x);else{var C=e.alternate;if(e.lanes===0&&(C===null||C.lanes===0)&&(C=n.lastRenderedReducer,C!==null))try{var R=n.lastRenderedState,L=C(R,o);if(x.hasEagerState=!0,x.eagerState=L,l(L,R))return Fn(e,n,x,0),dn===null&&st(),!1}catch{}finally{}if(o=Qn(e,n,x,u),o!==null)return oi(o,e,u),z0(o,n,u),!0}return!1}function eu(e,n,o,u){if(u={lane:2,revertLane:Mu(),action:u,hasEagerState:!1,eagerState:null,next:null},wl(e)){if(n)throw Error(g(479))}else n=Qn(e,o,u,2),n!==null&&oi(n,e,2)}function wl(e){var n=e.alternate;return e===St||n!==null&&n===St}function U0(e,n){Xs=bl=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function z0(e,n,o){if((o&4194048)!==0){var u=n.lanes;u&=e.pendingLanes,o|=u,n.lanes=o,ir(e,o)}}var Tl={readContext:Sr,use:Cl,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useLayoutEffect:Hn,useInsertionEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useSyncExternalStore:Hn,useId:Hn,useHostTransitionStatus:Hn,useFormState:Hn,useActionState:Hn,useOptimistic:Hn,useMemoCache:Hn,useCacheRefresh:Hn},F0={readContext:Sr,use:Cl,useCallback:function(e,n){return Gr().memoizedState=[e,n===void 0?null:n],e},useContext:Sr,useEffect:S0,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,Sl(4194308,4,N0.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Sl(4194308,4,e,n)},useInsertionEffect:function(e,n){Sl(4,2,e,n)},useMemo:function(e,n){var o=Gr();n=n===void 0?null:n;var u=e();if(Os){Ln(!0);try{e()}finally{Ln(!1)}}return o.memoizedState=[u,n],u},useReducer:function(e,n,o){var u=Gr();if(o!==void 0){var x=o(n);if(Os){Ln(!0);try{o(n)}finally{Ln(!1)}}}else x=n;return u.memoizedState=u.baseState=x,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:x},u.queue=e,e=e.dispatch=Wg.bind(null,St,e),[u.memoizedState,e]},useRef:function(e){var n=Gr();return e={current:e},n.memoizedState=e},useState:function(e){e=Kc(e);var n=e.queue,o=j0.bind(null,St,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:Zc,useDeferredValue:function(e,n){var o=Gr();return Wc(o,e,n)},useTransition:function(){var e=Kc(!1);return e=D0.bind(null,St,e.queue,!0,!1),Gr().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var u=St,x=Gr();if(Kt){if(o===void 0)throw Error(g(407));o=o()}else{if(o=n(),dn===null)throw Error(g(349));(Ht&124)!==0||l0(u,n,o)}x.memoizedState=o;var C={value:o,getSnapshot:n};return x.queue=C,S0(u0.bind(null,u,C,e),[e]),u.flags|=2048,Ks(9,Al(),c0.bind(null,u,C,o,n),null),o},useId:function(){var e=Gr(),n=dn.identifierPrefix;if(Kt){var o=Sa,u=Aa;o=(u&~(1<<32-jt(u)-1)).toString(32)+o,n="«"+n+"R"+o,o=vl++,0<o&&(n+="H"+o.toString(32)),n+="»"}else o=Yg++,n="«"+n+"r"+o.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:$c,useFormState:b0,useActionState:b0,useOptimistic:function(e){var n=Gr();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=eu.bind(null,St,!0,o),o.dispatch=n,[e,n]},useMemoCache:Yc,useCacheRefresh:function(){return Gr().memoizedState=Zg.bind(null,St)}},H0={readContext:Sr,use:Cl,useCallback:O0,useContext:Sr,useEffect:w0,useImperativeHandle:R0,useInsertionEffect:T0,useLayoutEffect:_0,useMemo:I0,useReducer:El,useRef:A0,useState:function(){return El(_a)},useDebugValue:Zc,useDeferredValue:function(e,n){var o=Wn();return M0(o,an.memoizedState,e,n)},useTransition:function(){var e=El(_a)[0],n=Wn().memoizedState;return[typeof e=="boolean"?e:Oo(e),n]},useSyncExternalStore:o0,useId:L0,useHostTransitionStatus:$c,useFormState:v0,useActionState:v0,useOptimistic:function(e,n){var o=Wn();return d0(o,an,e,n)},useMemoCache:Yc,useCacheRefresh:P0},Jg={readContext:Sr,use:Cl,useCallback:O0,useContext:Sr,useEffect:w0,useImperativeHandle:R0,useInsertionEffect:T0,useLayoutEffect:_0,useMemo:I0,useReducer:qc,useRef:A0,useState:function(){return qc(_a)},useDebugValue:Zc,useDeferredValue:function(e,n){var o=Wn();return an===null?Wc(o,e,n):M0(o,an.memoizedState,e,n)},useTransition:function(){var e=qc(_a)[0],n=Wn().memoizedState;return[typeof e=="boolean"?e:Oo(e),n]},useSyncExternalStore:o0,useId:L0,useHostTransitionStatus:$c,useFormState:E0,useActionState:E0,useOptimistic:function(e,n){var o=Wn();return an!==null?d0(o,an,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Yc,useCacheRefresh:P0},Qs=null,Do=0;function _l(e){var n=Do;return Do+=1,Qs===null&&(Qs=[]),$f(Qs,e,n)}function ko(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Nl(e,n){throw n.$$typeof===D?Error(g(525)):(e=Object.prototype.toString.call(n),Error(g(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function G0(e){var n=e._init;return n(e._payload)}function V0(e){function n(Z,q){if(e){var J=Z.deletions;J===null?(Z.deletions=[q],Z.flags|=16):J.push(q)}}function o(Z,q){if(!e)return null;for(;q!==null;)n(Z,q),q=q.sibling;return null}function u(Z){for(var q=new Map;Z!==null;)Z.key!==null?q.set(Z.key,Z):q.set(Z.index,Z),Z=Z.sibling;return q}function x(Z,q){return Z=Ea(Z,q),Z.index=0,Z.sibling=null,Z}function C(Z,q,J){return Z.index=J,e?(J=Z.alternate,J!==null?(J=J.index,J<q?(Z.flags|=67108866,q):J):(Z.flags|=67108866,q)):(Z.flags|=1048576,q)}function R(Z){return e&&Z.alternate===null&&(Z.flags|=67108866),Z}function L(Z,q,J,pe){return q===null||q.tag!==6?(q=Cc(J,Z.mode,pe),q.return=Z,q):(q=x(q,J),q.return=Z,q)}function G(Z,q,J,pe){var Xe=J.type;return Xe===ce?he(Z,q,J.props.children,pe,J.key):q!==null&&(q.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===Je&&G0(Xe)===q.type)?(q=x(q,J.props),ko(q,J),q.return=Z,q):(q=ul(J.type,J.key,J.props,null,Z.mode,pe),ko(q,J),q.return=Z,q)}function ee(Z,q,J,pe){return q===null||q.tag!==4||q.stateNode.containerInfo!==J.containerInfo||q.stateNode.implementation!==J.implementation?(q=Ec(J,Z.mode,pe),q.return=Z,q):(q=x(q,J.children||[]),q.return=Z,q)}function he(Z,q,J,pe,Xe){return q===null||q.tag!==7?(q=Es(J,Z.mode,pe,Xe),q.return=Z,q):(q=x(q,J),q.return=Z,q)}function xe(Z,q,J){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Cc(""+q,Z.mode,J),q.return=Z,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case X:return J=ul(q.type,q.key,q.props,null,Z.mode,J),ko(J,q),J.return=Z,J;case te:return q=Ec(q,Z.mode,J),q.return=Z,q;case Je:var pe=q._init;return q=pe(q._payload),xe(Z,q,J)}if(re(q)||De(q))return q=Es(q,Z.mode,J,null),q.return=Z,q;if(typeof q.then=="function")return xe(Z,_l(q),J);if(q.$$typeof===Oe)return xe(Z,gl(Z,q),J);Nl(Z,q)}return null}function ae(Z,q,J,pe){var Xe=q!==null?q.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Xe!==null?null:L(Z,q,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case X:return J.key===Xe?G(Z,q,J,pe):null;case te:return J.key===Xe?ee(Z,q,J,pe):null;case Je:return Xe=J._init,J=Xe(J._payload),ae(Z,q,J,pe)}if(re(J)||De(J))return Xe!==null?null:he(Z,q,J,pe,null);if(typeof J.then=="function")return ae(Z,q,_l(J),pe);if(J.$$typeof===Oe)return ae(Z,q,gl(Z,J),pe);Nl(Z,J)}return null}function se(Z,q,J,pe,Xe){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Z=Z.get(J)||null,L(q,Z,""+pe,Xe);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case X:return Z=Z.get(pe.key===null?J:pe.key)||null,G(q,Z,pe,Xe);case te:return Z=Z.get(pe.key===null?J:pe.key)||null,ee(q,Z,pe,Xe);case Je:var _t=pe._init;return pe=_t(pe._payload),se(Z,q,J,pe,Xe)}if(re(pe)||De(pe))return Z=Z.get(J)||null,he(q,Z,pe,Xe,null);if(typeof pe.then=="function")return se(Z,q,J,_l(pe),Xe);if(pe.$$typeof===Oe)return se(Z,q,J,gl(q,pe),Xe);Nl(q,pe)}return null}function ot(Z,q,J,pe){for(var Xe=null,_t=null,$e=q,it=q=0,ur=null;$e!==null&&it<J.length;it++){$e.index>it?(ur=$e,$e=null):ur=$e.sibling;var Xt=ae(Z,$e,J[it],pe);if(Xt===null){$e===null&&($e=ur);break}e&&$e&&Xt.alternate===null&&n(Z,$e),q=C(Xt,q,it),_t===null?Xe=Xt:_t.sibling=Xt,_t=Xt,$e=ur}if(it===J.length)return o(Z,$e),Kt&&Ss(Z,it),Xe;if($e===null){for(;it<J.length;it++)$e=xe(Z,J[it],pe),$e!==null&&(q=C($e,q,it),_t===null?Xe=$e:_t.sibling=$e,_t=$e);return Kt&&Ss(Z,it),Xe}for($e=u($e);it<J.length;it++)ur=se($e,Z,it,J[it],pe),ur!==null&&(e&&ur.alternate!==null&&$e.delete(ur.key===null?it:ur.key),q=C(ur,q,it),_t===null?Xe=ur:_t.sibling=ur,_t=ur);return e&&$e.forEach(function(fs){return n(Z,fs)}),Kt&&Ss(Z,it),Xe}function rt(Z,q,J,pe){if(J==null)throw Error(g(151));for(var Xe=null,_t=null,$e=q,it=q=0,ur=null,Xt=J.next();$e!==null&&!Xt.done;it++,Xt=J.next()){$e.index>it?(ur=$e,$e=null):ur=$e.sibling;var fs=ae(Z,$e,Xt.value,pe);if(fs===null){$e===null&&($e=ur);break}e&&$e&&fs.alternate===null&&n(Z,$e),q=C(fs,q,it),_t===null?Xe=fs:_t.sibling=fs,_t=fs,$e=ur}if(Xt.done)return o(Z,$e),Kt&&Ss(Z,it),Xe;if($e===null){for(;!Xt.done;it++,Xt=J.next())Xt=xe(Z,Xt.value,pe),Xt!==null&&(q=C(Xt,q,it),_t===null?Xe=Xt:_t.sibling=Xt,_t=Xt);return Kt&&Ss(Z,it),Xe}for($e=u($e);!Xt.done;it++,Xt=J.next())Xt=se($e,Z,it,Xt.value,pe),Xt!==null&&(e&&Xt.alternate!==null&&$e.delete(Xt.key===null?it:Xt.key),q=C(Xt,q,it),_t===null?Xe=Xt:_t.sibling=Xt,_t=Xt);return e&&$e.forEach(function($p){return n(Z,$p)}),Kt&&Ss(Z,it),Xe}function on(Z,q,J,pe){if(typeof J=="object"&&J!==null&&J.type===ce&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case X:e:{for(var Xe=J.key;q!==null;){if(q.key===Xe){if(Xe=J.type,Xe===ce){if(q.tag===7){o(Z,q.sibling),pe=x(q,J.props.children),pe.return=Z,Z=pe;break e}}else if(q.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===Je&&G0(Xe)===q.type){o(Z,q.sibling),pe=x(q,J.props),ko(pe,J),pe.return=Z,Z=pe;break e}o(Z,q);break}else n(Z,q);q=q.sibling}J.type===ce?(pe=Es(J.props.children,Z.mode,pe,J.key),pe.return=Z,Z=pe):(pe=ul(J.type,J.key,J.props,null,Z.mode,pe),ko(pe,J),pe.return=Z,Z=pe)}return R(Z);case te:e:{for(Xe=J.key;q!==null;){if(q.key===Xe)if(q.tag===4&&q.stateNode.containerInfo===J.containerInfo&&q.stateNode.implementation===J.implementation){o(Z,q.sibling),pe=x(q,J.children||[]),pe.return=Z,Z=pe;break e}else{o(Z,q);break}else n(Z,q);q=q.sibling}pe=Ec(J,Z.mode,pe),pe.return=Z,Z=pe}return R(Z);case Je:return Xe=J._init,J=Xe(J._payload),on(Z,q,J,pe)}if(re(J))return ot(Z,q,J,pe);if(De(J)){if(Xe=De(J),typeof Xe!="function")throw Error(g(150));return J=Xe.call(J),rt(Z,q,J,pe)}if(typeof J.then=="function")return on(Z,q,_l(J),pe);if(J.$$typeof===Oe)return on(Z,q,gl(Z,J),pe);Nl(Z,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,q!==null&&q.tag===6?(o(Z,q.sibling),pe=x(q,J),pe.return=Z,Z=pe):(o(Z,q),pe=Cc(J,Z.mode,pe),pe.return=Z,Z=pe),R(Z)):o(Z,q)}return function(Z,q,J,pe){try{Do=0;var Xe=on(Z,q,J,pe);return Qs=null,Xe}catch($e){if($e===So||$e===ml)throw $e;var _t=ni(29,$e,null,Z.mode);return _t.lanes=pe,_t.return=Z,_t}finally{}}}var Zs=V0(!0),Y0=V0(!1),Ai=me(null),oa=null;function Za(e){var n=e.alternate;_e(rr,rr.current&1),_e(Ai,e),oa===null&&(n===null||Ys.current!==null||n.memoizedState!==null)&&(oa=e)}function X0(e){if(e.tag===22){if(_e(rr,rr.current),_e(Ai,e),oa===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(oa=e)}}else Wa()}function Wa(){_e(rr,rr.current),_e(Ai,Ai.current)}function Na(e){we(Ai),oa===e&&(oa=null),we(rr)}var rr=me(0);function Rl(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Vu(o)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function tu(e,n,o,u){n=e.memoizedState,o=o(u,n),o=o==null?n:I({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var nu={enqueueSetState:function(e,n,o){e=e._reactInternals;var u=si(),x=qa(u);x.payload=n,o!=null&&(x.callback=o),n=Ka(e,x,u),n!==null&&(oi(n,e,u),To(n,e,u))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var u=si(),x=qa(u);x.tag=1,x.payload=n,o!=null&&(x.callback=o),n=Ka(e,x,u),n!==null&&(oi(n,e,u),To(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=si(),u=qa(o);u.tag=2,n!=null&&(u.callback=n),n=Ka(e,u,o),n!==null&&(oi(n,e,o),To(n,e,o))}};function q0(e,n,o,u,x,C,R){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,C,R):n.prototype&&n.prototype.isPureReactComponent?!r(o,u)||!r(x,C):!0}function K0(e,n,o,u){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,u),n.state!==e&&nu.enqueueReplaceState(n,n.state,null)}function Is(e,n){var o=n;if("ref"in n){o={};for(var u in n)u!=="ref"&&(o[u]=n[u])}if(e=e.defaultProps){o===n&&(o=I({},o));for(var x in e)o[x]===void 0&&(o[x]=e[x])}return o}var Ol=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Q0(e){Ol(e)}function Z0(e){console.error(e)}function W0(e){Ol(e)}function Il(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function J0(e,n,o){try{var u=e.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function ru(e,n,o){return o=qa(o),o.tag=3,o.payload={element:null},o.callback=function(){Il(e,n)},o}function $0(e){return e=qa(e),e.tag=3,e}function eh(e,n,o,u){var x=o.type.getDerivedStateFromError;if(typeof x=="function"){var C=u.value;e.payload=function(){return x(C)},e.callback=function(){J0(n,o,u)}}var R=o.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(e.callback=function(){J0(n,o,u),typeof x!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var L=u.stack;this.componentDidCatch(u.value,{componentStack:L!==null?L:""})})}function $g(e,n,o,u,x){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=o.alternate,n!==null&&Co(n,o,x,!0),o=Ai.current,o!==null){switch(o.tag){case 13:return oa===null?_u():o.alternate===null&&Dn===0&&(Dn=3),o.flags&=-257,o.flags|=65536,o.lanes=x,u===Mc?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([u]):n.add(u),Ru(e,u,x)),!1;case 22:return o.flags|=65536,u===Mc?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([u]):o.add(u)),Ru(e,u,x)),!1}throw Error(g(435,o.tag))}return Ru(e,u,x),_u(),!1}if(Kt)return n=Ai.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=x,u!==wc&&(e=Error(g(422),{cause:u}),vo(et(e,o)))):(u!==wc&&(n=Error(g(423),{cause:u}),vo(et(n,o))),e=e.current.alternate,e.flags|=65536,x&=-x,e.lanes|=x,u=et(u,o),x=ru(e.stateNode,u,x),Bc(e,x),Dn!==4&&(Dn=2)),!1;var C=Error(g(520),{cause:u});if(C=et(C,o),Fo===null?Fo=[C]:Fo.push(C),Dn!==4&&(Dn=2),n===null)return!0;u=et(u,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=x&-x,o.lanes|=e,e=ru(o.stateNode,u,e),Bc(o,e),!1;case 1:if(n=o.type,C=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(rs===null||!rs.has(C))))return o.flags|=65536,x&=-x,o.lanes|=x,x=$0(x),eh(x,e,o,u),Bc(o,x),!1}o=o.return}while(o!==null);return!1}var th=Error(g(461)),lr=!1;function gr(e,n,o,u){n.child=e===null?Y0(n,null,o,u):Zs(n,e.child,o,u)}function nh(e,n,o,u,x){o=o.render;var C=n.ref;if("ref"in u){var R={};for(var L in u)L!=="ref"&&(R[L]=u[L])}else R=u;return Ns(n),u=zc(e,n,o,R,C,x),L=Fc(),e!==null&&!lr?(Hc(e,n,x),Ra(e,n,x)):(Kt&&L&&Ac(n),n.flags|=1,gr(e,n,u,x),n.child)}function rh(e,n,o,u,x){if(e===null){var C=o.type;return typeof C=="function"&&!vc(C)&&C.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=C,ih(e,n,C,u,x)):(e=ul(o.type,null,u,n,n.mode,x),e.ref=n.ref,e.return=n,n.child=e)}if(C=e.child,!fu(e,x)){var R=C.memoizedProps;if(o=o.compare,o=o!==null?o:r,o(R,u)&&e.ref===n.ref)return Ra(e,n,x)}return n.flags|=1,e=Ea(C,u),e.ref=n.ref,e.return=n,n.child=e}function ih(e,n,o,u,x){if(e!==null){var C=e.memoizedProps;if(r(C,u)&&e.ref===n.ref)if(lr=!1,n.pendingProps=u=C,fu(e,x))(e.flags&131072)!==0&&(lr=!0);else return n.lanes=e.lanes,Ra(e,n,x)}return iu(e,n,o,u,x)}function ah(e,n,o){var u=n.pendingProps,x=u.children,C=e!==null?e.memoizedState:null;if(u.mode==="hidden"){if((n.flags&128)!==0){if(u=C!==null?C.baseLanes|o:o,e!==null){for(x=n.child=e.child,C=0;x!==null;)C=C|x.lanes|x.childLanes,x=x.sibling;n.childLanes=C&~u}else n.childLanes=0,n.child=null;return sh(e,n,u,o)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&pl(n,C!==null?C.cachePool:null),C!==null?i0(n,C):Pc(),X0(n);else return n.lanes=n.childLanes=536870912,sh(e,n,C!==null?C.baseLanes|o:o,o)}else C!==null?(pl(n,C.cachePool),i0(n,C),Wa(),n.memoizedState=null):(e!==null&&pl(n,null),Pc(),Wa());return gr(e,n,x,o),n.child}function sh(e,n,o,u){var x=Ic();return x=x===null?null:{parent:nr._currentValue,pool:x},n.memoizedState={baseLanes:o,cachePool:x},e!==null&&pl(n,null),Pc(),X0(n),e!==null&&Co(e,n,u,!0),null}function Ml(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(g(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function iu(e,n,o,u,x){return Ns(n),o=zc(e,n,o,u,void 0,x),u=Fc(),e!==null&&!lr?(Hc(e,n,x),Ra(e,n,x)):(Kt&&u&&Ac(n),n.flags|=1,gr(e,n,o,x),n.child)}function oh(e,n,o,u,x,C){return Ns(n),n.updateQueue=null,o=s0(n,u,o,x),a0(e),u=Fc(),e!==null&&!lr?(Hc(e,n,C),Ra(e,n,C)):(Kt&&u&&Ac(n),n.flags|=1,gr(e,n,o,C),n.child)}function lh(e,n,o,u,x){if(Ns(n),n.stateNode===null){var C=aa,R=o.contextType;typeof R=="object"&&R!==null&&(C=Sr(R)),C=new o(u,C),n.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=nu,n.stateNode=C,C._reactInternals=n,C=n.stateNode,C.props=u,C.state=n.memoizedState,C.refs={},Dc(n),R=o.contextType,C.context=typeof R=="object"&&R!==null?Sr(R):aa,C.state=n.memoizedState,R=o.getDerivedStateFromProps,typeof R=="function"&&(tu(n,o,R,u),C.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(R=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),R!==C.state&&nu.enqueueReplaceState(C,C.state,null),No(n,u,C,x),_o(),C.state=n.memoizedState),typeof C.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(e===null){C=n.stateNode;var L=n.memoizedProps,G=Is(o,L);C.props=G;var ee=C.context,he=o.contextType;R=aa,typeof he=="object"&&he!==null&&(R=Sr(he));var xe=o.getDerivedStateFromProps;he=typeof xe=="function"||typeof C.getSnapshotBeforeUpdate=="function",L=n.pendingProps!==L,he||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(L||ee!==R)&&K0(n,C,u,R),Xa=!1;var ae=n.memoizedState;C.state=ae,No(n,u,C,x),_o(),ee=n.memoizedState,L||ae!==ee||Xa?(typeof xe=="function"&&(tu(n,o,xe,u),ee=n.memoizedState),(G=Xa||q0(n,o,G,u,ae,ee,R))?(he||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(n.flags|=4194308)):(typeof C.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=ee),C.props=u,C.state=ee,C.context=R,u=G):(typeof C.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{C=n.stateNode,kc(e,n),R=n.memoizedProps,he=Is(o,R),C.props=he,xe=n.pendingProps,ae=C.context,ee=o.contextType,G=aa,typeof ee=="object"&&ee!==null&&(G=Sr(ee)),L=o.getDerivedStateFromProps,(ee=typeof L=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(R!==xe||ae!==G)&&K0(n,C,u,G),Xa=!1,ae=n.memoizedState,C.state=ae,No(n,u,C,x),_o();var se=n.memoizedState;R!==xe||ae!==se||Xa||e!==null&&e.dependencies!==null&&dl(e.dependencies)?(typeof L=="function"&&(tu(n,o,L,u),se=n.memoizedState),(he=Xa||q0(n,o,he,u,ae,se,G)||e!==null&&e.dependencies!==null&&dl(e.dependencies))?(ee||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(u,se,G),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(u,se,G)),typeof C.componentDidUpdate=="function"&&(n.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof C.componentDidUpdate!="function"||R===e.memoizedProps&&ae===e.memoizedState||(n.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&ae===e.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=se),C.props=u,C.state=se,C.context=G,u=he):(typeof C.componentDidUpdate!="function"||R===e.memoizedProps&&ae===e.memoizedState||(n.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||R===e.memoizedProps&&ae===e.memoizedState||(n.flags|=1024),u=!1)}return C=u,Ml(e,n),u=(n.flags&128)!==0,C||u?(C=n.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:C.render(),n.flags|=1,e!==null&&u?(n.child=Zs(n,e.child,null,x),n.child=Zs(n,null,o,x)):gr(e,n,o,x),n.memoizedState=C.state,e=n.child):e=Ra(e,n,x),e}function ch(e,n,o,u){return bo(),n.flags|=256,gr(e,n,o,u),n.child}var au={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function su(e){return{baseLanes:e,cachePool:Zf()}}function ou(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=Si),e}function uh(e,n,o){var u=n.pendingProps,x=!1,C=(n.flags&128)!==0,R;if((R=C)||(R=e!==null&&e.memoizedState===null?!1:(rr.current&2)!==0),R&&(x=!0,n.flags&=-129),R=(n.flags&32)!==0,n.flags&=-33,e===null){if(Kt){if(x?Za(n):Wa(),Kt){var L=Mn,G;if(G=L){e:{for(G=L,L=sa;G.nodeType!==8;){if(!L){L=null;break e}if(G=Vi(G.nextSibling),G===null){L=null;break e}}L=G}L!==null?(n.memoizedState={dehydrated:L,treeContext:As!==null?{id:Aa,overflow:Sa}:null,retryLane:536870912,hydrationErrors:null},G=ni(18,null,null,0),G.stateNode=L,G.return=n,n.child=G,Dr=n,Mn=null,G=!0):G=!1}G||Ts(n)}if(L=n.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return Vu(L)?n.lanes=32:n.lanes=536870912,null;Na(n)}return L=u.children,u=u.fallback,x?(Wa(),x=n.mode,L=Dl({mode:"hidden",children:L},x),u=Es(u,x,o,null),L.return=n,u.return=n,L.sibling=u,n.child=L,x=n.child,x.memoizedState=su(o),x.childLanes=ou(e,R,o),n.memoizedState=au,u):(Za(n),lu(n,L))}if(G=e.memoizedState,G!==null&&(L=G.dehydrated,L!==null)){if(C)n.flags&256?(Za(n),n.flags&=-257,n=cu(e,n,o)):n.memoizedState!==null?(Wa(),n.child=e.child,n.flags|=128,n=null):(Wa(),x=u.fallback,L=n.mode,u=Dl({mode:"visible",children:u.children},L),x=Es(x,L,o,null),x.flags|=2,u.return=n,x.return=n,u.sibling=x,n.child=u,Zs(n,e.child,null,o),u=n.child,u.memoizedState=su(o),u.childLanes=ou(e,R,o),n.memoizedState=au,n=x);else if(Za(n),Vu(L)){if(R=L.nextSibling&&L.nextSibling.dataset,R)var ee=R.dgst;R=ee,u=Error(g(419)),u.stack="",u.digest=R,vo({value:u,source:null,stack:null}),n=cu(e,n,o)}else if(lr||Co(e,n,o,!1),R=(o&e.childLanes)!==0,lr||R){if(R=dn,R!==null&&(u=o&-o,u=(u&42)!==0?1:ga(u),u=(u&(R.suspendedLanes|o))!==0?0:u,u!==0&&u!==G.retryLane))throw G.retryLane=u,Hi(e,u),oi(R,e,u),th;L.data==="$?"||_u(),n=cu(e,n,o)}else L.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=G.treeContext,Mn=Vi(L.nextSibling),Dr=n,Kt=!0,ws=null,sa=!1,e!==null&&(Ci[Ei++]=Aa,Ci[Ei++]=Sa,Ci[Ei++]=As,Aa=e.id,Sa=e.overflow,As=n),n=lu(n,u.children),n.flags|=4096);return n}return x?(Wa(),x=u.fallback,L=n.mode,G=e.child,ee=G.sibling,u=Ea(G,{mode:"hidden",children:u.children}),u.subtreeFlags=G.subtreeFlags&65011712,ee!==null?x=Ea(ee,x):(x=Es(x,L,o,null),x.flags|=2),x.return=n,u.return=n,u.sibling=x,n.child=u,u=x,x=n.child,L=e.child.memoizedState,L===null?L=su(o):(G=L.cachePool,G!==null?(ee=nr._currentValue,G=G.parent!==ee?{parent:ee,pool:ee}:G):G=Zf(),L={baseLanes:L.baseLanes|o,cachePool:G}),x.memoizedState=L,x.childLanes=ou(e,R,o),n.memoizedState=au,u):(Za(n),o=e.child,e=o.sibling,o=Ea(o,{mode:"visible",children:u.children}),o.return=n,o.sibling=null,e!==null&&(R=n.deletions,R===null?(n.deletions=[e],n.flags|=16):R.push(e)),n.child=o,n.memoizedState=null,o)}function lu(e,n){return n=Dl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Dl(e,n){return e=ni(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function cu(e,n,o){return Zs(n,e.child,null,o),e=lu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function fh(e,n,o){e.lanes|=n;var u=e.alternate;u!==null&&(u.lanes|=n),_c(e.return,n,o)}function uu(e,n,o,u,x){var C=e.memoizedState;C===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:x}:(C.isBackwards=n,C.rendering=null,C.renderingStartTime=0,C.last=u,C.tail=o,C.tailMode=x)}function hh(e,n,o){var u=n.pendingProps,x=u.revealOrder,C=u.tail;if(gr(e,n,u.children,o),u=rr.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fh(e,o,n);else if(e.tag===19)fh(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}switch(_e(rr,u),x){case"forwards":for(o=n.child,x=null;o!==null;)e=o.alternate,e!==null&&Rl(e)===null&&(x=o),o=o.sibling;o=x,o===null?(x=n.child,n.child=null):(x=o.sibling,o.sibling=null),uu(n,!1,x,o,C);break;case"backwards":for(o=null,x=n.child,n.child=null;x!==null;){if(e=x.alternate,e!==null&&Rl(e)===null){n.child=x;break}e=x.sibling,x.sibling=o,o=x,x=e}uu(n,!0,o,null,C);break;case"together":uu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ra(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),ns|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(Co(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(g(153));if(n.child!==null){for(e=n.child,o=Ea(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=Ea(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function fu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&dl(e)))}function ep(e,n,o){switch(n.tag){case 3:ht(n,n.stateNode.containerInfo),Ya(n,nr,e.memoizedState.cache),bo();break;case 27:case 5:fi(n);break;case 4:ht(n,n.stateNode.containerInfo);break;case 10:Ya(n,n.type,n.memoizedProps.value);break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(Za(n),n.flags|=128,null):(o&n.child.childLanes)!==0?uh(e,n,o):(Za(n),e=Ra(e,n,o),e!==null?e.sibling:null);Za(n);break;case 19:var x=(e.flags&128)!==0;if(u=(o&n.childLanes)!==0,u||(Co(e,n,o,!1),u=(o&n.childLanes)!==0),x){if(u)return hh(e,n,o);n.flags|=128}if(x=n.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),_e(rr,rr.current),u)break;return null;case 22:case 23:return n.lanes=0,ah(e,n,o);case 24:Ya(n,nr,e.memoizedState.cache)}return Ra(e,n,o)}function dh(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)lr=!0;else{if(!fu(e,o)&&(n.flags&128)===0)return lr=!1,ep(e,n,o);lr=(e.flags&131072)!==0}else lr=!1,Kt&&(n.flags&1048576)!==0&&Gf(n,hl,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var u=n.elementType,x=u._init;if(u=x(u._payload),n.type=u,typeof u=="function")vc(u)?(e=Is(u,e),n.tag=1,n=lh(null,n,u,e,o)):(n.tag=0,n=iu(null,n,u,e,o));else{if(u!=null){if(x=u.$$typeof,x===Ge){n.tag=11,n=nh(null,n,u,e,o);break e}else if(x===fe){n.tag=14,n=rh(null,n,u,e,o);break e}}throw n=It(u)||u,Error(g(306,n,""))}}return n;case 0:return iu(e,n,n.type,n.pendingProps,o);case 1:return u=n.type,x=Is(u,n.pendingProps),lh(e,n,u,x,o);case 3:e:{if(ht(n,n.stateNode.containerInfo),e===null)throw Error(g(387));u=n.pendingProps;var C=n.memoizedState;x=C.element,kc(e,n),No(n,u,null,o);var R=n.memoizedState;if(u=R.cache,Ya(n,nr,u),u!==C.cache&&Nc(n,[nr],o,!0),_o(),u=R.element,C.isDehydrated)if(C={element:u,isDehydrated:!1,cache:R.cache},n.updateQueue.baseState=C,n.memoizedState=C,n.flags&256){n=ch(e,n,u,o);break e}else if(u!==x){x=et(Error(g(424)),n),vo(x),n=ch(e,n,u,o);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Mn=Vi(e.firstChild),Dr=n,Kt=!0,ws=null,sa=!0,o=Y0(n,null,u,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(bo(),u===x){n=Ra(e,n,o);break e}gr(e,n,u,o)}n=n.child}return n;case 26:return Ml(e,n),e===null?(o=x1(n.type,null,n.pendingProps,null))?n.memoizedState=o:Kt||(o=n.type,e=n.pendingProps,u=ql(ve.current).createElement(o),u[Sn]=n,u[lt]=e,mr(u,o,e),Tt(u),n.stateNode=u):n.memoizedState=x1(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return fi(n),e===null&&Kt&&(u=n.stateNode=g1(n.type,n.pendingProps,ve.current),Dr=n,sa=!0,x=Mn,ss(n.type)?(Yu=x,Mn=Vi(u.firstChild)):Mn=x),gr(e,n,n.pendingProps.children,o),Ml(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Kt&&((x=u=Mn)&&(u=Np(u,n.type,n.pendingProps,sa),u!==null?(n.stateNode=u,Dr=n,Mn=Vi(u.firstChild),sa=!1,x=!0):x=!1),x||Ts(n)),fi(n),x=n.type,C=n.pendingProps,R=e!==null?e.memoizedProps:null,u=C.children,Fu(x,C)?u=null:R!==null&&Fu(x,R)&&(n.flags|=32),n.memoizedState!==null&&(x=zc(e,n,Xg,null,null,o),Zo._currentValue=x),Ml(e,n),gr(e,n,u,o),n.child;case 6:return e===null&&Kt&&((e=o=Mn)&&(o=Rp(o,n.pendingProps,sa),o!==null?(n.stateNode=o,Dr=n,Mn=null,e=!0):e=!1),e||Ts(n)),null;case 13:return uh(e,n,o);case 4:return ht(n,n.stateNode.containerInfo),u=n.pendingProps,e===null?n.child=Zs(n,null,u,o):gr(e,n,u,o),n.child;case 11:return nh(e,n,n.type,n.pendingProps,o);case 7:return gr(e,n,n.pendingProps,o),n.child;case 8:return gr(e,n,n.pendingProps.children,o),n.child;case 12:return gr(e,n,n.pendingProps.children,o),n.child;case 10:return u=n.pendingProps,Ya(n,n.type,u.value),gr(e,n,u.children,o),n.child;case 9:return x=n.type._context,u=n.pendingProps.children,Ns(n),x=Sr(x),u=u(x),n.flags|=1,gr(e,n,u,o),n.child;case 14:return rh(e,n,n.type,n.pendingProps,o);case 15:return ih(e,n,n.type,n.pendingProps,o);case 19:return hh(e,n,o);case 31:return u=n.pendingProps,o=n.mode,u={mode:u.mode,children:u.children},e===null?(o=Dl(u,o),o.ref=n.ref,n.child=o,o.return=n,n=o):(o=Ea(e.child,u),o.ref=n.ref,n.child=o,o.return=n,n=o),n;case 22:return ah(e,n,o);case 24:return Ns(n),u=Sr(nr),e===null?(x=Ic(),x===null&&(x=dn,C=Rc(),x.pooledCache=C,C.refCount++,C!==null&&(x.pooledCacheLanes|=o),x=C),n.memoizedState={parent:u,cache:x},Dc(n),Ya(n,nr,x)):((e.lanes&o)!==0&&(kc(e,n),No(n,null,null,o),_o()),x=e.memoizedState,C=n.memoizedState,x.parent!==u?(x={parent:u,cache:u},n.memoizedState=x,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=x),Ya(n,nr,u)):(u=C.cache,Ya(n,nr,u),u!==x.cache&&Nc(n,[nr],o,!0))),gr(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(g(156,n.tag))}function Oa(e){e.flags|=4}function gh(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!E1(n)){if(n=Ai.current,n!==null&&((Ht&4194048)===Ht?oa!==null:(Ht&62914560)!==Ht&&(Ht&536870912)===0||n!==oa))throw wo=Mc,Wf;e.flags|=8192}}function kl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ie():536870912,e.lanes|=n,eo|=n)}function Bo(e,n){if(!Kt)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function _n(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,u=0;if(n)for(var x=e.child;x!==null;)o|=x.lanes|x.childLanes,u|=x.subtreeFlags&65011712,u|=x.flags&65011712,x.return=e,x=x.sibling;else for(x=e.child;x!==null;)o|=x.lanes|x.childLanes,u|=x.subtreeFlags,u|=x.flags,x.return=e,x=x.sibling;return e.subtreeFlags|=u,e.childLanes=o,n}function tp(e,n,o){var u=n.pendingProps;switch(Sc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(n),null;case 1:return _n(n),null;case 3:return o=n.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),Ta(nr),Fe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(yo(n)?Oa(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xf())),_n(n),null;case 26:return o=n.memoizedState,e===null?(Oa(n),o!==null?(_n(n),gh(n,o)):(_n(n),n.flags&=-16777217)):o?o!==e.memoizedState?(Oa(n),_n(n),gh(n,o)):(_n(n),n.flags&=-16777217):(e.memoizedProps!==u&&Oa(n),_n(n),n.flags&=-16777217),null;case 27:yn(n),o=ve.current;var x=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==u&&Oa(n);else{if(!u){if(n.stateNode===null)throw Error(g(166));return _n(n),null}e=ze.current,yo(n)?Vf(n):(e=g1(x,u,o),n.stateNode=e,Oa(n))}return _n(n),null;case 5:if(yn(n),o=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==u&&Oa(n);else{if(!u){if(n.stateNode===null)throw Error(g(166));return _n(n),null}if(e=ze.current,yo(n))Vf(n);else{switch(x=ql(ve.current),e){case 1:e=x.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:e=x.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":e=x.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":e=x.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":e=x.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof u.is=="string"?x.createElement("select",{is:u.is}):x.createElement("select"),u.multiple?e.multiple=!0:u.size&&(e.size=u.size);break;default:e=typeof u.is=="string"?x.createElement(o,{is:u.is}):x.createElement(o)}}e[Sn]=n,e[lt]=u;e:for(x=n.child;x!==null;){if(x.tag===5||x.tag===6)e.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===n)break e;for(;x.sibling===null;){if(x.return===null||x.return===n)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}n.stateNode=e;e:switch(mr(e,o,u),o){case"button":case"input":case"select":case"textarea":e=!!u.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Oa(n)}}return _n(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==u&&Oa(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(g(166));if(e=ve.current,yo(n)){if(e=n.stateNode,o=n.memoizedProps,u=null,x=Dr,x!==null)switch(x.tag){case 27:case 5:u=x.memoizedProps}e[Sn]=n,e=!!(e.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||o1(e.nodeValue,o)),e||Ts(n)}else e=ql(e).createTextNode(u),e[Sn]=n,n.stateNode=e}return _n(n),null;case 13:if(u=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(x=yo(n),u!==null&&u.dehydrated!==null){if(e===null){if(!x)throw Error(g(318));if(x=n.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(g(317));x[Sn]=n}else bo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;_n(n),x=!1}else x=Xf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=x),x=!0;if(!x)return n.flags&256?(Na(n),n):(Na(n),null)}if(Na(n),(n.flags&128)!==0)return n.lanes=o,n;if(o=u!==null,e=e!==null&&e.memoizedState!==null,o){u=n.child,x=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(x=u.alternate.memoizedState.cachePool.pool);var C=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(C=u.memoizedState.cachePool.pool),C!==x&&(u.flags|=2048)}return o!==e&&o&&(n.child.flags|=8192),kl(n,n.updateQueue),_n(n),null;case 4:return Fe(),e===null&&Lu(n.stateNode.containerInfo),_n(n),null;case 10:return Ta(n.type),_n(n),null;case 19:if(we(rr),x=n.memoizedState,x===null)return _n(n),null;if(u=(n.flags&128)!==0,C=x.rendering,C===null)if(u)Bo(x,!1);else{if(Dn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(C=Rl(e),C!==null){for(n.flags|=128,Bo(x,!1),e=C.updateQueue,n.updateQueue=e,kl(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)Hf(o,e),o=o.sibling;return _e(rr,rr.current&1|2),n.child}e=e.sibling}x.tail!==null&&Qt()>Pl&&(n.flags|=128,u=!0,Bo(x,!1),n.lanes=4194304)}else{if(!u)if(e=Rl(C),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,kl(n,e),Bo(x,!0),x.tail===null&&x.tailMode==="hidden"&&!C.alternate&&!Kt)return _n(n),null}else 2*Qt()-x.renderingStartTime>Pl&&o!==536870912&&(n.flags|=128,u=!0,Bo(x,!1),n.lanes=4194304);x.isBackwards?(C.sibling=n.child,n.child=C):(e=x.last,e!==null?e.sibling=C:n.child=C,x.last=C)}return x.tail!==null?(n=x.tail,x.rendering=n,x.tail=n.sibling,x.renderingStartTime=Qt(),n.sibling=null,e=rr.current,_e(rr,u?e&1|2:e&1),n):(_n(n),null);case 22:case 23:return Na(n),jc(),u=n.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(o&536870912)!==0&&(n.flags&128)===0&&(_n(n),n.subtreeFlags&6&&(n.flags|=8192)):_n(n),o=n.updateQueue,o!==null&&kl(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==o&&(n.flags|=2048),e!==null&&we(Rs),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ta(nr),_n(n),null;case 25:return null;case 30:return null}throw Error(g(156,n.tag))}function np(e,n){switch(Sc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ta(nr),Fe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return yn(n),null;case 13:if(Na(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(g(340));bo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return we(rr),null;case 4:return Fe(),null;case 10:return Ta(n.type),null;case 22:case 23:return Na(n),jc(),e!==null&&we(Rs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ta(nr),null;case 25:return null;default:return null}}function ph(e,n){switch(Sc(n),n.tag){case 3:Ta(nr),Fe();break;case 26:case 27:case 5:yn(n);break;case 4:Fe();break;case 13:Na(n);break;case 19:we(rr);break;case 10:Ta(n.type);break;case 22:case 23:Na(n),jc(),e!==null&&we(Rs);break;case 24:Ta(nr)}}function Lo(e,n){try{var o=n.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var x=u.next;o=x;do{if((o.tag&e)===e){u=void 0;var C=o.create,R=o.inst;u=C(),R.destroy=u}o=o.next}while(o!==x)}}catch(L){un(n,n.return,L)}}function Ja(e,n,o){try{var u=n.updateQueue,x=u!==null?u.lastEffect:null;if(x!==null){var C=x.next;u=C;do{if((u.tag&e)===e){var R=u.inst,L=R.destroy;if(L!==void 0){R.destroy=void 0,x=n;var G=o,ee=L;try{ee()}catch(he){un(x,G,he)}}}u=u.next}while(u!==C)}}catch(he){un(n,n.return,he)}}function mh(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{r0(n,o)}catch(u){un(e,e.return,u)}}}function xh(e,n,o){o.props=Is(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(u){un(e,n,u)}}function Po(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof o=="function"?e.refCleanup=o(u):o.current=u}}catch(x){un(e,n,x)}}function la(e,n){var o=e.ref,u=e.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(x){un(e,n,x)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(x){un(e,n,x)}else o.current=null}function yh(e){var n=e.type,o=e.memoizedProps,u=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(x){un(e,e.return,x)}}function hu(e,n,o){try{var u=e.stateNode;Ap(u,e.type,o,n),u[lt]=n}catch(x){un(e,e.return,x)}}function bh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ss(e.type)||e.tag===4}function du(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ss(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gu(e,n,o){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=Xl));else if(u!==4&&(u===27&&ss(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(gu(e,n,o),e=e.sibling;e!==null;)gu(e,n,o),e=e.sibling}function Bl(e,n,o){var u=e.tag;if(u===5||u===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(u!==4&&(u===27&&ss(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Bl(e,n,o),e=e.sibling;e!==null;)Bl(e,n,o),e=e.sibling}function vh(e){var n=e.stateNode,o=e.memoizedProps;try{for(var u=e.type,x=n.attributes;x.length;)n.removeAttributeNode(x[0]);mr(n,u,o),n[Sn]=e,n[lt]=o}catch(C){un(e,e.return,C)}}var Ia=!1,Gn=!1,pu=!1,Ch=typeof WeakSet=="function"?WeakSet:Set,cr=null;function rp(e,n){if(e=e.containerInfo,Uu=$l,e=m(e),b(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var x=u.anchorOffset,C=u.focusNode;u=u.focusOffset;try{o.nodeType,C.nodeType}catch{o=null;break e}var R=0,L=-1,G=-1,ee=0,he=0,xe=e,ae=null;t:for(;;){for(var se;xe!==o||x!==0&&xe.nodeType!==3||(L=R+x),xe!==C||u!==0&&xe.nodeType!==3||(G=R+u),xe.nodeType===3&&(R+=xe.nodeValue.length),(se=xe.firstChild)!==null;)ae=xe,xe=se;for(;;){if(xe===e)break t;if(ae===o&&++ee===x&&(L=R),ae===C&&++he===u&&(G=R),(se=xe.nextSibling)!==null)break;xe=ae,ae=xe.parentNode}xe=se}o=L===-1||G===-1?null:{start:L,end:G}}else o=null}o=o||{start:0,end:0}}else o=null;for(zu={focusedElem:e,selectionRange:o},$l=!1,cr=n;cr!==null;)if(n=cr,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,cr=e;else for(;cr!==null;){switch(n=cr,C=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&C!==null){e=void 0,o=n,x=C.memoizedProps,C=C.memoizedState,u=o.stateNode;try{var ot=Is(o.type,x,o.elementType===o.type);e=u.getSnapshotBeforeUpdate(ot,C),u.__reactInternalSnapshotBeforeUpdate=e}catch(rt){un(o,o.return,rt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)Gu(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Gu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(g(163))}if(e=n.sibling,e!==null){e.return=n.return,cr=e;break}cr=n.return}}function Eh(e,n,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:$a(e,o),u&4&&Lo(5,o);break;case 1:if($a(e,o),u&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(R){un(o,o.return,R)}else{var x=Is(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(x,n,e.__reactInternalSnapshotBeforeUpdate)}catch(R){un(o,o.return,R)}}u&64&&mh(o),u&512&&Po(o,o.return);break;case 3:if($a(e,o),u&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{r0(e,n)}catch(R){un(o,o.return,R)}}break;case 27:n===null&&u&4&&vh(o);case 26:case 5:$a(e,o),n===null&&u&4&&yh(o),u&512&&Po(o,o.return);break;case 12:$a(e,o);break;case 13:$a(e,o),u&4&&wh(e,o),u&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=hp.bind(null,o),Op(e,o))));break;case 22:if(u=o.memoizedState!==null||Ia,!u){n=n!==null&&n.memoizedState!==null||Gn,x=Ia;var C=Gn;Ia=u,(Gn=n)&&!C?es(e,o,(o.subtreeFlags&8772)!==0):$a(e,o),Ia=x,Gn=C}break;case 30:break;default:$a(e,o)}}function Ah(e){var n=e.alternate;n!==null&&(e.alternate=null,Ah(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&vr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var En=null,Vr=!1;function Ma(e,n,o){for(o=o.child;o!==null;)Sh(e,n,o),o=o.sibling}function Sh(e,n,o){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(gn,o)}catch{}switch(o.tag){case 26:Gn||la(o,n),Ma(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Gn||la(o,n);var u=En,x=Vr;ss(o.type)&&(En=o.stateNode,Vr=!1),Ma(e,n,o),Xo(o.stateNode),En=u,Vr=x;break;case 5:Gn||la(o,n);case 6:if(u=En,x=Vr,En=null,Ma(e,n,o),En=u,Vr=x,En!==null)if(Vr)try{(En.nodeType===9?En.body:En.nodeName==="HTML"?En.ownerDocument.body:En).removeChild(o.stateNode)}catch(C){un(o,n,C)}else try{En.removeChild(o.stateNode)}catch(C){un(o,n,C)}break;case 18:En!==null&&(Vr?(e=En,h1(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),el(e)):h1(En,o.stateNode));break;case 4:u=En,x=Vr,En=o.stateNode.containerInfo,Vr=!0,Ma(e,n,o),En=u,Vr=x;break;case 0:case 11:case 14:case 15:Gn||Ja(2,o,n),Gn||Ja(4,o,n),Ma(e,n,o);break;case 1:Gn||(la(o,n),u=o.stateNode,typeof u.componentWillUnmount=="function"&&xh(o,n,u)),Ma(e,n,o);break;case 21:Ma(e,n,o);break;case 22:Gn=(u=Gn)||o.memoizedState!==null,Ma(e,n,o),Gn=u;break;default:Ma(e,n,o)}}function wh(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{el(e)}catch(o){un(n,n.return,o)}}function ip(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ch),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ch),n;default:throw Error(g(435,e.tag))}}function mu(e,n){var o=ip(e);n.forEach(function(u){var x=dp.bind(null,e,u);o.has(u)||(o.add(u),u.then(x,x))})}function ri(e,n){var o=n.deletions;if(o!==null)for(var u=0;u<o.length;u++){var x=o[u],C=e,R=n,L=R;e:for(;L!==null;){switch(L.tag){case 27:if(ss(L.type)){En=L.stateNode,Vr=!1;break e}break;case 5:En=L.stateNode,Vr=!1;break e;case 3:case 4:En=L.stateNode.containerInfo,Vr=!0;break e}L=L.return}if(En===null)throw Error(g(160));Sh(C,R,x),En=null,Vr=!1,C=x.alternate,C!==null&&(C.return=null),x.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Th(n,e),n=n.sibling}var Gi=null;function Th(e,n){var o=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ri(n,e),ii(e),u&4&&(Ja(3,e,e.return),Lo(3,e),Ja(5,e,e.return));break;case 1:ri(n,e),ii(e),u&512&&(Gn||o===null||la(o,o.return)),u&64&&Ia&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var x=Gi;if(ri(n,e),ii(e),u&512&&(Gn||o===null||la(o,o.return)),u&4){var C=o!==null?o.memoizedState:null;if(u=e.memoizedState,o===null)if(u===null)if(e.stateNode===null){e:{u=e.type,o=e.memoizedProps,x=x.ownerDocument||x;t:switch(u){case"title":C=x.getElementsByTagName("title")[0],(!C||C[Pr]||C[Sn]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=x.createElement(u),x.head.insertBefore(C,x.querySelector("head > title"))),mr(C,u,o),C[Sn]=e,Tt(C),u=C;break e;case"link":var R=v1("link","href",x).get(u+(o.href||""));if(R){for(var L=0;L<R.length;L++)if(C=R[L],C.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&C.getAttribute("rel")===(o.rel==null?null:o.rel)&&C.getAttribute("title")===(o.title==null?null:o.title)&&C.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){R.splice(L,1);break t}}C=x.createElement(u),mr(C,u,o),x.head.appendChild(C);break;case"meta":if(R=v1("meta","content",x).get(u+(o.content||""))){for(L=0;L<R.length;L++)if(C=R[L],C.getAttribute("content")===(o.content==null?null:""+o.content)&&C.getAttribute("name")===(o.name==null?null:o.name)&&C.getAttribute("property")===(o.property==null?null:o.property)&&C.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&C.getAttribute("charset")===(o.charSet==null?null:o.charSet)){R.splice(L,1);break t}}C=x.createElement(u),mr(C,u,o),x.head.appendChild(C);break;default:throw Error(g(468,u))}C[Sn]=e,Tt(C),u=C}e.stateNode=u}else C1(x,e.type,e.stateNode);else e.stateNode=b1(x,u,e.memoizedProps);else C!==u?(C===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):C.count--,u===null?C1(x,e.type,e.stateNode):b1(x,u,e.memoizedProps)):u===null&&e.stateNode!==null&&hu(e,e.memoizedProps,o.memoizedProps)}break;case 27:ri(n,e),ii(e),u&512&&(Gn||o===null||la(o,o.return)),o!==null&&u&4&&hu(e,e.memoizedProps,o.memoizedProps);break;case 5:if(ri(n,e),ii(e),u&512&&(Gn||o===null||la(o,o.return)),e.flags&32){x=e.stateNode;try{Un(x,"")}catch(se){un(e,e.return,se)}}u&4&&e.stateNode!=null&&(x=e.memoizedProps,hu(e,x,o!==null?o.memoizedProps:x)),u&1024&&(pu=!0);break;case 6:if(ri(n,e),ii(e),u&4){if(e.stateNode===null)throw Error(g(162));u=e.memoizedProps,o=e.stateNode;try{o.nodeValue=u}catch(se){un(e,e.return,se)}}break;case 3:if(Zl=null,x=Gi,Gi=Kl(n.containerInfo),ri(n,e),Gi=x,ii(e),u&4&&o!==null&&o.memoizedState.isDehydrated)try{el(n.containerInfo)}catch(se){un(e,e.return,se)}pu&&(pu=!1,_h(e));break;case 4:u=Gi,Gi=Kl(e.stateNode.containerInfo),ri(n,e),ii(e),Gi=u;break;case 12:ri(n,e),ii(e);break;case 13:ri(n,e),ii(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Eu=Qt()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,mu(e,u)));break;case 22:x=e.memoizedState!==null;var G=o!==null&&o.memoizedState!==null,ee=Ia,he=Gn;if(Ia=ee||x,Gn=he||G,ri(n,e),Gn=he,Ia=ee,ii(e),u&8192)e:for(n=e.stateNode,n._visibility=x?n._visibility&-2:n._visibility|1,x&&(o===null||G||Ia||Gn||Ms(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){G=o=n;try{if(C=G.stateNode,x)R=C.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{L=G.stateNode;var xe=G.memoizedProps.style,ae=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;L.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(se){un(G,G.return,se)}}}else if(n.tag===6){if(o===null){G=n;try{G.stateNode.nodeValue=x?"":G.memoizedProps}catch(se){un(G,G.return,se)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=e.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,mu(e,o))));break;case 19:ri(n,e),ii(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,mu(e,u)));break;case 30:break;case 21:break;default:ri(n,e),ii(e)}}function ii(e){var n=e.flags;if(n&2){try{for(var o,u=e.return;u!==null;){if(bh(u)){o=u;break}u=u.return}if(o==null)throw Error(g(160));switch(o.tag){case 27:var x=o.stateNode,C=du(e);Bl(e,C,x);break;case 5:var R=o.stateNode;o.flags&32&&(Un(R,""),o.flags&=-33);var L=du(e);Bl(e,L,R);break;case 3:case 4:var G=o.stateNode.containerInfo,ee=du(e);gu(e,ee,G);break;default:throw Error(g(161))}}catch(he){un(e,e.return,he)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function _h(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;_h(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function $a(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Eh(e,n.alternate,n),n=n.sibling}function Ms(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ja(4,n,n.return),Ms(n);break;case 1:la(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&xh(n,n.return,o),Ms(n);break;case 27:Xo(n.stateNode);case 26:case 5:la(n,n.return),Ms(n);break;case 22:n.memoizedState===null&&Ms(n);break;case 30:Ms(n);break;default:Ms(n)}e=e.sibling}}function es(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,x=e,C=n,R=C.flags;switch(C.tag){case 0:case 11:case 15:es(x,C,o),Lo(4,C);break;case 1:if(es(x,C,o),u=C,x=u.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ee){un(u,u.return,ee)}if(u=C,x=u.updateQueue,x!==null){var L=u.stateNode;try{var G=x.shared.hiddenCallbacks;if(G!==null)for(x.shared.hiddenCallbacks=null,x=0;x<G.length;x++)n0(G[x],L)}catch(ee){un(u,u.return,ee)}}o&&R&64&&mh(C),Po(C,C.return);break;case 27:vh(C);case 26:case 5:es(x,C,o),o&&u===null&&R&4&&yh(C),Po(C,C.return);break;case 12:es(x,C,o);break;case 13:es(x,C,o),o&&R&4&&wh(x,C);break;case 22:C.memoizedState===null&&es(x,C,o),Po(C,C.return);break;case 30:break;default:es(x,C,o)}n=n.sibling}}function xu(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Eo(o))}function yu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Eo(e))}function ca(e,n,o,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Nh(e,n,o,u),n=n.sibling}function Nh(e,n,o,u){var x=n.flags;switch(n.tag){case 0:case 11:case 15:ca(e,n,o,u),x&2048&&Lo(9,n);break;case 1:ca(e,n,o,u);break;case 3:ca(e,n,o,u),x&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Eo(e)));break;case 12:if(x&2048){ca(e,n,o,u),e=n.stateNode;try{var C=n.memoizedProps,R=C.id,L=C.onPostCommit;typeof L=="function"&&L(R,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(G){un(n,n.return,G)}}else ca(e,n,o,u);break;case 13:ca(e,n,o,u);break;case 23:break;case 22:C=n.stateNode,R=n.alternate,n.memoizedState!==null?C._visibility&2?ca(e,n,o,u):jo(e,n):C._visibility&2?ca(e,n,o,u):(C._visibility|=2,Ws(e,n,o,u,(n.subtreeFlags&10256)!==0)),x&2048&&xu(R,n);break;case 24:ca(e,n,o,u),x&2048&&yu(n.alternate,n);break;default:ca(e,n,o,u)}}function Ws(e,n,o,u,x){for(x=x&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var C=e,R=n,L=o,G=u,ee=R.flags;switch(R.tag){case 0:case 11:case 15:Ws(C,R,L,G,x),Lo(8,R);break;case 23:break;case 22:var he=R.stateNode;R.memoizedState!==null?he._visibility&2?Ws(C,R,L,G,x):jo(C,R):(he._visibility|=2,Ws(C,R,L,G,x)),x&&ee&2048&&xu(R.alternate,R);break;case 24:Ws(C,R,L,G,x),x&&ee&2048&&yu(R.alternate,R);break;default:Ws(C,R,L,G,x)}n=n.sibling}}function jo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,u=n,x=u.flags;switch(u.tag){case 22:jo(o,u),x&2048&&xu(u.alternate,u);break;case 24:jo(o,u),x&2048&&yu(u.alternate,u);break;default:jo(o,u)}n=n.sibling}}var Uo=8192;function Js(e){if(e.subtreeFlags&Uo)for(e=e.child;e!==null;)Rh(e),e=e.sibling}function Rh(e){switch(e.tag){case 26:Js(e),e.flags&Uo&&e.memoizedState!==null&&Gp(Gi,e.memoizedState,e.memoizedProps);break;case 5:Js(e);break;case 3:case 4:var n=Gi;Gi=Kl(e.stateNode.containerInfo),Js(e),Gi=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Uo,Uo=16777216,Js(e),Uo=n):Js(e));break;default:Js(e)}}function Oh(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function zo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var u=n[o];cr=u,Mh(u,e)}Oh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ih(e),e=e.sibling}function Ih(e){switch(e.tag){case 0:case 11:case 15:zo(e),e.flags&2048&&Ja(9,e,e.return);break;case 3:zo(e);break;case 12:zo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ll(e)):zo(e);break;default:zo(e)}}function Ll(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var u=n[o];cr=u,Mh(u,e)}Oh(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ja(8,n,n.return),Ll(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,Ll(n));break;default:Ll(n)}e=e.sibling}}function Mh(e,n){for(;cr!==null;){var o=cr;switch(o.tag){case 0:case 11:case 15:Ja(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Eo(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,cr=u;else e:for(o=e;cr!==null;){u=cr;var x=u.sibling,C=u.return;if(Ah(u),u===o){cr=null;break e}if(x!==null){x.return=C,cr=x;break e}cr=C}}}var ap={getCacheForType:function(e){var n=Sr(nr),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o}},sp=typeof WeakMap=="function"?WeakMap:Map,en=0,dn=null,Rt=null,Ht=0,tn=0,ai=null,ts=!1,$s=!1,bu=!1,Da=0,Dn=0,ns=0,Ds=0,vu=0,Si=0,eo=0,Fo=null,Yr=null,Cu=!1,Eu=0,Pl=1/0,jl=null,rs=null,pr=0,is=null,to=null,no=0,Au=0,Su=null,Dh=null,Ho=0,wu=null;function si(){if((en&2)!==0&&Ht!==0)return Ht&-Ht;if(ie.T!==null){var e=Gs;return e!==0?e:Mu()}return br()}function kh(){Si===0&&(Si=(Ht&536870912)===0||Kt?Ii():536870912);var e=Ai.current;return e!==null&&(e.flags|=32),Si}function oi(e,n,o){(e===dn&&(tn===2||tn===9)||e.cancelPendingCommit!==null)&&(ro(e,0),as(e,Ht,Si,!1)),yr(e,o),((en&2)===0||e!==dn)&&(e===dn&&((en&2)===0&&(Ds|=o),Dn===4&&as(e,Ht,Si,!1)),ua(e))}function Bh(e,n,o){if((en&6)!==0)throw Error(g(327));var u=!o&&(n&124)===0&&(n&e.expiredLanes)===0||zt(e,n),x=u?cp(e,n):Nu(e,n,!0),C=u;do{if(x===0){$s&&!u&&as(e,n,0,!1);break}else{if(o=e.current.alternate,C&&!op(o)){x=Nu(e,n,!1),C=!1;continue}if(x===2){if(C=n,e.errorRecoveryDisabledLanes&C)var R=0;else R=e.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){n=R;e:{var L=e;x=Fo;var G=L.current.memoizedState.isDehydrated;if(G&&(ro(L,R).flags|=256),R=Nu(L,R,!1),R!==2){if(bu&&!G){L.errorRecoveryDisabledLanes|=C,Ds|=C,x=4;break e}C=Yr,Yr=x,C!==null&&(Yr===null?Yr=C:Yr.push.apply(Yr,C))}x=R}if(C=!1,x!==2)continue}}if(x===1){ro(e,0),as(e,n,0,!0);break}e:{switch(u=e,C=x,C){case 0:case 1:throw Error(g(345));case 4:if((n&4194048)!==n)break;case 6:as(u,n,Si,!ts);break e;case 2:Yr=null;break;case 3:case 5:break;default:throw Error(g(329))}if((n&62914560)===n&&(x=Eu+300-Qt(),10<x)){if(as(u,n,Si,!ts),Te(u,0,!0)!==0)break e;u.timeoutHandle=u1(Lh.bind(null,u,o,Yr,jl,Cu,n,Si,Ds,eo,ts,C,2,-0,0),x);break e}Lh(u,o,Yr,jl,Cu,n,Si,Ds,eo,ts,C,0,-0,0)}}break}while(!0);ua(e)}function Lh(e,n,o,u,x,C,R,L,G,ee,he,xe,ae,se){if(e.timeoutHandle=-1,xe=n.subtreeFlags,(xe&8192||(xe&16785408)===16785408)&&(Qo={stylesheets:null,count:0,unsuspend:Hp},Rh(n),xe=Vp(),xe!==null)){e.cancelPendingCommit=xe(Gh.bind(null,e,n,C,o,u,x,R,L,G,he,1,ae,se)),as(e,C,R,!ee);return}Gh(e,n,C,o,u,x,R,L,G)}function op(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var x=o[u],C=x.getSnapshot;x=x.value;try{if(!l(C(),x))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function as(e,n,o,u){n&=~vu,n&=~Ds,e.suspendedLanes|=n,e.pingedLanes&=~n,u&&(e.warmLanes|=n),u=e.expirationTimes;for(var x=n;0<x;){var C=31-jt(x),R=1<<C;u[C]=-1,x&=~R}o!==0&&ja(e,o,n)}function Ul(){return(en&6)===0?(Go(0),!1):!0}function Tu(){if(Rt!==null){if(tn===0)var e=Rt.return;else e=Rt,wa=_s=null,Gc(e),Qs=null,Do=0,e=Rt;for(;e!==null;)ph(e.alternate,e),e=e.return;Rt=null}}function ro(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,wp(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Tu(),dn=e,Rt=o=Ea(e.current,null),Ht=n,tn=0,ai=null,ts=!1,$s=zt(e,n),bu=!1,eo=Si=vu=Ds=ns=Dn=0,Yr=Fo=null,Cu=!1,(n&8)!==0&&(n|=n&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=n;0<u;){var x=31-jt(u),C=1<<x;n|=e[x],u&=~C}return Da=n,st(),o}function Ph(e,n){St=null,ie.H=Tl,n===So||n===ml?(n=e0(),tn=3):n===Wf?(n=e0(),tn=4):tn=n===th?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ai=n,Rt===null&&(Dn=1,Il(e,et(n,e.current)))}function jh(){var e=ie.H;return ie.H=Tl,e===null?Tl:e}function Uh(){var e=ie.A;return ie.A=ap,e}function _u(){Dn=4,ts||(Ht&4194048)!==Ht&&Ai.current!==null||($s=!0),(ns&134217727)===0&&(Ds&134217727)===0||dn===null||as(dn,Ht,Si,!1)}function Nu(e,n,o){var u=en;en|=2;var x=jh(),C=Uh();(dn!==e||Ht!==n)&&(jl=null,ro(e,n)),n=!1;var R=Dn;e:do try{if(tn!==0&&Rt!==null){var L=Rt,G=ai;switch(tn){case 8:Tu(),R=6;break e;case 3:case 2:case 9:case 6:Ai.current===null&&(n=!0);var ee=tn;if(tn=0,ai=null,io(e,L,G,ee),o&&$s){R=0;break e}break;default:ee=tn,tn=0,ai=null,io(e,L,G,ee)}}lp(),R=Dn;break}catch(he){Ph(e,he)}while(!0);return n&&e.shellSuspendCounter++,wa=_s=null,en=u,ie.H=x,ie.A=C,Rt===null&&(dn=null,Ht=0,st()),R}function lp(){for(;Rt!==null;)zh(Rt)}function cp(e,n){var o=en;en|=2;var u=jh(),x=Uh();dn!==e||Ht!==n?(jl=null,Pl=Qt()+500,ro(e,n)):$s=zt(e,n);e:do try{if(tn!==0&&Rt!==null){n=Rt;var C=ai;t:switch(tn){case 1:tn=0,ai=null,io(e,n,C,1);break;case 2:case 9:if(Jf(C)){tn=0,ai=null,Fh(n);break}n=function(){tn!==2&&tn!==9||dn!==e||(tn=7),ua(e)},C.then(n,n);break e;case 3:tn=7;break e;case 4:tn=5;break e;case 7:Jf(C)?(tn=0,ai=null,Fh(n)):(tn=0,ai=null,io(e,n,C,7));break;case 5:var R=null;switch(Rt.tag){case 26:R=Rt.memoizedState;case 5:case 27:var L=Rt;if(!R||E1(R)){tn=0,ai=null;var G=L.sibling;if(G!==null)Rt=G;else{var ee=L.return;ee!==null?(Rt=ee,zl(ee)):Rt=null}break t}}tn=0,ai=null,io(e,n,C,5);break;case 6:tn=0,ai=null,io(e,n,C,6);break;case 8:Tu(),Dn=6;break e;default:throw Error(g(462))}}up();break}catch(he){Ph(e,he)}while(!0);return wa=_s=null,ie.H=u,ie.A=x,en=o,Rt!==null?0:(dn=null,Ht=0,st(),Dn)}function up(){for(;Rt!==null&&!Vn();)zh(Rt)}function zh(e){var n=dh(e.alternate,e,Da);e.memoizedProps=e.pendingProps,n===null?zl(e):Rt=n}function Fh(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=oh(o,n,n.pendingProps,n.type,void 0,Ht);break;case 11:n=oh(o,n,n.pendingProps,n.type.render,n.ref,Ht);break;case 5:Gc(n);default:ph(o,n),n=Rt=Hf(n,Da),n=dh(o,n,Da)}e.memoizedProps=e.pendingProps,n===null?zl(e):Rt=n}function io(e,n,o,u){wa=_s=null,Gc(n),Qs=null,Do=0;var x=n.return;try{if($g(e,x,n,o,Ht)){Dn=1,Il(e,et(o,e.current)),Rt=null;return}}catch(C){if(x!==null)throw Rt=x,C;Dn=1,Il(e,et(o,e.current)),Rt=null;return}n.flags&32768?(Kt||u===1?e=!0:$s||(Ht&536870912)!==0?e=!1:(ts=e=!0,(u===2||u===9||u===3||u===6)&&(u=Ai.current,u!==null&&u.tag===13&&(u.flags|=16384))),Hh(n,e)):zl(n)}function zl(e){var n=e;do{if((n.flags&32768)!==0){Hh(n,ts);return}e=n.return;var o=tp(n.alternate,n,Da);if(o!==null){Rt=o;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);Dn===0&&(Dn=5)}function Hh(e,n){do{var o=np(e.alternate,e);if(o!==null){o.flags&=32767,Rt=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=o}while(e!==null);Dn=6,Rt=null}function Gh(e,n,o,u,x,C,R,L,G){e.cancelPendingCommit=null;do Fl();while(pr!==0);if((en&6)!==0)throw Error(g(327));if(n!==null){if(n===e.current)throw Error(g(177));if(C=n.lanes|n.childLanes,C|=dr,Pa(e,o,C,R,L,G),e===dn&&(Rt=dn=null,Ht=0),to=n,is=e,no=o,Au=C,Su=x,Dh=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,gp(ke,function(){return Kh(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=ie.T,ie.T=null,x=Q.p,Q.p=2,R=en,en|=4;try{rp(e,n,o)}finally{en=R,Q.p=x,ie.T=u}}pr=1,Vh(),Yh(),Xh()}}function Vh(){if(pr===1){pr=0;var e=is,n=to,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=ie.T,ie.T=null;var u=Q.p;Q.p=2;var x=en;en|=4;try{Th(n,e);var C=zu,R=m(e.containerInfo),L=C.focusedElem,G=C.selectionRange;if(R!==L&&L&&L.ownerDocument&&d(L.ownerDocument.documentElement,L)){if(G!==null&&b(L)){var ee=G.start,he=G.end;if(he===void 0&&(he=ee),"selectionStart"in L)L.selectionStart=ee,L.selectionEnd=Math.min(he,L.value.length);else{var xe=L.ownerDocument||document,ae=xe&&xe.defaultView||window;if(ae.getSelection){var se=ae.getSelection(),ot=L.textContent.length,rt=Math.min(G.start,ot),on=G.end===void 0?rt:Math.min(G.end,ot);!se.extend&&rt>on&&(R=on,on=rt,rt=R);var Z=c(L,rt),q=c(L,on);if(Z&&q&&(se.rangeCount!==1||se.anchorNode!==Z.node||se.anchorOffset!==Z.offset||se.focusNode!==q.node||se.focusOffset!==q.offset)){var J=xe.createRange();J.setStart(Z.node,Z.offset),se.removeAllRanges(),rt>on?(se.addRange(J),se.extend(q.node,q.offset)):(J.setEnd(q.node,q.offset),se.addRange(J))}}}}for(xe=[],se=L;se=se.parentNode;)se.nodeType===1&&xe.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<xe.length;L++){var pe=xe[L];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}$l=!!Uu,zu=Uu=null}finally{en=x,Q.p=u,ie.T=o}}e.current=n,pr=2}}function Yh(){if(pr===2){pr=0;var e=is,n=to,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=ie.T,ie.T=null;var u=Q.p;Q.p=2;var x=en;en|=4;try{Eh(e,n.alternate,n)}finally{en=x,Q.p=u,ie.T=o}}pr=3}}function Xh(){if(pr===4||pr===3){pr=0,ha();var e=is,n=to,o=no,u=Dh;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?pr=5:(pr=0,to=is=null,qh(e,e.pendingLanes));var x=e.pendingLanes;if(x===0&&(rs=null),Rn(o),n=n.stateNode,bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(gn,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=ie.T,x=Q.p,Q.p=2,ie.T=null;try{for(var C=e.onRecoverableError,R=0;R<u.length;R++){var L=u[R];C(L.value,{componentStack:L.stack})}}finally{ie.T=n,Q.p=x}}(no&3)!==0&&Fl(),ua(e),x=e.pendingLanes,(o&4194090)!==0&&(x&42)!==0?e===wu?Ho++:(Ho=0,wu=e):Ho=0,Go(0)}}function qh(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Eo(n)))}function Fl(e){return Vh(),Yh(),Xh(),Kh()}function Kh(){if(pr!==5)return!1;var e=is,n=Au;Au=0;var o=Rn(no),u=ie.T,x=Q.p;try{Q.p=32>o?32:o,ie.T=null,o=Su,Su=null;var C=is,R=no;if(pr=0,to=is=null,no=0,(en&6)!==0)throw Error(g(331));var L=en;if(en|=4,Ih(C.current),Nh(C,C.current,R,o),en=L,Go(0,!1),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(gn,C)}catch{}return!0}finally{Q.p=x,ie.T=u,qh(e,n)}}function Qh(e,n,o){n=et(o,n),n=ru(e.stateNode,n,2),e=Ka(e,n,2),e!==null&&(yr(e,2),ua(e))}function un(e,n,o){if(e.tag===3)Qh(e,e,o);else for(;n!==null;){if(n.tag===3){Qh(n,e,o);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(rs===null||!rs.has(u))){e=et(o,e),o=$0(2),u=Ka(n,o,2),u!==null&&(eh(o,u,n,e),yr(u,2),ua(u));break}}n=n.return}}function Ru(e,n,o){var u=e.pingCache;if(u===null){u=e.pingCache=new sp;var x=new Set;u.set(n,x)}else x=u.get(n),x===void 0&&(x=new Set,u.set(n,x));x.has(o)||(bu=!0,x.add(o),e=fp.bind(null,e,n,o),n.then(e,e))}function fp(e,n,o){var u=e.pingCache;u!==null&&u.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,dn===e&&(Ht&o)===o&&(Dn===4||Dn===3&&(Ht&62914560)===Ht&&300>Qt()-Eu?(en&2)===0&&ro(e,0):vu|=o,eo===Ht&&(eo=0)),ua(e)}function Zh(e,n){n===0&&(n=Ie()),e=Hi(e,n),e!==null&&(yr(e,n),ua(e))}function hp(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),Zh(e,o)}function dp(e,n){var o=0;switch(e.tag){case 13:var u=e.stateNode,x=e.memoizedState;x!==null&&(o=x.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(g(314))}u!==null&&u.delete(n),Zh(e,o)}function gp(e,n){return mt(e,n)}var Hl=null,ao=null,Ou=!1,Gl=!1,Iu=!1,ks=0;function ua(e){e!==ao&&e.next===null&&(ao===null?Hl=ao=e:ao=ao.next=e),Gl=!0,Ou||(Ou=!0,mp())}function Go(e,n){if(!Iu&&Gl){Iu=!0;do for(var o=!1,u=Hl;u!==null;){if(e!==0){var x=u.pendingLanes;if(x===0)var C=0;else{var R=u.suspendedLanes,L=u.pingedLanes;C=(1<<31-jt(42|e)+1)-1,C&=x&~(R&~L),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(o=!0,e1(u,C))}else C=Ht,C=Te(u,u===dn?C:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(C&3)===0||zt(u,C)||(o=!0,e1(u,C));u=u.next}while(o);Iu=!1}}function pp(){Wh()}function Wh(){Gl=Ou=!1;var e=0;ks!==0&&(Sp()&&(e=ks),ks=0);for(var n=Qt(),o=null,u=Hl;u!==null;){var x=u.next,C=Jh(u,n);C===0?(u.next=null,o===null?Hl=x:o.next=x,x===null&&(ao=o)):(o=u,(e!==0||(C&3)!==0)&&(Gl=!0)),u=x}Go(e)}function Jh(e,n){for(var o=e.suspendedLanes,u=e.pingedLanes,x=e.expirationTimes,C=e.pendingLanes&-62914561;0<C;){var R=31-jt(C),L=1<<R,G=x[R];G===-1?((L&o)===0||(L&u)!==0)&&(x[R]=Nr(L,n)):G<=n&&(e.expiredLanes|=L),C&=~L}if(n=dn,o=Ht,o=Te(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,o===0||e===n&&(tn===2||tn===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&hi(u),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||zt(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(u!==null&&hi(u),Rn(o)){case 2:case 8:o=Ti;break;case 32:o=ke;break;case 268435456:o=_i;break;default:o=ke}return u=$h.bind(null,e),o=mt(o,u),e.callbackPriority=n,e.callbackNode=o,n}return u!==null&&u!==null&&hi(u),e.callbackPriority=2,e.callbackNode=null,2}function $h(e,n){if(pr!==0&&pr!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Fl()&&e.callbackNode!==o)return null;var u=Ht;return u=Te(e,e===dn?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(Bh(e,u,n),Jh(e,Qt()),e.callbackNode!=null&&e.callbackNode===o?$h.bind(null,e):null)}function e1(e,n){if(Fl())return null;Bh(e,n,!0)}function mp(){Tp(function(){(en&6)!==0?mt(wt,pp):Wh()})}function Mu(){return ks===0&&(ks=Ii()),ks}function t1(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ki(""+e)}function n1(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function xp(e,n,o,u,x){if(n==="submit"&&o&&o.stateNode===x){var C=t1((x[lt]||null).action),R=u.submitter;R&&(n=(n=R[lt]||null)?t1(n.formAction):R.getAttribute("formAction"),n!==null&&(C=n,R=null));var L=new xi("action","action",null,u,x);e.push({event:L,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ks!==0){var G=R?n1(x,R):new FormData(x);Jc(o,{pending:!0,data:G,method:x.method,action:C},null,G)}}else typeof C=="function"&&(L.preventDefault(),G=R?n1(x,R):new FormData(x),Jc(o,{pending:!0,data:G,method:x.method,action:C},C,G))},currentTarget:x}]})}}for(var Du=0;Du<Re.length;Du++){var ku=Re[Du],yp=ku.toLowerCase(),bp=ku[0].toUpperCase()+ku.slice(1);Se(yp,"on"+bp)}Se(K,"onAnimationEnd"),Se($,"onAnimationIteration"),Se(ne,"onAnimationStart"),Se("dblclick","onDoubleClick"),Se("focusin","onFocus"),Se("focusout","onBlur"),Se(le,"onTransitionRun"),Se(de,"onTransitionStart"),Se(Ce,"onTransitionCancel"),Se(ye,"onTransitionEnd"),fn("onMouseEnter",["mouseout","mouseover"]),fn("onMouseLeave",["mouseout","mouseover"]),fn("onPointerEnter",["pointerout","pointerover"]),fn("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vo));function r1(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var u=e[o],x=u.event;u=u.listeners;e:{var C=void 0;if(n)for(var R=u.length-1;0<=R;R--){var L=u[R],G=L.instance,ee=L.currentTarget;if(L=L.listener,G!==C&&x.isPropagationStopped())break e;C=L,x.currentTarget=ee;try{C(x)}catch(he){Ol(he)}x.currentTarget=null,C=G}else for(R=0;R<u.length;R++){if(L=u[R],G=L.instance,ee=L.currentTarget,L=L.listener,G!==C&&x.isPropagationStopped())break e;C=L,x.currentTarget=ee;try{C(x)}catch(he){Ol(he)}x.currentTarget=null,C=G}}}}function Ot(e,n){var o=n[Yn];o===void 0&&(o=n[Yn]=new Set);var u=e+"__bubble";o.has(u)||(i1(n,e,2,!1),o.add(u))}function Bu(e,n,o){var u=0;n&&(u|=4),i1(o,e,u,n)}var Vl="_reactListening"+Math.random().toString(36).slice(2);function Lu(e){if(!e[Vl]){e[Vl]=!0,ms.forEach(function(o){o!=="selectionchange"&&(vp.has(o)||Bu(o,!1,e),Bu(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Vl]||(n[Vl]=!0,Bu("selectionchange",!1,n))}}function i1(e,n,o,u){switch(N1(n)){case 2:var x=qp;break;case 8:x=Kp;break;default:x=Zu}o=x.bind(null,n,o,e),x=void 0,!ct||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(x=!0),u?x!==void 0?e.addEventListener(n,o,{capture:!0,passive:x}):e.addEventListener(n,o,!0):x!==void 0?e.addEventListener(n,o,{passive:x}):e.addEventListener(n,o,!1)}function Pu(e,n,o,u,x){var C=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var R=u.tag;if(R===3||R===4){var L=u.stateNode.containerInfo;if(L===x)break;if(R===4)for(R=u.return;R!==null;){var G=R.tag;if((G===3||G===4)&&R.stateNode.containerInfo===x)return;R=R.return}for(;L!==null;){if(R=rn(L),R===null)return;if(G=R.tag,G===5||G===6||G===26||G===27){u=C=R;continue e}L=L.parentNode}}u=u.return}hr(function(){var ee=C,he=Bi(o),xe=[];e:{var ae=Ae.get(e);if(ae!==void 0){var se=xi,ot=e;switch(e){case"keypress":if(Qi(o)===0)break e;case"keydown":case"keyup":se=$i;break;case"focusin":ot="focus",se=Jr;break;case"focusout":ot="blur",se=Jr;break;case"beforeblur":case"afterblur":se=Jr;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Gt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=Vt;break;case K:case $:case ne:se=js;break;case ye:se=vs;break;case"scroll":case"scrollend":se=zn;break;case"wheel":se=Fr;break;case"copy":case"cut":case"paste":se=ut;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=ea;break;case"toggle":case"beforetoggle":se=Us}var rt=(n&4)!==0,on=!rt&&(e==="scroll"||e==="scrollend"),Z=rt?ae!==null?ae+"Capture":null:ae;rt=[];for(var q=ee,J;q!==null;){var pe=q;if(J=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||J===null||Z===null||(pe=We(q,Z),pe!=null&&rt.push(Yo(q,pe,J))),on)break;q=q.return}0<rt.length&&(ae=new se(ae,ot,null,o,he),xe.push({event:ae,listeners:rt}))}}if((n&7)===0){e:{if(ae=e==="mouseover"||e==="pointerover",se=e==="mouseout"||e==="pointerout",ae&&o!==Cr&&(ot=o.relatedTarget||o.fromElement)&&(rn(ot)||ot[$t]))break e;if((se||ae)&&(ae=he.window===he?he:(ae=he.ownerDocument)?ae.defaultView||ae.parentWindow:window,se?(ot=o.relatedTarget||o.toElement,se=ee,ot=ot?rn(ot):null,ot!==null&&(on=v(ot),rt=ot.tag,ot!==on||rt!==5&&rt!==27&&rt!==6)&&(ot=null)):(se=null,ot=ee),se!==ot)){if(rt=Ha,pe="onMouseLeave",Z="onMouseEnter",q="mouse",(e==="pointerout"||e==="pointerover")&&(rt=ea,pe="onPointerLeave",Z="onPointerEnter",q="pointer"),on=se==null?ae:Rr(se),J=ot==null?ae:Rr(ot),ae=new rt(pe,q+"leave",se,o,he),ae.target=on,ae.relatedTarget=J,pe=null,rn(he)===ee&&(rt=new rt(Z,q+"enter",ot,o,he),rt.target=J,rt.relatedTarget=on,pe=rt),on=pe,se&&ot)t:{for(rt=se,Z=ot,q=0,J=rt;J;J=so(J))q++;for(J=0,pe=Z;pe;pe=so(pe))J++;for(;0<q-J;)rt=so(rt),q--;for(;0<J-q;)Z=so(Z),J--;for(;q--;){if(rt===Z||Z!==null&&rt===Z.alternate)break t;rt=so(rt),Z=so(Z)}rt=null}else rt=null;se!==null&&a1(xe,ae,se,rt,!1),ot!==null&&on!==null&&a1(xe,on,ot,rt,!0)}}e:{if(ae=ee?Rr(ee):window,se=ae.nodeName&&ae.nodeName.toLowerCase(),se==="select"||se==="input"&&ae.type==="file")var Xe=va;else if(zi(ae))if(Mr)Xe=i;else{Xe=O;var _t=Ca}else se=ae.nodeName,!se||se.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?ee&&Ze(ee.elementType)&&(Xe=va):Xe=t;if(Xe&&(Xe=Xe(e,ee))){ar(xe,Xe,o,he);break e}_t&&_t(e,ae,ee),e==="focusout"&&ee&&ae.type==="number"&&ee.memoizedProps.value!=null&&W(ae,"number",ae.value)}switch(_t=ee?Rr(ee):window,e){case"focusin":(zi(_t)||_t.contentEditable==="true")&&(S=_t,_=ee,M=null);break;case"focusout":M=_=S=null;break;case"mousedown":B=!0;break;case"contextmenu":case"mouseup":case"dragend":B=!1,k(xe,o,he);break;case"selectionchange":if(A)break;case"keydown":case"keyup":k(xe,o,he)}var $e;if(ji)e:{switch(e){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else Ui?bi(e,o)&&(it="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(it="onCompositionStart");it&&(ya&&o.locale!=="ko"&&(Ui||it!=="onCompositionStart"?it==="onCompositionEnd"&&Ui&&($e=Er()):(Ur=he,Ki="value"in Ur?Ur.value:Ur.textContent,Ui=!0)),_t=Yl(ee,it),0<_t.length&&(it=new Pi(it,e,null,o,he),xe.push({event:it,listeners:_t}),$e?it.data=$e:($e=Va(o),$e!==null&&(it.data=$e)))),($e=Cs?ta(e,o):mo(e,o))&&(it=Yl(ee,"onBeforeInput"),0<it.length&&(_t=new Pi("onBeforeInput","beforeinput",null,o,he),xe.push({event:_t,listeners:it}),_t.data=$e)),xp(xe,e,ee,o,he)}r1(xe,n)})}function Yo(e,n,o){return{instance:e,listener:n,currentTarget:o}}function Yl(e,n){for(var o=n+"Capture",u=[];e!==null;){var x=e,C=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||C===null||(x=We(e,o),x!=null&&u.unshift(Yo(e,x,C)),x=We(e,n),x!=null&&u.push(Yo(e,x,C))),e.tag===3)return u;e=e.return}return[]}function so(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function a1(e,n,o,u,x){for(var C=n._reactName,R=[];o!==null&&o!==u;){var L=o,G=L.alternate,ee=L.stateNode;if(L=L.tag,G!==null&&G===u)break;L!==5&&L!==26&&L!==27||ee===null||(G=ee,x?(ee=We(o,C),ee!=null&&R.unshift(Yo(o,ee,G))):x||(ee=We(o,C),ee!=null&&R.push(Yo(o,ee,G)))),o=o.return}R.length!==0&&e.push({event:n,listeners:R})}var Cp=/\r\n?/g,Ep=/\u0000|\uFFFD/g;function s1(e){return(typeof e=="string"?e:""+e).replace(Cp,`
`).replace(Ep,"")}function o1(e,n){return n=s1(n),s1(e)===n}function Xl(){}function sn(e,n,o,u,x,C){switch(o){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||Un(e,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&Un(e,""+u);break;case"className":Mi(e,"class",u);break;case"tabIndex":Mi(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Mi(e,o,u);break;case"style":fr(e,u,C);break;case"data":if(n!=="object"){Mi(e,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(o);break}u=ki(""+u),e.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(o==="formAction"?(n!=="input"&&sn(e,n,"name",x.name,x,null),sn(e,n,"formEncType",x.formEncType,x,null),sn(e,n,"formMethod",x.formMethod,x,null),sn(e,n,"formTarget",x.formTarget,x,null)):(sn(e,n,"encType",x.encType,x,null),sn(e,n,"method",x.method,x,null),sn(e,n,"target",x.target,x,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(o);break}u=ki(""+u),e.setAttribute(o,u);break;case"onClick":u!=null&&(e.onclick=Xl);break;case"onScroll":u!=null&&Ot("scroll",e);break;case"onScrollEnd":u!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(g(61));if(o=u.__html,o!=null){if(x.children!=null)throw Error(g(60));e.innerHTML=o}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}o=ki(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(o,""+u):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":u===!0?e.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(o,u):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(o,u):e.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(o):e.setAttribute(o,u);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),ge(e,"popover",u);break;case"xlinkActuate":Dt(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Dt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Dt(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Dt(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Dt(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Dt(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Dt(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Dt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Dt(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ge(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=At.get(o)||o,ge(e,o,u))}}function ju(e,n,o,u,x,C){switch(o){case"style":fr(e,u,C);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(g(61));if(o=u.__html,o!=null){if(x.children!=null)throw Error(g(60));e.innerHTML=o}}break;case"children":typeof u=="string"?Un(e,u):(typeof u=="number"||typeof u=="bigint")&&Un(e,""+u);break;case"onScroll":u!=null&&Ot("scroll",e);break;case"onScrollEnd":u!=null&&Ot("scrollend",e);break;case"onClick":u!=null&&(e.onclick=Xl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!di.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(x=o.endsWith("Capture"),n=o.slice(2,x?o.length-7:void 0),C=e[lt]||null,C=C!=null?C[o]:null,typeof C=="function"&&e.removeEventListener(n,C,x),typeof u=="function")){typeof C!="function"&&C!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,u,x);break e}o in e?e[o]=u:u===!0?e.setAttribute(o,""):ge(e,o,u)}}}function mr(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var u=!1,x=!1,C;for(C in o)if(o.hasOwnProperty(C)){var R=o[C];if(R!=null)switch(C){case"src":u=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(g(137,n));default:sn(e,n,C,R,o,null)}}x&&sn(e,n,"srcSet",o.srcSet,o,null),u&&sn(e,n,"src",o.src,o,null);return;case"input":Ot("invalid",e);var L=C=R=x=null,G=null,ee=null;for(u in o)if(o.hasOwnProperty(u)){var he=o[u];if(he!=null)switch(u){case"name":x=he;break;case"type":R=he;break;case"checked":G=he;break;case"defaultChecked":ee=he;break;case"value":C=he;break;case"defaultValue":L=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(g(137,n));break;default:sn(e,n,u,he,o,null)}}In(e,C,L,G,ee,R,x,!1),pi(e);return;case"select":Ot("invalid",e),u=R=C=null;for(x in o)if(o.hasOwnProperty(x)&&(L=o[x],L!=null))switch(x){case"value":C=L;break;case"defaultValue":R=L;break;case"multiple":u=L;default:sn(e,n,x,L,o,null)}n=C,o=R,e.multiple=!!u,n!=null?j(e,!!u,n,!1):o!=null&&j(e,!!u,o,!0);return;case"textarea":Ot("invalid",e),C=x=u=null;for(R in o)if(o.hasOwnProperty(R)&&(L=o[R],L!=null))switch(R){case"value":u=L;break;case"defaultValue":x=L;break;case"children":C=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(g(91));break;default:sn(e,n,R,L,o,null)}vn(e,u,x,C),pi(e);return;case"option":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:sn(e,n,G,u,o,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(u=0;u<Vo.length;u++)Ot(Vo[u],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in o)if(o.hasOwnProperty(ee)&&(u=o[ee],u!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(g(137,n));default:sn(e,n,ee,u,o,null)}return;default:if(Ze(n)){for(he in o)o.hasOwnProperty(he)&&(u=o[he],u!==void 0&&ju(e,n,he,u,o,void 0));return}}for(L in o)o.hasOwnProperty(L)&&(u=o[L],u!=null&&sn(e,n,L,u,o,null))}function Ap(e,n,o,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,C=null,R=null,L=null,G=null,ee=null,he=null;for(se in o){var xe=o[se];if(o.hasOwnProperty(se)&&xe!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":G=xe;default:u.hasOwnProperty(se)||sn(e,n,se,null,u,xe)}}for(var ae in u){var se=u[ae];if(xe=o[ae],u.hasOwnProperty(ae)&&(se!=null||xe!=null))switch(ae){case"type":C=se;break;case"name":x=se;break;case"checked":ee=se;break;case"defaultChecked":he=se;break;case"value":R=se;break;case"defaultValue":L=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(g(137,n));break;default:se!==xe&&sn(e,n,ae,se,u,xe)}}Ut(e,R,L,G,ee,he,C,x);return;case"select":se=R=L=ae=null;for(C in o)if(G=o[C],o.hasOwnProperty(C)&&G!=null)switch(C){case"value":break;case"multiple":se=G;default:u.hasOwnProperty(C)||sn(e,n,C,null,u,G)}for(x in u)if(C=u[x],G=o[x],u.hasOwnProperty(x)&&(C!=null||G!=null))switch(x){case"value":ae=C;break;case"defaultValue":L=C;break;case"multiple":R=C;default:C!==G&&sn(e,n,x,C,u,G)}n=L,o=R,u=se,ae!=null?j(e,!!o,ae,!1):!!u!=!!o&&(n!=null?j(e,!!o,n,!0):j(e,!!o,o?[]:"",!1));return;case"textarea":se=ae=null;for(L in o)if(x=o[L],o.hasOwnProperty(L)&&x!=null&&!u.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:sn(e,n,L,null,u,x)}for(R in u)if(x=u[R],C=o[R],u.hasOwnProperty(R)&&(x!=null||C!=null))switch(R){case"value":ae=x;break;case"defaultValue":se=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(g(91));break;default:x!==C&&sn(e,n,R,x,u,C)}Ye(e,ae,se);return;case"option":for(var ot in o)if(ae=o[ot],o.hasOwnProperty(ot)&&ae!=null&&!u.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:sn(e,n,ot,null,u,ae)}for(G in u)if(ae=u[G],se=o[G],u.hasOwnProperty(G)&&ae!==se&&(ae!=null||se!=null))switch(G){case"selected":e.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:sn(e,n,G,ae,u,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in o)ae=o[rt],o.hasOwnProperty(rt)&&ae!=null&&!u.hasOwnProperty(rt)&&sn(e,n,rt,null,u,ae);for(ee in u)if(ae=u[ee],se=o[ee],u.hasOwnProperty(ee)&&ae!==se&&(ae!=null||se!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(g(137,n));break;default:sn(e,n,ee,ae,u,se)}return;default:if(Ze(n)){for(var on in o)ae=o[on],o.hasOwnProperty(on)&&ae!==void 0&&!u.hasOwnProperty(on)&&ju(e,n,on,void 0,u,ae);for(he in u)ae=u[he],se=o[he],!u.hasOwnProperty(he)||ae===se||ae===void 0&&se===void 0||ju(e,n,he,ae,u,se);return}}for(var Z in o)ae=o[Z],o.hasOwnProperty(Z)&&ae!=null&&!u.hasOwnProperty(Z)&&sn(e,n,Z,null,u,ae);for(xe in u)ae=u[xe],se=o[xe],!u.hasOwnProperty(xe)||ae===se||ae==null&&se==null||sn(e,n,xe,ae,u,se)}var Uu=null,zu=null;function ql(e){return e.nodeType===9?e:e.ownerDocument}function l1(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c1(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Fu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hu=null;function Sp(){var e=window.event;return e&&e.type==="popstate"?e===Hu?!1:(Hu=e,!0):(Hu=null,!1)}var u1=typeof setTimeout=="function"?setTimeout:void 0,wp=typeof clearTimeout=="function"?clearTimeout:void 0,f1=typeof Promise=="function"?Promise:void 0,Tp=typeof queueMicrotask=="function"?queueMicrotask:typeof f1<"u"?function(e){return f1.resolve(null).then(e).catch(_p)}:u1;function _p(e){setTimeout(function(){throw e})}function ss(e){return e==="head"}function h1(e,n){var o=n,u=0,x=0;do{var C=o.nextSibling;if(e.removeChild(o),C&&C.nodeType===8)if(o=C.data,o==="/$"){if(0<u&&8>u){o=u;var R=e.ownerDocument;if(o&1&&Xo(R.documentElement),o&2&&Xo(R.body),o&4)for(o=R.head,Xo(o),R=o.firstChild;R;){var L=R.nextSibling,G=R.nodeName;R[Pr]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&R.rel.toLowerCase()==="stylesheet"||o.removeChild(R),R=L}}if(x===0){e.removeChild(C),el(n);return}x--}else o==="$"||o==="$?"||o==="$!"?x++:u=o.charCodeAt(0)-48;else u=0;o=C}while(o);el(n)}function Gu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Gu(o),vr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function Np(e,n,o,u){for(;e.nodeType===1;){var x=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[Pr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(C=e.getAttribute("rel"),C==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(C!==x.rel||e.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||e.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||e.getAttribute("title")!==(x.title==null?null:x.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(C=e.getAttribute("src"),(C!==(x.src==null?null:x.src)||e.getAttribute("type")!==(x.type==null?null:x.type)||e.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&C&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var C=x.name==null?null:""+x.name;if(x.type==="hidden"&&e.getAttribute("name")===C)return e}else return e;if(e=Vi(e.nextSibling),e===null)break}return null}function Rp(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=Vi(e.nextSibling),e===null))return null;return e}function Vu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Op(e,n){var o=e.ownerDocument;if(e.data!=="$?"||o.readyState==="complete")n();else{var u=function(){n(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function Vi(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Yu=null;function d1(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}function g1(e,n,o){switch(n=ql(o),e){case"html":if(e=n.documentElement,!e)throw Error(g(452));return e;case"head":if(e=n.head,!e)throw Error(g(453));return e;case"body":if(e=n.body,!e)throw Error(g(454));return e;default:throw Error(g(451))}}function Xo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);vr(e)}var wi=new Map,p1=new Set;function Kl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ka=Q.d;Q.d={f:Ip,r:Mp,D:Dp,C:kp,L:Bp,m:Lp,X:jp,S:Pp,M:Up};function Ip(){var e=ka.f(),n=Ul();return e||n}function Mp(e){var n=On(e);n!==null&&n.tag===5&&n.type==="form"?B0(n):ka.r(e)}var oo=typeof document>"u"?null:document;function m1(e,n,o){var u=oo;if(u&&typeof n=="string"&&n){var x=wn(n);x='link[rel="'+e+'"][href="'+x+'"]',typeof o=="string"&&(x+='[crossorigin="'+o+'"]'),p1.has(x)||(p1.add(x),e={rel:e,crossOrigin:o,href:n},u.querySelector(x)===null&&(n=u.createElement("link"),mr(n,"link",e),Tt(n),u.head.appendChild(n)))}}function Dp(e){ka.D(e),m1("dns-prefetch",e,null)}function kp(e,n){ka.C(e,n),m1("preconnect",e,n)}function Bp(e,n,o){ka.L(e,n,o);var u=oo;if(u&&e&&n){var x='link[rel="preload"][as="'+wn(n)+'"]';n==="image"&&o&&o.imageSrcSet?(x+='[imagesrcset="'+wn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(x+='[imagesizes="'+wn(o.imageSizes)+'"]')):x+='[href="'+wn(e)+'"]';var C=x;switch(n){case"style":C=lo(e);break;case"script":C=co(e)}wi.has(C)||(e=I({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),wi.set(C,e),u.querySelector(x)!==null||n==="style"&&u.querySelector(qo(C))||n==="script"&&u.querySelector(Ko(C))||(n=u.createElement("link"),mr(n,"link",e),Tt(n),u.head.appendChild(n)))}}function Lp(e,n){ka.m(e,n);var o=oo;if(o&&e){var u=n&&typeof n.as=="string"?n.as:"script",x='link[rel="modulepreload"][as="'+wn(u)+'"][href="'+wn(e)+'"]',C=x;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=co(e)}if(!wi.has(C)&&(e=I({rel:"modulepreload",href:e},n),wi.set(C,e),o.querySelector(x)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ko(C)))return}u=o.createElement("link"),mr(u,"link",e),Tt(u),o.head.appendChild(u)}}}function Pp(e,n,o){ka.S(e,n,o);var u=oo;if(u&&e){var x=Kr(u).hoistableStyles,C=lo(e);n=n||"default";var R=x.get(C);if(!R){var L={loading:0,preload:null};if(R=u.querySelector(qo(C)))L.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":n},o),(o=wi.get(C))&&Xu(e,o);var G=R=u.createElement("link");Tt(G),mr(G,"link",e),G._p=new Promise(function(ee,he){G.onload=ee,G.onerror=he}),G.addEventListener("load",function(){L.loading|=1}),G.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Ql(R,n,u)}R={type:"stylesheet",instance:R,count:1,state:L},x.set(C,R)}}}function jp(e,n){ka.X(e,n);var o=oo;if(o&&e){var u=Kr(o).hoistableScripts,x=co(e),C=u.get(x);C||(C=o.querySelector(Ko(x)),C||(e=I({src:e,async:!0},n),(n=wi.get(x))&&qu(e,n),C=o.createElement("script"),Tt(C),mr(C,"link",e),o.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},u.set(x,C))}}function Up(e,n){ka.M(e,n);var o=oo;if(o&&e){var u=Kr(o).hoistableScripts,x=co(e),C=u.get(x);C||(C=o.querySelector(Ko(x)),C||(e=I({src:e,async:!0,type:"module"},n),(n=wi.get(x))&&qu(e,n),C=o.createElement("script"),Tt(C),mr(C,"link",e),o.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},u.set(x,C))}}function x1(e,n,o,u){var x=(x=ve.current)?Kl(x):null;if(!x)throw Error(g(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=lo(o.href),o=Kr(x).hoistableStyles,u=o.get(n),u||(u={type:"style",instance:null,count:0,state:null},o.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=lo(o.href);var C=Kr(x).hoistableStyles,R=C.get(e);if(R||(x=x.ownerDocument||x,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(e,R),(C=x.querySelector(qo(e)))&&!C._p&&(R.instance=C,R.state.loading=5),wi.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},wi.set(e,o),C||zp(x,e,o,R.state))),n&&u===null)throw Error(g(528,""));return R}if(n&&u!==null)throw Error(g(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=co(o),o=Kr(x).hoistableScripts,u=o.get(n),u||(u={type:"script",instance:null,count:0,state:null},o.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(g(444,e))}}function lo(e){return'href="'+wn(e)+'"'}function qo(e){return'link[rel="stylesheet"]['+e+"]"}function y1(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function zp(e,n,o,u){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=e.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),mr(n,"link",o),Tt(n),e.head.appendChild(n))}function co(e){return'[src="'+wn(e)+'"]'}function Ko(e){return"script[async]"+e}function b1(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var u=e.querySelector('style[data-href~="'+wn(o.href)+'"]');if(u)return n.instance=u,Tt(u),u;var x=I({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),Tt(u),mr(u,"style",x),Ql(u,o.precedence,e),n.instance=u;case"stylesheet":x=lo(o.href);var C=e.querySelector(qo(x));if(C)return n.state.loading|=4,n.instance=C,Tt(C),C;u=y1(o),(x=wi.get(x))&&Xu(u,x),C=(e.ownerDocument||e).createElement("link"),Tt(C);var R=C;return R._p=new Promise(function(L,G){R.onload=L,R.onerror=G}),mr(C,"link",u),n.state.loading|=4,Ql(C,o.precedence,e),n.instance=C;case"script":return C=co(o.src),(x=e.querySelector(Ko(C)))?(n.instance=x,Tt(x),x):(u=o,(x=wi.get(C))&&(u=I({},o),qu(u,x)),e=e.ownerDocument||e,x=e.createElement("script"),Tt(x),mr(x,"link",u),e.head.appendChild(x),n.instance=x);case"void":return null;default:throw Error(g(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,Ql(u,o.precedence,e));return n.instance}function Ql(e,n,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=u.length?u[u.length-1]:null,C=x,R=0;R<u.length;R++){var L=u[R];if(L.dataset.precedence===n)C=L;else if(C!==x)break}C?C.parentNode.insertBefore(e,C.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function Xu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function qu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Zl=null;function v1(e,n,o){if(Zl===null){var u=new Map,x=Zl=new Map;x.set(o,u)}else x=Zl,u=x.get(o),u||(u=new Map,x.set(o,u));if(u.has(e))return u;for(u.set(e,null),o=o.getElementsByTagName(e),x=0;x<o.length;x++){var C=o[x];if(!(C[Pr]||C[Sn]||e==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var R=C.getAttribute(n)||"";R=e+R;var L=u.get(R);L?L.push(C):u.set(R,[C])}}return u}function C1(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function Fp(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function E1(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Qo=null;function Hp(){}function Gp(e,n,o){if(Qo===null)throw Error(g(475));var u=Qo;if(n.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var x=lo(o.href),C=e.querySelector(qo(x));if(C){e=C._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(u.count++,u=Wl.bind(u),e.then(u,u)),n.state.loading|=4,n.instance=C,Tt(C);return}C=e.ownerDocument||e,o=y1(o),(x=wi.get(x))&&Xu(o,x),C=C.createElement("link"),Tt(C);var R=C;R._p=new Promise(function(L,G){R.onload=L,R.onerror=G}),mr(C,"link",o),n.instance=C}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(u.count++,n=Wl.bind(u),e.addEventListener("load",n),e.addEventListener("error",n))}}function Vp(){if(Qo===null)throw Error(g(475));var e=Qo;return e.stylesheets&&e.count===0&&Ku(e,e.stylesheets),0<e.count?function(n){var o=setTimeout(function(){if(e.stylesheets&&Ku(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(o)}}:null}function Wl(){if(this.count--,this.count===0){if(this.stylesheets)Ku(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Jl=null;function Ku(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Jl=new Map,n.forEach(Yp,e),Jl=null,Wl.call(e))}function Yp(e,n){if(!(n.state.loading&4)){var o=Jl.get(e);if(o)var u=o.get(null);else{o=new Map,Jl.set(e,o);for(var x=e.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<x.length;C++){var R=x[C];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(o.set(R.dataset.precedence,R),u=R)}u&&o.set(null,u)}x=n.instance,R=x.getAttribute("data-precedence"),C=o.get(R)||u,C===u&&o.set(null,x),o.set(R,x),this.count++,u=Wl.bind(this),x.addEventListener("load",u),x.addEventListener("error",u),C?C.parentNode.insertBefore(x,C.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(x,e.firstChild)),n.state.loading|=4}}var Zo={$$typeof:Oe,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function Xp(e,n,o,u,x,C,R,L){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Et(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Et(0),this.hiddenUpdates=Et(null),this.identifierPrefix=u,this.onUncaughtError=x,this.onCaughtError=C,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function A1(e,n,o,u,x,C,R,L,G,ee,he,xe){return e=new Xp(e,n,o,R,L,G,ee,xe),n=1,C===!0&&(n|=24),C=ni(3,null,null,n),e.current=C,C.stateNode=e,n=Rc(),n.refCount++,e.pooledCache=n,n.refCount++,C.memoizedState={element:u,isDehydrated:o,cache:n},Dc(C),e}function S1(e){return e?(e=aa,e):aa}function w1(e,n,o,u,x,C){x=S1(x),u.context===null?u.context=x:u.pendingContext=x,u=qa(n),u.payload={element:o},C=C===void 0?null:C,C!==null&&(u.callback=C),o=Ka(e,u,n),o!==null&&(oi(o,e,n),To(o,e,n))}function T1(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function Qu(e,n){T1(e,n),(e=e.alternate)&&T1(e,n)}function _1(e){if(e.tag===13){var n=Hi(e,67108864);n!==null&&oi(n,e,67108864),Qu(e,67108864)}}var $l=!0;function qp(e,n,o,u){var x=ie.T;ie.T=null;var C=Q.p;try{Q.p=2,Zu(e,n,o,u)}finally{Q.p=C,ie.T=x}}function Kp(e,n,o,u){var x=ie.T;ie.T=null;var C=Q.p;try{Q.p=8,Zu(e,n,o,u)}finally{Q.p=C,ie.T=x}}function Zu(e,n,o,u){if($l){var x=Wu(u);if(x===null)Pu(e,n,u,ec,o),R1(e,u);else if(Zp(x,e,n,o,u))u.stopPropagation();else if(R1(e,u),n&4&&-1<Qp.indexOf(e)){for(;x!==null;){var C=On(x);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var R=Mt(C.pendingLanes);if(R!==0){var L=C;for(L.pendingLanes|=2,L.entangledLanes|=2;R;){var G=1<<31-jt(R);L.entanglements[1]|=G,R&=~G}ua(C),(en&6)===0&&(Pl=Qt()+500,Go(0))}}break;case 13:L=Hi(C,2),L!==null&&oi(L,C,2),Ul(),Qu(C,2)}if(C=Wu(u),C===null&&Pu(e,n,u,ec,o),C===x)break;x=C}x!==null&&u.stopPropagation()}else Pu(e,n,u,null,o)}}function Wu(e){return e=Bi(e),Ju(e)}var ec=null;function Ju(e){if(ec=null,e=rn(e),e!==null){var n=v(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=w(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ec=e,null}function N1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zt()){case wt:return 2;case Ti:return 8;case ke:case da:return 32;case _i:return 268435456;default:return 32}default:return 32}}var $u=!1,os=null,ls=null,cs=null,Wo=new Map,Jo=new Map,us=[],Qp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R1(e,n){switch(e){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":Wo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(n.pointerId)}}function $o(e,n,o,u,x,C){return e===null||e.nativeEvent!==C?(e={blockedOn:n,domEventName:o,eventSystemFlags:u,nativeEvent:C,targetContainers:[x]},n!==null&&(n=On(n),n!==null&&_1(n)),e):(e.eventSystemFlags|=u,n=e.targetContainers,x!==null&&n.indexOf(x)===-1&&n.push(x),e)}function Zp(e,n,o,u,x){switch(n){case"focusin":return os=$o(os,e,n,o,u,x),!0;case"dragenter":return ls=$o(ls,e,n,o,u,x),!0;case"mouseover":return cs=$o(cs,e,n,o,u,x),!0;case"pointerover":var C=x.pointerId;return Wo.set(C,$o(Wo.get(C)||null,e,n,o,u,x)),!0;case"gotpointercapture":return C=x.pointerId,Jo.set(C,$o(Jo.get(C)||null,e,n,o,u,x)),!0}return!1}function O1(e){var n=rn(e.target);if(n!==null){var o=v(n);if(o!==null){if(n=o.tag,n===13){if(n=w(o),n!==null){e.blockedOn=n,qr(e.priority,function(){if(o.tag===13){var u=si();u=ga(u);var x=Hi(o,u);x!==null&&oi(x,o,u),Qu(o,u)}});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=Wu(e.nativeEvent);if(o===null){o=e.nativeEvent;var u=new o.constructor(o.type,o);Cr=u,o.target.dispatchEvent(u),Cr=null}else return n=On(o),n!==null&&_1(n),e.blockedOn=o,!1;n.shift()}return!0}function I1(e,n,o){tc(e)&&o.delete(n)}function Wp(){$u=!1,os!==null&&tc(os)&&(os=null),ls!==null&&tc(ls)&&(ls=null),cs!==null&&tc(cs)&&(cs=null),Wo.forEach(I1),Jo.forEach(I1)}function nc(e,n){e.blockedOn===n&&(e.blockedOn=null,$u||($u=!0,p.unstable_scheduleCallback(p.unstable_NormalPriority,Wp)))}var rc=null;function M1(e){rc!==e&&(rc=e,p.unstable_scheduleCallback(p.unstable_NormalPriority,function(){rc===e&&(rc=null);for(var n=0;n<e.length;n+=3){var o=e[n],u=e[n+1],x=e[n+2];if(typeof u!="function"){if(Ju(u||o)===null)continue;break}var C=On(o);C!==null&&(e.splice(n,3),n-=3,Jc(C,{pending:!0,data:x,method:o.method,action:u},u,x))}}))}function el(e){function n(G){return nc(G,e)}os!==null&&nc(os,e),ls!==null&&nc(ls,e),cs!==null&&nc(cs,e),Wo.forEach(n),Jo.forEach(n);for(var o=0;o<us.length;o++){var u=us[o];u.blockedOn===e&&(u.blockedOn=null)}for(;0<us.length&&(o=us[0],o.blockedOn===null);)O1(o),o.blockedOn===null&&us.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var x=o[u],C=o[u+1],R=x[lt]||null;if(typeof C=="function")R||M1(o);else if(R){var L=null;if(C&&C.hasAttribute("formAction")){if(x=C,R=C[lt]||null)L=R.formAction;else if(Ju(x)!==null)continue}else L=R.action;typeof L=="function"?o[u+1]=L:(o.splice(u,3),u-=3),M1(o)}}}function ef(e){this._internalRoot=e}ic.prototype.render=ef.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(g(409));var o=n.current,u=si();w1(o,u,e,n,null,null)},ic.prototype.unmount=ef.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;w1(e.current,2,null,e,null,null),Ul(),n[$t]=null}};function ic(e){this._internalRoot=e}ic.prototype.unstable_scheduleHydration=function(e){if(e){var n=br();e={blockedOn:null,target:e,priority:n};for(var o=0;o<us.length&&n!==0&&n<us[o].priority;o++);us.splice(o,0,e),o===0&&O1(e)}};var D1=f.version;if(D1!=="19.1.0")throw Error(g(527,D1,"19.1.0"));Q.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(g(188)):(e=Object.keys(e).join(","),Error(g(268,e)));return e=N(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var Jp={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{gn=ac.inject(Jp),bn=ac}catch{}}return nl.createRoot=function(e,n){if(!y(e))throw Error(g(299));var o=!1,u="",x=Q0,C=Z0,R=W0,L=null;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(x=n.onUncaughtError),n.onCaughtError!==void 0&&(C=n.onCaughtError),n.onRecoverableError!==void 0&&(R=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(L=n.unstable_transitionCallbacks)),n=A1(e,1,!1,null,null,o,u,x,C,R,L,null),e[$t]=n.current,Lu(e),new ef(n)},nl.hydrateRoot=function(e,n,o){if(!y(e))throw Error(g(299));var u=!1,x="",C=Q0,R=Z0,L=W0,G=null,ee=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(x=o.identifierPrefix),o.onUncaughtError!==void 0&&(C=o.onUncaughtError),o.onCaughtError!==void 0&&(R=o.onCaughtError),o.onRecoverableError!==void 0&&(L=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(G=o.unstable_transitionCallbacks),o.formState!==void 0&&(ee=o.formState)),n=A1(e,1,!0,n,o??null,u,x,C,R,L,G,ee),n.context=S1(null),o=n.current,u=si(),u=ga(u),x=qa(u),x.callback=null,Ka(o,x,u),o=u,n.current.lanes=o,yr(n,o),ua(n),e[$t]=n.current,Lu(e),new ic(n)},nl.version="19.1.0",nl}var G1;function l2(){if(G1)return rf.exports;G1=1;function p(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p)}catch(f){console.error(f)}}return p(),rf.exports=o2(),rf.exports}var c2=l2();const u2=po(c2);var oc={exports:{}},f2=oc.exports,V1;function h2(){return V1||(V1=1,function(p,f){(function(h,g){p.exports=g()})(f2,function(){var h=function(r,a){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(c[m]=d[m])})(r,a)},g=function(){return(g=Object.assign||function(r){for(var a,c=1,d=arguments.length;c<d;c++)for(var m in a=arguments[c])Object.prototype.hasOwnProperty.call(a,m)&&(r[m]=a[m]);return r}).apply(this,arguments)};function y(r,a,c){for(var d,m=0,b=a.length;m<b;m++)!d&&m in a||((d=d||Array.prototype.slice.call(a,0,m))[m]=a[m]);return r.concat(d||Array.prototype.slice.call(a))}var v=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:il,w=Object.keys,T=Array.isArray;function N(r,a){return typeof a!="object"||w(a).forEach(function(c){r[c]=a[c]}),r}typeof Promise>"u"||v.Promise||(v.Promise=Promise);var E=Object.getPrototypeOf,I={}.hasOwnProperty;function D(r,a){return I.call(r,a)}function X(r,a){typeof a=="function"&&(a=a(E(r))),(typeof Reflect>"u"?w:Reflect.ownKeys)(a).forEach(function(c){ce(r,c,a[c])})}var te=Object.defineProperty;function ce(r,a,c,d){te(r,a,N(c&&D(c,"get")&&typeof c.get=="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},d))}function ue(r){return{from:function(a){return r.prototype=Object.create(a.prototype),ce(r.prototype,"constructor",r),{extend:X.bind(null,r.prototype)}}}}var Le=Object.getOwnPropertyDescriptor,je=[].slice;function Pe(r,a,c){return je.call(r,a,c)}function Oe(r,a){return a(r)}function Ge(r){if(!r)throw new Error("Assertion Failed")}function Me(r){v.setImmediate?setImmediate(r):setTimeout(r,0)}function Ve(r,a){if(typeof a=="string"&&D(r,a))return r[a];if(!a)return r;if(typeof a!="string"){for(var c=[],d=0,m=a.length;d<m;++d){var b=Ve(r,a[d]);c.push(b)}return c}var A=a.indexOf(".");if(A!==-1){var S=r[a.substr(0,A)];return S==null?void 0:Ve(S,a.substr(A+1))}}function fe(r,a,c){if(r&&a!==void 0&&!("isFrozen"in Object&&Object.isFrozen(r)))if(typeof a!="string"&&"length"in a){Ge(typeof c!="string"&&"length"in c);for(var d=0,m=a.length;d<m;++d)fe(r,a[d],c[d])}else{var b,A,S=a.indexOf(".");S!==-1?(b=a.substr(0,S),(A=a.substr(S+1))===""?c===void 0?T(r)&&!isNaN(parseInt(b))?r.splice(b,1):delete r[b]:r[b]=c:fe(S=!(S=r[b])||!D(r,b)?r[b]={}:S,A,c)):c===void 0?T(r)&&!isNaN(parseInt(a))?r.splice(a,1):delete r[a]:r[a]=c}}function Je(r){var a,c={};for(a in r)D(r,a)&&(c[a]=r[a]);return c}var be=[].concat;function Nn(r){return be.apply([],r)}var gn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Nn([8,16,32,64].map(function(r){return["Int","Uint","Float"].map(function(a){return a+r+"Array"})}))).filter(function(r){return v[r]}),Pt=new Set(gn.map(function(r){return v[r]})),De=null;function tt(r){return De=new WeakMap,r=function a(c){if(!c||typeof c!="object")return c;var d=De.get(c);if(d)return d;if(T(c)){d=[],De.set(c,d);for(var m=0,b=c.length;m<b;++m)d.push(a(c[m]))}else if(Pt.has(c.constructor))d=c;else{var A,S=E(c);for(A in d=S===Object.prototype?{}:Object.create(S),De.set(c,d),c)D(c,A)&&(d[A]=a(c[A]))}return d}(r),De=null,r}var It={}.toString;function re(r){return It.call(r).slice(8,-1)}var ie=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Q=typeof ie=="symbol"?function(r){var a;return r!=null&&(a=r[ie])&&a.apply(r)}:function(){return null};function Ee(r,a){return a=r.indexOf(a),0<=a&&r.splice(a,1),0<=a}var Ke={};function Y(r){var a,c,d,m;if(arguments.length===1){if(T(r))return r.slice();if(this===Ke&&typeof r=="string")return[r];if(m=Q(r)){for(c=[];!(d=m.next()).done;)c.push(d.value);return c}if(r==null)return[r];if(typeof(a=r.length)!="number")return[r];for(c=new Array(a);a--;)c[a]=r[a];return c}for(a=arguments.length,c=new Array(a);a--;)c[a]=arguments[a];return c}var me=typeof Symbol<"u"?function(r){return r[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ni=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],tr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ni),we={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function _e(r,a){this.name=r,this.message=a}function ze(r,a){return r+". Errors: "+Object.keys(a).map(function(c){return a[c].toString()}).filter(function(c,d,m){return m.indexOf(c)===d}).join(`
`)}function pt(r,a,c,d){this.failures=a,this.failedKeys=d,this.successCount=c,this.message=ze(r,a)}function ve(r,a){this.name="BulkError",this.failures=Object.keys(a).map(function(c){return a[c]}),this.failuresByPos=a,this.message=ze(r,this.failures)}ue(_e).from(Error).extend({toString:function(){return this.name+": "+this.message}}),ue(pt).from(_e),ue(ve).from(_e);var Bn=tr.reduce(function(r,a){return r[a]=a+"Error",r},{}),ht=_e,Fe=tr.reduce(function(r,a){var c=a+"Error";function d(m,b){this.name=c,m?typeof m=="string"?(this.message="".concat(m).concat(b?`
 `+b:""),this.inner=b||null):typeof m=="object"&&(this.message="".concat(m.name," ").concat(m.message),this.inner=m):(this.message=we[a]||c,this.inner=null)}return ue(d).from(ht),r[a]=d,r},{});Fe.Syntax=SyntaxError,Fe.Type=TypeError,Fe.Range=RangeError;var fi=Ni.reduce(function(r,a){return r[a+"Error"]=Fe[a],r},{}),yn=tr.reduce(function(r,a){return["Syntax","Type","Range"].indexOf(a)===-1&&(r[a+"Error"]=Fe[a]),r},{});function Nt(){}function mt(r){return r}function hi(r,a){return r==null||r===mt?a:function(c){return a(r(c))}}function Vn(r,a){return function(){r.apply(this,arguments),a.apply(this,arguments)}}function ha(r,a){return r===Nt?a:function(){var c=r.apply(this,arguments);c!==void 0&&(arguments[0]=c);var d=this.onsuccess,m=this.onerror;this.onsuccess=null,this.onerror=null;var b=a.apply(this,arguments);return d&&(this.onsuccess=this.onsuccess?Vn(d,this.onsuccess):d),m&&(this.onerror=this.onerror?Vn(m,this.onerror):m),b!==void 0?b:c}}function Qt(r,a){return r===Nt?a:function(){r.apply(this,arguments);var c=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null,a.apply(this,arguments),c&&(this.onsuccess=this.onsuccess?Vn(c,this.onsuccess):c),d&&(this.onerror=this.onerror?Vn(d,this.onerror):d)}}function Zt(r,a){return r===Nt?a:function(c){var d=r.apply(this,arguments);N(c,d);var m=this.onsuccess,b=this.onerror;return this.onsuccess=null,this.onerror=null,c=a.apply(this,arguments),m&&(this.onsuccess=this.onsuccess?Vn(m,this.onsuccess):m),b&&(this.onerror=this.onerror?Vn(b,this.onerror):b),d===void 0?c===void 0?void 0:c:N(d,c)}}function wt(r,a){return r===Nt?a:function(){return a.apply(this,arguments)!==!1&&r.apply(this,arguments)}}function Ti(r,a){return r===Nt?a:function(){var c=r.apply(this,arguments);if(c&&typeof c.then=="function"){for(var d=this,m=arguments.length,b=new Array(m);m--;)b[m]=arguments[m];return c.then(function(){return a.apply(d,b)})}return a.apply(this,arguments)}}yn.ModifyError=pt,yn.DexieError=_e,yn.BulkError=ve;var ke=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function da(r){ke=r}var _i={},Br=100,gn=typeof Promise>"u"?[]:function(){var r=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[r,E(r),r];var a=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[a,E(a),r]}(),Ni=gn[0],tr=gn[1],gn=gn[2],tr=tr&&tr.then,bn=Ni&&Ni.constructor,Ln=!!gn,jt=function(r,a){zt.push([r,a]),Ri&&(queueMicrotask(Rn),Ri=!1)},La=!0,Ri=!0,Oi=[],Wt=[],Ne=mt,Mt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Nt,pgp:!1,env:{},finalize:Nt},Te=Mt,zt=[],Nr=0,Ii=[];function Ie(r){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var a=this._PSD=Te;if(typeof r!="function"){if(r!==_i)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Pa(this,this._value))}this._state=null,this._value=null,++a.ref,function c(d,m){try{m(function(b){if(d._state===null){if(b===d)throw new TypeError("A promise cannot be resolved with itself.");var A=d._lib&&br();b&&typeof b.then=="function"?c(d,function(S,_){b instanceof Ie?b._then(S,_):b.then(S,_)}):(d._state=!0,d._value=b,ja(d)),A&&qr()}},Pa.bind(null,d))}catch(b){Pa(d,b)}}(this,r)}var Et={get:function(){var r=Te,a=Be;function c(d,m){var b=this,A=!r.global&&(r!==Te||a!==Be),S=A&&!On(),_=new Ie(function(M,B){ir(b,new yr(Pn(d,r,A,S),Pn(m,r,A,S),M,B,r))});return this._consoleTask&&(_._consoleTask=this._consoleTask),_}return c.prototype=_i,c},set:function(r){ce(this,"then",r&&r.prototype===_i?Et:{get:function(){return r},set:Et.set})}};function yr(r,a,c,d,m){this.onFulfilled=typeof r=="function"?r:null,this.onRejected=typeof a=="function"?a:null,this.resolve=c,this.reject=d,this.psd=m}function Pa(r,a){var c,d;Wt.push(a),r._state===null&&(c=r._lib&&br(),a=Ne(a),r._state=!1,r._value=a,d=r,Oi.some(function(m){return m._value===d._value})||Oi.push(d),ja(r),c&&qr())}function ja(r){var a=r._listeners;r._listeners=[];for(var c=0,d=a.length;c<d;++c)ir(r,a[c]);var m=r._PSD;--m.ref||m.finalize(),Nr===0&&(++Nr,jt(function(){--Nr==0&&An()},[]))}function ir(r,a){if(r._state!==null){var c=r._state?a.onFulfilled:a.onRejected;if(c===null)return(r._state?a.resolve:a.reject)(r._value);++a.psd.ref,++Nr,jt(ga,[c,r,a])}else r._listeners.push(a)}function ga(r,a,c){try{var d,m=a._value;!a._state&&Wt.length&&(Wt=[]),d=ke&&a._consoleTask?a._consoleTask.run(function(){return r(m)}):r(m),a._state||Wt.indexOf(m)!==-1||function(b){for(var A=Oi.length;A;)if(Oi[--A]._value===b._value)return Oi.splice(A,1)}(a),c.resolve(d)}catch(b){c.reject(b)}finally{--Nr==0&&An(),--c.psd.ref||c.psd.finalize()}}function Rn(){di(Mt,function(){br()&&qr()})}function br(){var r=La;return Ri=La=!1,r}function qr(){var r,a,c;do for(;0<zt.length;)for(r=zt,zt=[],c=r.length,a=0;a<c;++a){var d=r[a];d[0].apply(null,d[1])}while(0<zt.length);Ri=La=!0}function An(){var r=Oi;Oi=[],r.forEach(function(d){d._PSD.onunhandled.call(null,d._value,d)});for(var a=Ii.slice(0),c=a.length;c;)a[--c]()}function Sn(r){return new Ie(_i,!1,r)}function lt(r,a){var c=Te;return function(){var d=br(),m=Te;try{return Tt(c,!0),r.apply(this,arguments)}catch(b){a&&a(b)}finally{Tt(m,!1),d&&qr()}}}X(Ie.prototype,{then:Et,_then:function(r,a){ir(this,new yr(null,null,r,a,Te))},catch:function(r){if(arguments.length===1)return this.then(null,r);var a=r,c=arguments[1];return typeof a=="function"?this.then(null,function(d){return(d instanceof a?c:Sn)(d)}):this.then(null,function(d){return(d&&d.name===a?c:Sn)(d)})},finally:function(r){return this.then(function(a){return Ie.resolve(r()).then(function(){return a})},function(a){return Ie.resolve(r()).then(function(){return Sn(a)})})},timeout:function(r,a){var c=this;return r<1/0?new Ie(function(d,m){var b=setTimeout(function(){return m(new Fe.Timeout(a))},r);c.then(d,m).finally(clearTimeout.bind(null,b))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&ce(Ie.prototype,Symbol.toStringTag,"Dexie.Promise"),Mt.env=ms(),X(Ie,{all:function(){var r=Y.apply(null,arguments).map(Rr);return new Ie(function(a,c){r.length===0&&a([]);var d=r.length;r.forEach(function(m,b){return Ie.resolve(m).then(function(A){r[b]=A,--d||a(r)},c)})})},resolve:function(r){return r instanceof Ie?r:r&&typeof r.then=="function"?new Ie(function(a,c){r.then(a,c)}):new Ie(_i,!0,r)},reject:Sn,race:function(){var r=Y.apply(null,arguments).map(Rr);return new Ie(function(a,c){r.map(function(d){return Ie.resolve(d).then(a,c)})})},PSD:{get:function(){return Te},set:function(r){return Te=r}},totalEchoes:{get:function(){return Be}},newPSD:vr,usePSD:di,scheduler:{get:function(){return jt},set:function(r){jt=r}},rejectionMapper:{get:function(){return Ne},set:function(r){Ne=r}},follow:function(r,a){return new Ie(function(c,d){return vr(function(m,b){var A=Te;A.unhandleds=[],A.onunhandled=b,A.finalize=Vn(function(){var S,_=this;S=function(){_.unhandleds.length===0?m():b(_.unhandleds[0])},Ii.push(function M(){S(),Ii.splice(Ii.indexOf(M),1)}),++Nr,jt(function(){--Nr==0&&An()},[])},A.finalize),r()},a,c,d)})}}),bn&&(bn.allSettled&&ce(Ie,"allSettled",function(){var r=Y.apply(null,arguments).map(Rr);return new Ie(function(a){r.length===0&&a([]);var c=r.length,d=new Array(c);r.forEach(function(m,b){return Ie.resolve(m).then(function(A){return d[b]={status:"fulfilled",value:A}},function(A){return d[b]={status:"rejected",reason:A}}).then(function(){return--c||a(d)})})})}),bn.any&&typeof AggregateError<"u"&&ce(Ie,"any",function(){var r=Y.apply(null,arguments).map(Rr);return new Ie(function(a,c){r.length===0&&c(new AggregateError([]));var d=r.length,m=new Array(d);r.forEach(function(b,A){return Ie.resolve(b).then(function(S){return a(S)},function(S){m[A]=S,--d||c(new AggregateError(m))})})})}),bn.withResolvers&&(Ie.withResolvers=bn.withResolvers));var $t={awaits:0,echoes:0,id:0},Yn=0,Lr=[],$n=0,Be=0,Pr=0;function vr(r,a,c,d){var m=Te,b=Object.create(m);return b.parent=m,b.ref=0,b.global=!1,b.id=++Pr,Mt.env,b.env=Ln?{Promise:Ie,PromiseProp:{value:Ie,configurable:!0,writable:!0},all:Ie.all,race:Ie.race,allSettled:Ie.allSettled,any:Ie.any,resolve:Ie.resolve,reject:Ie.reject}:{},a&&N(b,a),++m.ref,b.finalize=function(){--this.parent.ref||this.parent.finalize()},d=di(b,r,c,d),b.ref===0&&b.finalize(),d}function rn(){return $t.id||($t.id=++Yn),++$t.awaits,$t.echoes+=Br,$t.id}function On(){return!!$t.awaits&&(--$t.awaits==0&&($t.id=0),$t.echoes=$t.awaits*Br,!0)}function Rr(r){return $t.echoes&&r&&r.constructor===bn?(rn(),r.then(function(a){return On(),a},function(a){return On(),at(a)})):r}function Kr(){var r=Lr[Lr.length-1];Lr.pop(),Tt(r,!1)}function Tt(r,a){var c,d=Te;(a?!$t.echoes||$n++&&r===Te:!$n||--$n&&r===Te)||queueMicrotask(a?(function(m){++Be,$t.echoes&&--$t.echoes!=0||($t.echoes=$t.awaits=$t.id=0),Lr.push(Te),Tt(m,!0)}).bind(null,r):Kr),r!==Te&&(Te=r,d===Mt&&(Mt.env=ms()),Ln&&(c=Mt.env.Promise,a=r.env,(d.global||r.global)&&(Object.defineProperty(v,"Promise",a.PromiseProp),c.all=a.all,c.race=a.race,c.resolve=a.resolve,c.reject=a.reject,a.allSettled&&(c.allSettled=a.allSettled),a.any&&(c.any=a.any))))}function ms(){var r=v.Promise;return Ln?{Promise:r,PromiseProp:Object.getOwnPropertyDescriptor(v,"Promise"),all:r.all,race:r.race,allSettled:r.allSettled,any:r.any,resolve:r.resolve,reject:r.reject}:{}}function di(r,a,c,d,m){var b=Te;try{return Tt(r,!0),a(c,d,m)}finally{Tt(b,!1)}}function Pn(r,a,c,d){return typeof r!="function"?r:function(){var m=Te;c&&rn(),Tt(a,!0);try{return r.apply(this,arguments)}finally{Tt(m,!1),d&&queueMicrotask(On)}}}function fn(r){Promise===bn&&$t.echoes===0?$n===0?r():enqueueNativeMicroTask(r):setTimeout(r,0)}(""+tr).indexOf("[native code]")===-1&&(rn=On=Nt);var at=Ie.reject,Qr="￿",jn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ua="String expected.",ge=[],Mi="__dbnames",Dt="readonly",jr="readwrite";function gi(r,a){return r?a?function(){return r.apply(this,arguments)&&a.apply(this,arguments)}:r:a}var bt={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function vt(r){return typeof r!="string"||/\./.test(r)?function(a){return a}:function(a){return a[r]===void 0&&r in a&&delete(a=tt(a))[r],a}}function gt(){throw Fe.Type()}function xt(r,a){try{var c=pa(r),d=pa(a);if(c!==d)return c==="Array"?1:d==="Array"?-1:c==="binary"?1:d==="binary"?-1:c==="string"?1:d==="string"?-1:c==="Date"?1:d!=="Date"?NaN:-1;switch(c){case"number":case"Date":case"string":return a<r?1:r<a?-1:0;case"binary":return function(m,b){for(var A=m.length,S=b.length,_=A<S?A:S,M=0;M<_;++M)if(m[M]!==b[M])return m[M]<b[M]?-1:1;return A===S?0:A<S?-1:1}(er(r),er(a));case"Array":return function(m,b){for(var A=m.length,S=b.length,_=A<S?A:S,M=0;M<_;++M){var B=xt(m[M],b[M]);if(B!==0)return B}return A===S?0:A<S?-1:1}(r,a)}}catch{}return NaN}function pa(r){var a=typeof r;return a!="object"?a:ArrayBuffer.isView(r)?"binary":(r=re(r),r==="ArrayBuffer"?"binary":r)}function er(r){return r instanceof Uint8Array?r:ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r)}var pn=(kt.prototype._trans=function(r,a,c){var d=this._tx||Te.trans,m=this.name,b=ke&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(r==="readonly"?"read":"write"," ").concat(this.name));function A(M,B,k){if(!k.schema[m])throw new Fe.NotFound("Table "+m+" not part of transaction");return a(k.idbtrans,k)}var S=br();try{var _=d&&d.db._novip===this.db._novip?d===Te.trans?d._promise(r,A,c):vr(function(){return d._promise(r,A,c)},{trans:d,transless:Te.transless||Te}):function M(B,k,P,U){if(B.idbdb&&(B._state.openComplete||Te.letThrough||B._vip)){var z=B._createTransaction(k,P,B._dbSchema);try{z.create(),B._state.PR1398_maxLoop=3}catch(F){return F.name===Bn.InvalidState&&B.isOpen()&&0<--B._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),B.close({disableAutoOpen:!1}),B.open().then(function(){return M(B,k,P,U)})):at(F)}return z._promise(k,function(F,V){return vr(function(){return Te.trans=z,U(F,V,z)})}).then(function(F){if(k==="readwrite")try{z.idbtrans.commit()}catch{}return k==="readonly"?F:z._completion.then(function(){return F})})}if(B._state.openComplete)return at(new Fe.DatabaseClosed(B._state.dbOpenError));if(!B._state.isBeingOpened){if(!B._state.autoOpen)return at(new Fe.DatabaseClosed);B.open().catch(Nt)}return B._state.dbReadyPromise.then(function(){return M(B,k,P,U)})}(this.db,r,[this.name],A);return b&&(_._consoleTask=b,_=_.catch(function(M){return console.trace(M),at(M)})),_}finally{S&&qr()}},kt.prototype.get=function(r,a){var c=this;return r&&r.constructor===Object?this.where(r).first(a):r==null?at(new Fe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(d){return c.core.get({trans:d,key:r}).then(function(m){return c.hook.reading.fire(m)})}).then(a)},kt.prototype.where=function(r){if(typeof r=="string")return new this.db.WhereClause(this,r);if(T(r))return new this.db.WhereClause(this,"[".concat(r.join("+"),"]"));var a=w(r);if(a.length===1)return this.where(a[0]).equals(r[a[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(S){if(S.compound&&a.every(function(M){return 0<=S.keyPath.indexOf(M)})){for(var _=0;_<a.length;++_)if(a.indexOf(S.keyPath[_])===-1)return!1;return!0}return!1}).sort(function(S,_){return S.keyPath.length-_.keyPath.length})[0];if(c&&this.db._maxKey!==Qr){var b=c.keyPath.slice(0,a.length);return this.where(b).equals(b.map(function(_){return r[_]}))}!c&&ke&&console.warn("The query ".concat(JSON.stringify(r)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(a.join("+"),"]"));var d=this.schema.idxByName;function m(S,_){return xt(S,_)===0}var A=a.reduce(function(k,_){var M=k[0],B=k[1],k=d[_],P=r[_];return[M||k,M||!k?gi(B,k&&k.multi?function(U){return U=Ve(U,_),T(U)&&U.some(function(z){return m(P,z)})}:function(U){return m(P,Ve(U,_))}):B]},[null,null]),b=A[0],A=A[1];return b?this.where(b.name).equals(r[b.keyPath]).filter(A):c?this.filter(A):this.where(a).equals("")},kt.prototype.filter=function(r){return this.toCollection().and(r)},kt.prototype.count=function(r){return this.toCollection().count(r)},kt.prototype.offset=function(r){return this.toCollection().offset(r)},kt.prototype.limit=function(r){return this.toCollection().limit(r)},kt.prototype.each=function(r){return this.toCollection().each(r)},kt.prototype.toArray=function(r){return this.toCollection().toArray(r)},kt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},kt.prototype.orderBy=function(r){return new this.db.Collection(new this.db.WhereClause(this,T(r)?"[".concat(r.join("+"),"]"):r))},kt.prototype.reverse=function(){return this.toCollection().reverse()},kt.prototype.mapToClass=function(r){var a,c=this.db,d=this.name;function m(){return a!==null&&a.apply(this,arguments)||this}(this.schema.mappedClass=r).prototype instanceof gt&&(function(_,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function B(){this.constructor=_}h(_,M),_.prototype=M===null?Object.create(M):(B.prototype=M.prototype,new B)}(m,a=r),Object.defineProperty(m.prototype,"db",{get:function(){return c},enumerable:!1,configurable:!0}),m.prototype.table=function(){return d},r=m);for(var b=new Set,A=r.prototype;A;A=E(A))Object.getOwnPropertyNames(A).forEach(function(_){return b.add(_)});function S(_){if(!_)return _;var M,B=Object.create(r.prototype);for(M in _)if(!b.has(M))try{B[M]=_[M]}catch{}return B}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=S,this.hook("reading",S),r},kt.prototype.defineClass=function(){return this.mapToClass(function(r){N(this,r)})},kt.prototype.add=function(r,a){var c=this,d=this.schema.primKey,m=d.auto,b=d.keyPath,A=r;return b&&m&&(A=vt(b)(r)),this._trans("readwrite",function(S){return c.core.mutate({trans:S,type:"add",keys:a!=null?[a]:null,values:[A]})}).then(function(S){return S.numFailures?Ie.reject(S.failures[0]):S.lastResult}).then(function(S){if(b)try{fe(r,b,S)}catch{}return S})},kt.prototype.update=function(r,a){return typeof r!="object"||T(r)?this.where(":id").equals(r).modify(a):(r=Ve(r,this.schema.primKey.keyPath),r===void 0?at(new Fe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(r).modify(a))},kt.prototype.put=function(r,a){var c=this,d=this.schema.primKey,m=d.auto,b=d.keyPath,A=r;return b&&m&&(A=vt(b)(r)),this._trans("readwrite",function(S){return c.core.mutate({trans:S,type:"put",values:[A],keys:a!=null?[a]:null})}).then(function(S){return S.numFailures?Ie.reject(S.failures[0]):S.lastResult}).then(function(S){if(b)try{fe(r,b,S)}catch{}return S})},kt.prototype.delete=function(r){var a=this;return this._trans("readwrite",function(c){return a.core.mutate({trans:c,type:"delete",keys:[r]})}).then(function(c){return c.numFailures?Ie.reject(c.failures[0]):void 0})},kt.prototype.clear=function(){var r=this;return this._trans("readwrite",function(a){return r.core.mutate({trans:a,type:"deleteRange",range:bt})}).then(function(a){return a.numFailures?Ie.reject(a.failures[0]):void 0})},kt.prototype.bulkGet=function(r){var a=this;return this._trans("readonly",function(c){return a.core.getMany({keys:r,trans:c}).then(function(d){return d.map(function(m){return a.hook.reading.fire(m)})})})},kt.prototype.bulkAdd=function(r,a,c){var d=this,m=Array.isArray(a)?a:void 0,b=(c=c||(m?void 0:a))?c.allKeys:void 0;return this._trans("readwrite",function(A){var M=d.schema.primKey,S=M.auto,M=M.keyPath;if(M&&m)throw new Fe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(m&&m.length!==r.length)throw new Fe.InvalidArgument("Arguments objects and keys must have the same length");var _=r.length,M=M&&S?r.map(vt(M)):r;return d.core.mutate({trans:A,type:"add",keys:m,values:M,wantResults:b}).then(function(z){var k=z.numFailures,P=z.results,U=z.lastResult,z=z.failures;if(k===0)return b?P:U;throw new ve("".concat(d.name,".bulkAdd(): ").concat(k," of ").concat(_," operations failed"),z)})})},kt.prototype.bulkPut=function(r,a,c){var d=this,m=Array.isArray(a)?a:void 0,b=(c=c||(m?void 0:a))?c.allKeys:void 0;return this._trans("readwrite",function(A){var M=d.schema.primKey,S=M.auto,M=M.keyPath;if(M&&m)throw new Fe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(m&&m.length!==r.length)throw new Fe.InvalidArgument("Arguments objects and keys must have the same length");var _=r.length,M=M&&S?r.map(vt(M)):r;return d.core.mutate({trans:A,type:"put",keys:m,values:M,wantResults:b}).then(function(z){var k=z.numFailures,P=z.results,U=z.lastResult,z=z.failures;if(k===0)return b?P:U;throw new ve("".concat(d.name,".bulkPut(): ").concat(k," of ").concat(_," operations failed"),z)})})},kt.prototype.bulkUpdate=function(r){var a=this,c=this.core,d=r.map(function(A){return A.key}),m=r.map(function(A){return A.changes}),b=[];return this._trans("readwrite",function(A){return c.getMany({trans:A,keys:d,cache:"clone"}).then(function(S){var _=[],M=[];r.forEach(function(k,P){var U=k.key,z=k.changes,F=S[P];if(F){for(var V=0,K=Object.keys(z);V<K.length;V++){var $=K[V],ne=z[$];if($===a.schema.primKey.keyPath){if(xt(ne,U)!==0)throw new Fe.Constraint("Cannot update primary key in bulkUpdate()")}else fe(F,$,ne)}b.push(P),_.push(U),M.push(F)}});var B=_.length;return c.mutate({trans:A,type:"put",keys:_,values:M,updates:{keys:d,changeSpecs:m}}).then(function(k){var P=k.numFailures,U=k.failures;if(P===0)return B;for(var z=0,F=Object.keys(U);z<F.length;z++){var V,K=F[z],$=b[Number(K)];$!=null&&(V=U[K],delete U[K],U[$]=V)}throw new ve("".concat(a.name,".bulkUpdate(): ").concat(P," of ").concat(B," operations failed"),U)})})})},kt.prototype.bulkDelete=function(r){var a=this,c=r.length;return this._trans("readwrite",function(d){return a.core.mutate({trans:d,type:"delete",keys:r})}).then(function(A){var m=A.numFailures,b=A.lastResult,A=A.failures;if(m===0)return b;throw new ve("".concat(a.name,".bulkDelete(): ").concat(m," of ").concat(c," operations failed"),A)})},kt);function kt(){}function pi(r){function a(A,S){if(S){for(var _=arguments.length,M=new Array(_-1);--_;)M[_-1]=arguments[_];return c[A].subscribe.apply(null,M),r}if(typeof A=="string")return c[A]}var c={};a.addEventType=b;for(var d=1,m=arguments.length;d<m;++d)b(arguments[d]);return a;function b(A,S,_){if(typeof A!="object"){var M;S=S||wt;var B={subscribers:[],fire:_=_||Nt,subscribe:function(k){B.subscribers.indexOf(k)===-1&&(B.subscribers.push(k),B.fire=S(B.fire,k))},unsubscribe:function(k){B.subscribers=B.subscribers.filter(function(P){return P!==k}),B.fire=B.subscribers.reduce(S,_)}};return c[A]=a[A]=B}w(M=A).forEach(function(k){var P=M[k];if(T(P))b(k,M[k][0],M[k][1]);else{if(P!=="asap")throw new Fe.InvalidArgument("Invalid event config");var U=b(k,mt,function(){for(var z=arguments.length,F=new Array(z);z--;)F[z]=arguments[z];U.subscribers.forEach(function(V){Me(function(){V.apply(null,F)})})})}})}}function Jt(r,a){return ue(a).from({prototype:r}),a}function Xn(r,a){return!(r.filter||r.algorithm||r.or)&&(a?r.justLimit:!r.replayFilter)}function xs(r,a){r.filter=gi(r.filter,a)}function wn(r,a,c){var d=r.replayFilter;r.replayFilter=d?function(){return gi(d(),a())}:a,r.justLimit=c&&!d}function Ut(r,a){if(r.isPrimKey)return a.primaryKey;var c=a.getIndexByKeyPath(r.index);if(!c)throw new Fe.Schema("KeyPath "+r.index+" on object store "+a.name+" is not indexed");return c}function In(r,a,c){var d=Ut(r,a.schema);return a.openCursor({trans:c,values:!r.keysOnly,reverse:r.dir==="prev",unique:!!r.unique,query:{index:d,range:r.range}})}function W(r,a,c,d){var m=r.replayFilter?gi(r.filter,r.replayFilter()):r.filter;if(r.or){var b={},A=function(S,_,M){var B,k;m&&!m(_,M,function(P){return _.stop(P)},function(P){return _.fail(P)})||((k=""+(B=_.primaryKey))=="[object ArrayBuffer]"&&(k=""+new Uint8Array(B)),D(b,k)||(b[k]=!0,a(S,_,M)))};return Promise.all([r.or._iterate(A,c),j(In(r,d,c),r.algorithm,A,!r.keysOnly&&r.valueMapper)])}return j(In(r,d,c),gi(r.algorithm,m),a,!r.keysOnly&&r.valueMapper)}function j(r,a,c,d){var m=lt(d?function(b,A,S){return c(d(b),A,S)}:c);return r.then(function(b){if(b)return b.start(function(){var A=function(){return b.continue()};a&&!a(b,function(S){return A=S},function(S){b.stop(S),A=Nt},function(S){b.fail(S),A=Nt})||m(b.value,b,function(S){return A=S}),A()})})}var Ye=(vn.prototype.execute=function(r){var a=this["@@propmod"];if(a.add!==void 0){var c=a.add;if(T(c))return y(y([],T(r)?r:[],!0),c).sort();if(typeof c=="number")return(Number(r)||0)+c;if(typeof c=="bigint")try{return BigInt(r)+c}catch{return BigInt(0)+c}throw new TypeError("Invalid term ".concat(c))}if(a.remove!==void 0){var d=a.remove;if(T(d))return T(r)?r.filter(function(m){return!d.includes(m)}).sort():[];if(typeof d=="number")return Number(r)-d;if(typeof d=="bigint")try{return BigInt(r)-d}catch{return BigInt(0)-d}throw new TypeError("Invalid subtrahend ".concat(d))}return c=(c=a.replacePrefix)===null||c===void 0?void 0:c[0],c&&typeof r=="string"&&r.startsWith(c)?a.replacePrefix[1]+r.substring(c.length):r},vn);function vn(r){this["@@propmod"]=r}var Un=(Bt.prototype._read=function(r,a){var c=this._ctx;return c.error?c.table._trans(null,at.bind(null,c.error)):c.table._trans("readonly",r).then(a)},Bt.prototype._write=function(r){var a=this._ctx;return a.error?a.table._trans(null,at.bind(null,a.error)):a.table._trans("readwrite",r,"locked")},Bt.prototype._addAlgorithm=function(r){var a=this._ctx;a.algorithm=gi(a.algorithm,r)},Bt.prototype._iterate=function(r,a){return W(this._ctx,r,a,this._ctx.table.core)},Bt.prototype.clone=function(r){var a=Object.create(this.constructor.prototype),c=Object.create(this._ctx);return r&&N(c,r),a._ctx=c,a},Bt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Bt.prototype.each=function(r){var a=this._ctx;return this._read(function(c){return W(a,r,c,a.table.core)})},Bt.prototype.count=function(r){var a=this;return this._read(function(c){var d=a._ctx,m=d.table.core;if(Xn(d,!0))return m.count({trans:c,query:{index:Ut(d,m.schema),range:d.range}}).then(function(A){return Math.min(A,d.limit)});var b=0;return W(d,function(){return++b,!1},c,m).then(function(){return b})}).then(r)},Bt.prototype.sortBy=function(r,a){var c=r.split(".").reverse(),d=c[0],m=c.length-1;function b(_,M){return M?b(_[c[M]],M-1):_[d]}var A=this._ctx.dir==="next"?1:-1;function S(_,M){return xt(b(_,m),b(M,m))*A}return this.toArray(function(_){return _.sort(S)}).then(a)},Bt.prototype.toArray=function(r){var a=this;return this._read(function(c){var d=a._ctx;if(d.dir==="next"&&Xn(d,!0)&&0<d.limit){var m=d.valueMapper,b=Ut(d,d.table.core.schema);return d.table.core.query({trans:c,limit:d.limit,values:!0,query:{index:b,range:d.range}}).then(function(S){return S=S.result,m?S.map(m):S})}var A=[];return W(d,function(S){return A.push(S)},c,d.table.core).then(function(){return A})},r)},Bt.prototype.offset=function(r){var a=this._ctx;return r<=0||(a.offset+=r,Xn(a)?wn(a,function(){var c=r;return function(d,m){return c===0||(c===1?--c:m(function(){d.advance(c),c=0}),!1)}}):wn(a,function(){var c=r;return function(){return--c<0}})),this},Bt.prototype.limit=function(r){return this._ctx.limit=Math.min(this._ctx.limit,r),wn(this._ctx,function(){var a=r;return function(c,d,m){return--a<=0&&d(m),0<=a}},!0),this},Bt.prototype.until=function(r,a){return xs(this._ctx,function(c,d,m){return!r(c.value)||(d(m),a)}),this},Bt.prototype.first=function(r){return this.limit(1).toArray(function(a){return a[0]}).then(r)},Bt.prototype.last=function(r){return this.reverse().first(r)},Bt.prototype.filter=function(r){var a;return xs(this._ctx,function(c){return r(c.value)}),(a=this._ctx).isMatch=gi(a.isMatch,r),this},Bt.prototype.and=function(r){return this.filter(r)},Bt.prototype.or=function(r){return new this.db.WhereClause(this._ctx.table,r,this)},Bt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Bt.prototype.desc=function(){return this.reverse()},Bt.prototype.eachKey=function(r){var a=this._ctx;return a.keysOnly=!a.isMatch,this.each(function(c,d){r(d.key,d)})},Bt.prototype.eachUniqueKey=function(r){return this._ctx.unique="unique",this.eachKey(r)},Bt.prototype.eachPrimaryKey=function(r){var a=this._ctx;return a.keysOnly=!a.isMatch,this.each(function(c,d){r(d.primaryKey,d)})},Bt.prototype.keys=function(r){var a=this._ctx;a.keysOnly=!a.isMatch;var c=[];return this.each(function(d,m){c.push(m.key)}).then(function(){return c}).then(r)},Bt.prototype.primaryKeys=function(r){var a=this._ctx;if(a.dir==="next"&&Xn(a,!0)&&0<a.limit)return this._read(function(d){var m=Ut(a,a.table.core.schema);return a.table.core.query({trans:d,values:!1,limit:a.limit,query:{index:m,range:a.range}})}).then(function(d){return d.result}).then(r);a.keysOnly=!a.isMatch;var c=[];return this.each(function(d,m){c.push(m.primaryKey)}).then(function(){return c}).then(r)},Bt.prototype.uniqueKeys=function(r){return this._ctx.unique="unique",this.keys(r)},Bt.prototype.firstKey=function(r){return this.limit(1).keys(function(a){return a[0]}).then(r)},Bt.prototype.lastKey=function(r){return this.reverse().firstKey(r)},Bt.prototype.distinct=function(){var r=this._ctx,r=r.index&&r.table.schema.idxByName[r.index];if(!r||!r.multi)return this;var a={};return xs(this._ctx,function(m){var d=m.primaryKey.toString(),m=D(a,d);return a[d]=!0,!m}),this},Bt.prototype.modify=function(r){var a=this,c=this._ctx;return this._write(function(d){var m,b,A;A=typeof r=="function"?r:(m=w(r),b=m.length,function(V){for(var K=!1,$=0;$<b;++$){var ne=m[$],le=r[ne],de=Ve(V,ne);le instanceof Ye?(fe(V,ne,le.execute(de)),K=!0):de!==le&&(fe(V,ne,le),K=!0)}return K});var S=c.table.core,k=S.schema.primaryKey,_=k.outbound,M=k.extractKey,B=200,k=a.db._options.modifyChunkSize;k&&(B=typeof k=="object"?k[S.name]||k["*"]||200:k);function P(V,ne){var $=ne.failures,ne=ne.numFailures;z+=V-ne;for(var le=0,de=w($);le<de.length;le++){var Ce=de[le];U.push($[Ce])}}var U=[],z=0,F=[];return a.clone().primaryKeys().then(function(V){function K(ne){var le=Math.min(B,V.length-ne);return S.getMany({trans:d,keys:V.slice(ne,ne+le),cache:"immutable"}).then(function(de){for(var Ce=[],ye=[],Ae=_?[]:null,Re=[],Se=0;Se<le;++Se){var Ue=de[Se],et={value:tt(Ue),primKey:V[ne+Se]};A.call(et,et.value,et)!==!1&&(et.value==null?Re.push(V[ne+Se]):_||xt(M(Ue),M(et.value))===0?(ye.push(et.value),_&&Ae.push(V[ne+Se])):(Re.push(V[ne+Se]),Ce.push(et.value)))}return Promise.resolve(0<Ce.length&&S.mutate({trans:d,type:"add",values:Ce}).then(function(nt){for(var dt in nt.failures)Re.splice(parseInt(dt),1);P(Ce.length,nt)})).then(function(){return(0<ye.length||$&&typeof r=="object")&&S.mutate({trans:d,type:"put",keys:Ae,values:ye,criteria:$,changeSpec:typeof r!="function"&&r,isAdditionalChunk:0<ne}).then(function(nt){return P(ye.length,nt)})}).then(function(){return(0<Re.length||$&&r===qi)&&S.mutate({trans:d,type:"delete",keys:Re,criteria:$,isAdditionalChunk:0<ne}).then(function(nt){return P(Re.length,nt)})}).then(function(){return V.length>ne+le&&K(ne+B)})})}var $=Xn(c)&&c.limit===1/0&&(typeof r!="function"||r===qi)&&{index:c.index,range:c.range};return K(0).then(function(){if(0<U.length)throw new pt("Error modifying one or more objects",U,z,F);return V.length})})})},Bt.prototype.delete=function(){var r=this._ctx,a=r.range;return Xn(r)&&(r.isPrimKey||a.type===3)?this._write(function(c){var d=r.table.core.schema.primaryKey,m=a;return r.table.core.count({trans:c,query:{index:d,range:m}}).then(function(b){return r.table.core.mutate({trans:c,type:"deleteRange",range:m}).then(function(A){var S=A.failures;if(A.lastResult,A.results,A=A.numFailures,A)throw new pt("Could not delete some values",Object.keys(S).map(function(_){return S[_]}),b-A);return b-A})})}):this.modify(qi)},Bt);function Bt(){}var qi=function(r,a){return a.value=null};function fr(r,a){return r<a?-1:r===a?0:1}function Ze(r,a){return a<r?-1:r===a?0:1}function At(r,a,c){return r=r instanceof Zr?new r.Collection(r):r,r._ctx.error=new(c||TypeError)(a),r}function Di(r){return new r.Collection(r,function(){return Bi("")}).limit(0)}function ki(r,a,c,d){var m,b,A,S,_,M,B,k=c.length;if(!c.every(function(z){return typeof z=="string"}))return At(r,Ua);function P(z){m=z==="next"?function(V){return V.toUpperCase()}:function(V){return V.toLowerCase()},b=z==="next"?function(V){return V.toLowerCase()}:function(V){return V.toUpperCase()},A=z==="next"?fr:Ze;var F=c.map(function(V){return{lower:b(V),upper:m(V)}}).sort(function(V,K){return A(V.lower,K.lower)});S=F.map(function(V){return V.upper}),_=F.map(function(V){return V.lower}),B=(M=z)==="next"?"":d}P("next"),r=new r.Collection(r,function(){return Cr(S[0],_[k-1]+d)}),r._ondirectionchange=function(z){P(z)};var U=0;return r._addAlgorithm(function(z,F,V){var K=z.key;if(typeof K!="string")return!1;var $=b(K);if(a($,_,U))return!0;for(var ne=null,le=U;le<k;++le){var de=function(Ce,ye,Ae,Re,Se,Ue){for(var et=Math.min(Ce.length,Re.length),nt=-1,dt=0;dt<et;++dt){var dr=ye[dt];if(dr!==Re[dt])return Se(Ce[dt],Ae[dt])<0?Ce.substr(0,dt)+Ae[dt]+Ae.substr(dt+1):Se(Ce[dt],Re[dt])<0?Ce.substr(0,dt)+Re[dt]+Ae.substr(dt+1):0<=nt?Ce.substr(0,nt)+ye[nt]+Ae.substr(nt+1):null;Se(Ce[dt],dr)<0&&(nt=dt)}return et<Re.length&&Ue==="next"?Ce+Ae.substr(Ce.length):et<Ce.length&&Ue==="prev"?Ce.substr(0,Ae.length):nt<0?null:Ce.substr(0,nt)+Re[nt]+Ae.substr(nt+1)}(K,$,S[le],_[le],A,M);de===null&&ne===null?U=le+1:(ne===null||0<A(ne,de))&&(ne=de)}return F(ne!==null?function(){z.continue(ne+B)}:V),!1}),r}function Cr(r,a,c,d){return{type:2,lower:r,upper:a,lowerOpen:c,upperOpen:d}}function Bi(r){return{type:1,lower:r,upper:r}}var Zr=(Object.defineProperty(ln.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),ln.prototype.between=function(r,a,c,d){c=c!==!1,d=d===!0;try{return 0<this._cmp(r,a)||this._cmp(r,a)===0&&(c||d)&&(!c||!d)?Di(this):new this.Collection(this,function(){return Cr(r,a,!c,!d)})}catch{return At(this,jn)}},ln.prototype.equals=function(r){return r==null?At(this,jn):new this.Collection(this,function(){return Bi(r)})},ln.prototype.above=function(r){return r==null?At(this,jn):new this.Collection(this,function(){return Cr(r,void 0,!0)})},ln.prototype.aboveOrEqual=function(r){return r==null?At(this,jn):new this.Collection(this,function(){return Cr(r,void 0,!1)})},ln.prototype.below=function(r){return r==null?At(this,jn):new this.Collection(this,function(){return Cr(void 0,r,!1,!0)})},ln.prototype.belowOrEqual=function(r){return r==null?At(this,jn):new this.Collection(this,function(){return Cr(void 0,r)})},ln.prototype.startsWith=function(r){return typeof r!="string"?At(this,Ua):this.between(r,r+Qr,!0,!0)},ln.prototype.startsWithIgnoreCase=function(r){return r===""?this.startsWith(r):ki(this,function(a,c){return a.indexOf(c[0])===0},[r],Qr)},ln.prototype.equalsIgnoreCase=function(r){return ki(this,function(a,c){return a===c[0]},[r],"")},ln.prototype.anyOfIgnoreCase=function(){var r=Y.apply(Ke,arguments);return r.length===0?Di(this):ki(this,function(a,c){return c.indexOf(a)!==-1},r,"")},ln.prototype.startsWithAnyOfIgnoreCase=function(){var r=Y.apply(Ke,arguments);return r.length===0?Di(this):ki(this,function(a,c){return c.some(function(d){return a.indexOf(d)===0})},r,Qr)},ln.prototype.anyOf=function(){var r=this,a=Y.apply(Ke,arguments),c=this._cmp;try{a.sort(c)}catch{return At(this,jn)}if(a.length===0)return Di(this);var d=new this.Collection(this,function(){return Cr(a[0],a[a.length-1])});d._ondirectionchange=function(b){c=b==="next"?r._ascending:r._descending,a.sort(c)};var m=0;return d._addAlgorithm(function(b,A,S){for(var _=b.key;0<c(_,a[m]);)if(++m===a.length)return A(S),!1;return c(_,a[m])===0||(A(function(){b.continue(a[m])}),!1)}),d},ln.prototype.notEqual=function(r){return this.inAnyRange([[-1/0,r],[r,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},ln.prototype.noneOf=function(){var r=Y.apply(Ke,arguments);if(r.length===0)return new this.Collection(this);try{r.sort(this._ascending)}catch{return At(this,jn)}var a=r.reduce(function(c,d){return c?c.concat([[c[c.length-1][1],d]]):[[-1/0,d]]},null);return a.push([r[r.length-1],this.db._maxKey]),this.inAnyRange(a,{includeLowers:!1,includeUppers:!1})},ln.prototype.inAnyRange=function(K,a){var c=this,d=this._cmp,m=this._ascending,b=this._descending,A=this._min,S=this._max;if(K.length===0)return Di(this);if(!K.every(function($){return $[0]!==void 0&&$[1]!==void 0&&m($[0],$[1])<=0}))return At(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Fe.InvalidArgument);var _=!a||a.includeLowers!==!1,M=a&&a.includeUppers===!0,B,k=m;function P($,ne){return k($[0],ne[0])}try{(B=K.reduce(function($,ne){for(var le=0,de=$.length;le<de;++le){var Ce=$[le];if(d(ne[0],Ce[1])<0&&0<d(ne[1],Ce[0])){Ce[0]=A(Ce[0],ne[0]),Ce[1]=S(Ce[1],ne[1]);break}}return le===de&&$.push(ne),$},[])).sort(P)}catch{return At(this,jn)}var U=0,z=M?function($){return 0<m($,B[U][1])}:function($){return 0<=m($,B[U][1])},F=_?function($){return 0<b($,B[U][0])}:function($){return 0<=b($,B[U][0])},V=z,K=new this.Collection(this,function(){return Cr(B[0][0],B[B.length-1][1],!_,!M)});return K._ondirectionchange=function($){k=$==="next"?(V=z,m):(V=F,b),B.sort(P)},K._addAlgorithm(function($,ne,le){for(var de,Ce=$.key;V(Ce);)if(++U===B.length)return ne(le),!1;return!z(de=Ce)&&!F(de)||(c._cmp(Ce,B[U][1])===0||c._cmp(Ce,B[U][0])===0||ne(function(){k===m?$.continue(B[U][0]):$.continue(B[U][1])}),!1)}),K},ln.prototype.startsWithAnyOf=function(){var r=Y.apply(Ke,arguments);return r.every(function(a){return typeof a=="string"})?r.length===0?Di(this):this.inAnyRange(r.map(function(a){return[a,a+Qr]})):At(this,"startsWithAnyOf() only works with strings")},ln);function ln(){}function Yt(r){return lt(function(a){return Or(a),r(a.target.error),!1})}function Or(r){r.stopPropagation&&r.stopPropagation(),r.preventDefault&&r.preventDefault()}var hr="storagemutated",We="x-storagemutated-1",qn=pi(null,hr),ct=(Ft.prototype._lock=function(){return Ge(!Te.global),++this._reculock,this._reculock!==1||Te.global||(Te.lockOwnerFor=this),this},Ft.prototype._unlock=function(){if(Ge(!Te.global),--this._reculock==0)for(Te.global||(Te.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var r=this._blockedFuncs.shift();try{di(r[1],r[0])}catch{}}return this},Ft.prototype._locked=function(){return this._reculock&&Te.lockOwnerFor!==this},Ft.prototype.create=function(r){var a=this;if(!this.mode)return this;var c=this.db.idbdb,d=this.db._state.dbOpenError;if(Ge(!this.idbtrans),!r&&!c)switch(d&&d.name){case"DatabaseClosedError":throw new Fe.DatabaseClosed(d);case"MissingAPIError":throw new Fe.MissingAPI(d.message,d);default:throw new Fe.OpenFailed(d)}if(!this.active)throw new Fe.TransactionInactive;return Ge(this._completion._state===null),(r=this.idbtrans=r||(this.db.core||c).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=lt(function(m){Or(m),a._reject(r.error)}),r.onabort=lt(function(m){Or(m),a.active&&a._reject(new Fe.Abort(r.error)),a.active=!1,a.on("abort").fire(m)}),r.oncomplete=lt(function(){a.active=!1,a._resolve(),"mutatedParts"in r&&qn.storagemutated.fire(r.mutatedParts)}),this},Ft.prototype._promise=function(r,a,c){var d=this;if(r==="readwrite"&&this.mode!=="readwrite")return at(new Fe.ReadOnly("Transaction is readonly"));if(!this.active)return at(new Fe.TransactionInactive);if(this._locked())return new Ie(function(b,A){d._blockedFuncs.push([function(){d._promise(r,a,c).then(b,A)},Te])});if(c)return vr(function(){var b=new Ie(function(A,S){d._lock();var _=a(A,S,d);_&&_.then&&_.then(A,S)});return b.finally(function(){return d._unlock()}),b._lib=!0,b});var m=new Ie(function(b,A){var S=a(b,A,d);S&&S.then&&S.then(b,A)});return m._lib=!0,m},Ft.prototype._root=function(){return this.parent?this.parent._root():this},Ft.prototype.waitFor=function(r){var a,c=this._root(),d=Ie.resolve(r);c._waitingFor?c._waitingFor=c._waitingFor.then(function(){return d}):(c._waitingFor=d,c._waitingQueue=[],a=c.idbtrans.objectStore(c.storeNames[0]),function b(){for(++c._spinCount;c._waitingQueue.length;)c._waitingQueue.shift()();c._waitingFor&&(a.get(-1/0).onsuccess=b)}());var m=c._waitingFor;return new Ie(function(b,A){d.then(function(S){return c._waitingQueue.push(lt(b.bind(null,S)))},function(S){return c._waitingQueue.push(lt(A.bind(null,S)))}).finally(function(){c._waitingFor===m&&(c._waitingFor=null)})})},Ft.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Fe.Abort))},Ft.prototype.table=function(r){var a=this._memoizedTables||(this._memoizedTables={});if(D(a,r))return a[r];var c=this.schema[r];if(!c)throw new Fe.NotFound("Table "+r+" not part of transaction");return c=new this.db.Table(r,c,this),c.core=this.db.core.table(r),a[r]=c},Ft);function Ft(){}function Ur(r,a,c,d,m,b,A){return{name:r,keyPath:a,unique:c,multi:d,auto:m,compound:b,src:(c&&!A?"&":"")+(d?"*":"")+(m?"++":"")+Ki(a)}}function Ki(r){return typeof r=="string"?r:r?"["+[].join.call(r,"+")+"]":""}function Li(r,a,c){return{name:r,primKey:a,indexes:c,mappedClass:null,idxByName:(d=function(m){return[m.name,m]},c.reduce(function(m,b,A){return A=d(b,A),A&&(m[A[0]]=A[1]),m},{}))};var d}var Er=function(r){try{return r.only([[]]),Er=function(){return[[]]},[[]]}catch{return Er=function(){return Qr},Qr}};function Qi(r){return r==null?function(){}:typeof r=="string"?(a=r).split(".").length===1?function(c){return c[a]}:function(c){return Ve(c,a)}:function(c){return Ve(c,r)};var a}function Wr(r){return[].slice.call(r)}var Zi=0;function hn(r){return r==null?":id":typeof r=="string"?r:"[".concat(r.join("+"),"]")}function mi(r,a,_){function d(V){if(V.type===3)return null;if(V.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var U=V.lower,z=V.upper,F=V.lowerOpen,V=V.upperOpen;return U===void 0?z===void 0?null:a.upperBound(z,!!V):z===void 0?a.lowerBound(U,!!F):a.bound(U,z,!!F,!!V)}function m(P){var U,z=P.name;return{name:z,schema:P,mutate:function(F){var V=F.trans,K=F.type,$=F.keys,ne=F.values,le=F.range;return new Promise(function(de,Ce){de=lt(de);var ye=V.objectStore(z),Ae=ye.keyPath==null,Re=K==="put"||K==="add";if(!Re&&K!=="delete"&&K!=="deleteRange")throw new Error("Invalid operation type: "+K);var Se,Ue=($||ne||{length:1}).length;if($&&ne&&$.length!==ne.length)throw new Error("Given keys array must have same length as given values array.");if(Ue===0)return de({numFailures:0,failures:{},results:[],lastResult:void 0});function et(or){++dr,Or(or)}var nt=[],dt=[],dr=0;if(K==="deleteRange"){if(le.type===4)return de({numFailures:dr,failures:dt,results:[],lastResult:void 0});le.type===3?nt.push(Se=ye.clear()):nt.push(Se=ye.delete(d(le)))}else{var Ae=Re?Ae?[ne,$]:[ne,null]:[$,null],st=Ae[0],Fn=Ae[1];if(Re)for(var Qn=0;Qn<Ue;++Qn)nt.push(Se=Fn&&Fn[Qn]!==void 0?ye[K](st[Qn],Fn[Qn]):ye[K](st[Qn])),Se.onerror=et;else for(Qn=0;Qn<Ue;++Qn)nt.push(Se=ye[K](st[Qn])),Se.onerror=et}function Hi(or){or=or.target.result,nt.forEach(function(vi,aa){return vi.error!=null&&(dt[aa]=vi.error)}),de({numFailures:dr,failures:dt,results:K==="delete"?$:nt.map(function(vi){return vi.result}),lastResult:or})}Se.onerror=function(or){et(or),Hi(or)},Se.onsuccess=Hi})},getMany:function(F){var V=F.trans,K=F.keys;return new Promise(function($,ne){$=lt($);for(var le,de=V.objectStore(z),Ce=K.length,ye=new Array(Ce),Ae=0,Re=0,Se=function(nt){nt=nt.target,ye[nt._pos]=nt.result,++Re===Ae&&$(ye)},Ue=Yt(ne),et=0;et<Ce;++et)K[et]!=null&&((le=de.get(K[et]))._pos=et,le.onsuccess=Se,le.onerror=Ue,++Ae);Ae===0&&$(ye)})},get:function(F){var V=F.trans,K=F.key;return new Promise(function($,ne){$=lt($);var le=V.objectStore(z).get(K);le.onsuccess=function(de){return $(de.target.result)},le.onerror=Yt(ne)})},query:(U=M,function(F){return new Promise(function(V,K){V=lt(V);var $,ne,le,Ae=F.trans,de=F.values,Ce=F.limit,Se=F.query,ye=Ce===1/0?void 0:Ce,Re=Se.index,Se=Se.range,Ae=Ae.objectStore(z),Re=Re.isPrimaryKey?Ae:Ae.index(Re.name),Se=d(Se);if(Ce===0)return V({result:[]});U?((ye=de?Re.getAll(Se,ye):Re.getAllKeys(Se,ye)).onsuccess=function(Ue){return V({result:Ue.target.result})},ye.onerror=Yt(K)):($=0,ne=!de&&"openKeyCursor"in Re?Re.openKeyCursor(Se):Re.openCursor(Se),le=[],ne.onsuccess=function(Ue){var et=ne.result;return et?(le.push(de?et.value:et.primaryKey),++$===Ce?V({result:le}):void et.continue()):V({result:le})},ne.onerror=Yt(K))})}),openCursor:function(F){var V=F.trans,K=F.values,$=F.query,ne=F.reverse,le=F.unique;return new Promise(function(de,Ce){de=lt(de);var Re=$.index,ye=$.range,Ae=V.objectStore(z),Ae=Re.isPrimaryKey?Ae:Ae.index(Re.name),Re=ne?le?"prevunique":"prev":le?"nextunique":"next",Se=!K&&"openKeyCursor"in Ae?Ae.openKeyCursor(d(ye),Re):Ae.openCursor(d(ye),Re);Se.onerror=Yt(Ce),Se.onsuccess=lt(function(Ue){var et,nt,dt,dr,st=Se.result;st?(st.___id=++Zi,st.done=!1,et=st.continue.bind(st),nt=(nt=st.continuePrimaryKey)&&nt.bind(st),dt=st.advance.bind(st),dr=function(){throw new Error("Cursor not stopped")},st.trans=V,st.stop=st.continue=st.continuePrimaryKey=st.advance=function(){throw new Error("Cursor not started")},st.fail=lt(Ce),st.next=function(){var Fn=this,Qn=1;return this.start(function(){return Qn--?Fn.continue():Fn.stop()}).then(function(){return Fn})},st.start=function(Fn){function Qn(){if(Se.result)try{Fn()}catch(or){st.fail(or)}else st.done=!0,st.start=function(){throw new Error("Cursor behind last entry")},st.stop()}var Hi=new Promise(function(or,vi){or=lt(or),Se.onerror=Yt(vi),st.fail=vi,st.stop=function(aa){st.stop=st.continue=st.continuePrimaryKey=st.advance=dr,or(aa)}});return Se.onsuccess=lt(function(or){Se.onsuccess=Qn,Qn()}),st.continue=et,st.continuePrimaryKey=nt,st.advance=dt,Qn(),Hi},de(st)):de(null)},Ce)})},count:function(F){var V=F.query,K=F.trans,$=V.index,ne=V.range;return new Promise(function(le,de){var Ce=K.objectStore(z),ye=$.isPrimaryKey?Ce:Ce.index($.name),Ce=d(ne),ye=Ce?ye.count(Ce):ye.count();ye.onsuccess=lt(function(Ae){return le(Ae.target.result)}),ye.onerror=Yt(de)})}}}var b,A,S,B=(A=_,S=Wr((b=r).objectStoreNames),{schema:{name:b.name,tables:S.map(function(P){return A.objectStore(P)}).map(function(P){var U=P.keyPath,V=P.autoIncrement,z=T(U),F={},V={name:P.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:U==null,compound:z,keyPath:U,autoIncrement:V,unique:!0,extractKey:Qi(U)},indexes:Wr(P.indexNames).map(function(K){return P.index(K)}).map(function(le){var $=le.name,ne=le.unique,de=le.multiEntry,le=le.keyPath,de={name:$,compound:T(le),keyPath:le,unique:ne,multiEntry:de,extractKey:Qi(le)};return F[hn(le)]=de}),getIndexByKeyPath:function(K){return F[hn(K)]}};return F[":id"]=V.primaryKey,U!=null&&(F[hn(U)]=V.primaryKey),V})},hasGetAll:0<S.length&&"getAll"in A.objectStore(S[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),_=B.schema,M=B.hasGetAll,B=_.tables.map(m),k={};return B.forEach(function(P){return k[P.name]=P}),{stack:"dbcore",transaction:r.transaction.bind(r),table:function(P){if(!k[P])throw new Error("Table '".concat(P,"' not found"));return k[P]},MIN_KEY:-1/0,MAX_KEY:Er(a),schema:_}}function xi(r,a,c,d){var m=c.IDBKeyRange;return c.indexedDB,{dbcore:(d=mi(a,m,d),r.dbcore.reduce(function(b,A){return A=A.create,g(g({},b),A(b))},d))}}function Ar(r,d){var c=d.db,d=xi(r._middlewares,c,r._deps,d);r.core=d.dbcore,r.tables.forEach(function(m){var b=m.name;r.core.schema.tables.some(function(A){return A.name===b})&&(m.core=r.core.table(b),r[b]instanceof r.Table&&(r[b].core=m.core))})}function zn(r,a,c,d){c.forEach(function(m){var b=d[m];a.forEach(function(A){var S=function _(M,B){return Le(M,B)||(M=E(M))&&_(M,B)}(A,m);(!S||"value"in S&&S.value===void 0)&&(A===r.Transaction.prototype||A instanceof r.Transaction?ce(A,m,{get:function(){return this.table(m)},set:function(_){te(this,m,{value:_,writable:!0,configurable:!0,enumerable:!0})}}):A[m]=new r.Table(m,b))})})}function Wi(r,a){a.forEach(function(c){for(var d in c)c[d]instanceof r.Table&&delete c[d]})}function za(r,a){return r._cfg.version-a._cfg.version}function Ji(r,a,c,d){var m=r._dbSchema;c.objectStoreNames.contains("$meta")&&!m.$meta&&(m.$meta=Li("$meta",js("")[0],[]),r._storeNames.push("$meta"));var b=r._createTransaction("readwrite",r._storeNames,m);b.create(c),b._completion.catch(d);var A=b._reject.bind(b),S=Te.transless||Te;vr(function(){return Te.trans=b,Te.transless=S,a!==0?(Ar(r,c),M=a,((_=b).storeNames.includes("$meta")?_.table("$meta").get("version").then(function(B){return B??M}):Ie.resolve(M)).then(function(B){return P=B,U=b,z=c,F=[],B=(k=r)._versions,V=k._dbSchema=Jr(0,k.idbdb,z),(B=B.filter(function(K){return K._cfg.version>=P})).length!==0?(B.forEach(function(K){F.push(function(){var $=V,ne=K._cfg.dbschema;Ir(k,$,z),Ir(k,ne,z),V=k._dbSchema=ne;var le=Ha($,ne);le.add.forEach(function(Re){ys(z,Re[0],Re[1].primKey,Re[1].indexes)}),le.change.forEach(function(Re){if(Re.recreate)throw new Fe.Upgrade("Not yet support for changing primary key");var Se=z.objectStore(Re.name);Re.add.forEach(function(Ue){return ma(Se,Ue)}),Re.change.forEach(function(Ue){Se.deleteIndex(Ue.name),ma(Se,Ue)}),Re.del.forEach(function(Ue){return Se.deleteIndex(Ue)})});var de=K._cfg.contentUpgrade;if(de&&K._cfg.version>P){Ar(k,z),U._memoizedTables={};var Ce=Je(ne);le.del.forEach(function(Re){Ce[Re]=$[Re]}),Wi(k,[k.Transaction.prototype]),zn(k,[k.Transaction.prototype],w(Ce),Ce),U.schema=Ce;var ye,Ae=me(de);return Ae&&rn(),le=Ie.follow(function(){var Re;(ye=de(U))&&Ae&&(Re=On.bind(null,null),ye.then(Re,Re))}),ye&&typeof ye.then=="function"?Ie.resolve(ye):le.then(function(){return ye})}}),F.push(function($){var ne,le,de=K._cfg.dbschema;ne=de,le=$,[].slice.call(le.db.objectStoreNames).forEach(function(Ce){return ne[Ce]==null&&le.db.deleteObjectStore(Ce)}),Wi(k,[k.Transaction.prototype]),zn(k,[k.Transaction.prototype],k._storeNames,k._dbSchema),U.schema=k._dbSchema}),F.push(function($){k.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(k.idbdb.version/10)===K._cfg.version?(k.idbdb.deleteObjectStore("$meta"),delete k._dbSchema.$meta,k._storeNames=k._storeNames.filter(function(ne){return ne!=="$meta"})):$.objectStore("$meta").put(K._cfg.version,"version"))})}),function K(){return F.length?Ie.resolve(F.shift()(U.idbtrans)).then(K):Ie.resolve()}().then(function(){Gt(V,z)})):Ie.resolve();var k,P,U,z,F,V}).catch(A)):(w(m).forEach(function(B){ys(c,B,m[B].primKey,m[B].indexes)}),Ar(r,c),void Ie.follow(function(){return r.on.populate.fire(b)}).catch(A));var _,M})}function Fa(r,a){Gt(r._dbSchema,a),a.db.version%10!=0||a.objectStoreNames.contains("$meta")||a.db.createObjectStore("$meta").add(Math.ceil(a.db.version/10-1),"version");var c=Jr(0,r.idbdb,a);Ir(r,r._dbSchema,a);for(var d=0,m=Ha(c,r._dbSchema).change;d<m.length;d++){var b=function(A){if(A.change.length||A.recreate)return console.warn("Unable to patch indexes of table ".concat(A.name," because it has changes on the type of index or primary key.")),{value:void 0};var S=a.objectStore(A.name);A.add.forEach(function(_){ke&&console.debug("Dexie upgrade patch: Creating missing index ".concat(A.name,".").concat(_.src)),ma(S,_)})}(m[d]);if(typeof b=="object")return b.value}}function Ha(r,a){var c,d={del:[],add:[],change:[]};for(c in r)a[c]||d.del.push(c);for(c in a){var m=r[c],b=a[c];if(m){var A={name:c,def:b,recreate:!1,del:[],add:[],change:[]};if(""+(m.primKey.keyPath||"")!=""+(b.primKey.keyPath||"")||m.primKey.auto!==b.primKey.auto)A.recreate=!0,d.change.push(A);else{var S=m.idxByName,_=b.idxByName,M=void 0;for(M in S)_[M]||A.del.push(M);for(M in _){var B=S[M],k=_[M];B?B.src!==k.src&&A.change.push(k):A.add.push(k)}(0<A.del.length||0<A.add.length||0<A.change.length)&&d.change.push(A)}}else d.add.push([c,b])}return d}function ys(r,a,c,d){var m=r.db.createObjectStore(a,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});return d.forEach(function(b){return ma(m,b)}),m}function Gt(r,a){w(r).forEach(function(c){a.db.objectStoreNames.contains(c)||(ke&&console.debug("Dexie: Creating missing table",c),ys(a,c,r[c].primKey,r[c].indexes))})}function ma(r,a){r.createIndex(a.name,a.keyPath,{unique:a.unique,multiEntry:a.multi})}function Jr(r,a,c){var d={};return Pe(a.objectStoreNames,0).forEach(function(m){for(var b=c.objectStore(m),A=Ur(Ki(M=b.keyPath),M||"",!0,!1,!!b.autoIncrement,M&&typeof M!="string",!0),S=[],_=0;_<b.indexNames.length;++_){var B=b.index(b.indexNames[_]),M=B.keyPath,B=Ur(B.name,M,!!B.unique,!!B.multiEntry,!1,M&&typeof M!="string",!1);S.push(B)}d[m]=Li(m,A,S)}),d}function Ir(r,a,c){for(var d=c.db.objectStoreNames,m=0;m<d.length;++m){var b=d[m],A=c.objectStore(b);r._hasGetAll="getAll"in A;for(var S=0;S<A.indexNames.length;++S){var _=A.indexNames[S],M=A.index(_).keyPath,B=typeof M=="string"?M:"["+Pe(M).join("+")+"]";!a[b]||(M=a[b].idxByName[B])&&(M.name=_,delete a[b].idxByName[B],a[b].idxByName[_]=M)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&v.WorkerGlobalScope&&v instanceof v.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function js(r){return r.split(",").map(function(a,c){var d=(a=a.trim()).replace(/([&*]|\+\+)/g,""),m=/^\[/.test(d)?d.match(/^\[(.*)\]$/)[1].split("+"):d;return Ur(d,m||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),T(m),c===0)})}var oe=(ut.prototype._parseStoresSpec=function(r,a){w(r).forEach(function(c){if(r[c]!==null){var d=js(r[c]),m=d.shift();if(m.unique=!0,m.multi)throw new Fe.Schema("Primary key cannot be multi-valued");d.forEach(function(b){if(b.auto)throw new Fe.Schema("Only primary key can be marked as autoIncrement (++)");if(!b.keyPath)throw new Fe.Schema("Index must have a name and cannot be an empty string")}),a[c]=Li(c,m,d)}})},ut.prototype.stores=function(c){var a=this.db;this._cfg.storesSource=this._cfg.storesSource?N(this._cfg.storesSource,c):c;var c=a._versions,d={},m={};return c.forEach(function(b){N(d,b._cfg.storesSource),m=b._cfg.dbschema={},b._parseStoresSpec(d,m)}),a._dbSchema=m,Wi(a,[a._allTables,a,a.Transaction.prototype]),zn(a,[a._allTables,a,a.Transaction.prototype,this._cfg.tables],w(m),m),a._storeNames=w(m),this},ut.prototype.upgrade=function(r){return this._cfg.contentUpgrade=Ti(this._cfg.contentUpgrade||Nt,r),this},ut);function ut(){}function Tn(r,a){var c=r._dbNamesDB;return c||(c=r._dbNamesDB=new Mr(Mi,{addons:[],indexedDB:r,IDBKeyRange:a})).version(1).stores({dbnames:"name"}),c.table("dbnames")}function Pi(r){return r&&typeof r.databases=="function"}function Ga(r){return vr(function(){return Te.letThrough=!0,r()})}function bs(r){return!("from"in r)}var Kn=function(r,a){if(!this){var c=new Kn;return r&&"d"in r&&N(c,r),c}N(this,arguments.length?{d:1,from:r,to:1<arguments.length?a:r}:{d:0})};function xa(r,a,c){var d=xt(a,c);if(!isNaN(d)){if(0<d)throw RangeError();if(bs(r))return N(r,{from:a,to:c,d:1});var m=r.l,d=r.r;if(xt(c,r.from)<0)return m?xa(m,a,c):r.l={from:a,to:c,d:1,l:null,r:null},cn(r);if(0<xt(a,r.to))return d?xa(d,a,c):r.r={from:a,to:c,d:1,l:null,r:null},cn(r);xt(a,r.from)<0&&(r.from=a,r.l=null,r.d=d?d.d+1:1),0<xt(c,r.to)&&(r.to=c,r.r=null,r.d=r.l?r.l.d+1:1),c=!r.r,m&&!r.l&&$r(r,m),d&&c&&$r(r,d)}}function $r(r,a){bs(a)||function c(d,_){var b=_.from,A=_.to,S=_.l,_=_.r;xa(d,b,A),S&&c(d,S),_&&c(d,_)}(r,a)}function Cn(r,a){var c=$i(a),d=c.next();if(d.done)return!1;for(var m=d.value,b=$i(r),A=b.next(m.from),S=A.value;!d.done&&!A.done;){if(xt(S.from,m.to)<=0&&0<=xt(S.to,m.from))return!0;xt(m.from,S.from)<0?m=(d=c.next(S.from)).value:S=(A=b.next(m.from)).value}return!1}function $i(r){var a=bs(r)?null:{s:0,n:r};return{next:function(c){for(var d=0<arguments.length;a;)switch(a.s){case 0:if(a.s=1,d)for(;a.n.l&&xt(c,a.n.from)<0;)a={up:a,n:a.n.l,s:1};else for(;a.n.l;)a={up:a,n:a.n.l,s:1};case 1:if(a.s=2,!d||xt(c,a.n.to)<=0)return{value:a.n,done:!1};case 2:if(a.n.r){a.s=3,a={up:a,n:a.n.r,s:0};continue}case 3:a=a.up}return{done:!0}}}}function cn(r){var a,c,d=(((a=r.r)===null||a===void 0?void 0:a.d)||0)-(((c=r.l)===null||c===void 0?void 0:c.d)||0),m=1<d?"r":d<-1?"l":"";m&&(a=m=="r"?"l":"r",c=g({},r),d=r[m],r.from=d.from,r.to=d.to,r[m]=d[m],c[m]=d[a],(r[a]=c).d=ea(c)),r.d=ea(r)}function ea(c){var a=c.r,c=c.l;return(a?c?Math.max(a.d,c.d):a.d:c?c.d:0)+1}function zr(r,a){return w(a).forEach(function(c){r[c]?$r(r[c],a[c]):r[c]=function d(m){var b,A,S={};for(b in m)D(m,b)&&(A=m[b],S[b]=!A||typeof A!="object"||Pt.has(A.constructor)?A:d(A));return S}(a[c])}),r}function Vt(r,a){return r.all||a.all||Object.keys(r).some(function(c){return a[c]&&Cn(a[c],r[c])})}X(Kn.prototype,((tr={add:function(r){return $r(this,r),this},addKey:function(r){return xa(this,r,r),this},addKeys:function(r){var a=this;return r.forEach(function(c){return xa(a,c,c)}),this},hasKey:function(r){var a=$i(this).next(r).value;return a&&xt(a.from,r)<=0&&0<=xt(a.to,r)}})[ie]=function(){return $i(this)},tr));var Qe={},vs={},qt=!1;function Fr(r){zr(vs,r),qt||(qt=!0,setTimeout(function(){qt=!1,yi(vs,!(vs={}))},0))}function yi(r,a){a===void 0&&(a=!1);var c=new Set;if(r.all)for(var d=0,m=Object.values(Qe);d<m.length;d++)Us(A=m[d],r,c,a);else for(var b in r){var A,S=/^idb\:\/\/(.*)\/(.*)\//.exec(b);S&&(b=S[1],S=S[2],(A=Qe["idb://".concat(b,"/").concat(S)])&&Us(A,r,c,a))}c.forEach(function(_){return _()})}function Us(r,a,c,d){for(var m=[],b=0,A=Object.entries(r.queries.query);b<A.length;b++){for(var S=A[b],_=S[0],M=[],B=0,k=S[1];B<k.length;B++){var P=k[B];Vt(a,P.obsSet)?P.subscribers.forEach(function(V){return c.add(V)}):d&&M.push(P)}d&&m.push([_,M])}if(d)for(var U=0,z=m;U<z.length;U++){var F=z[U],_=F[0],M=F[1];r.queries.query[_]=M}}function Hr(r){var a=r._state,c=r._deps.indexedDB;if(a.isBeingOpened||r.idbdb)return a.dbReadyPromise.then(function(){return a.dbOpenError?at(a.dbOpenError):r});a.isBeingOpened=!0,a.dbOpenError=null,a.openComplete=!1;var d=a.openCanceller,m=Math.round(10*r.verno),b=!1;function A(){if(a.openCanceller!==d)throw new Fe.DatabaseClosed("db.open() was cancelled")}function S(){return new Ie(function(P,U){if(A(),!c)throw new Fe.MissingAPI;var z=r.name,F=a.autoSchema||!m?c.open(z):c.open(z,m);if(!F)throw new Fe.MissingAPI;F.onerror=Yt(U),F.onblocked=lt(r._fireOnBlocked),F.onupgradeneeded=lt(function(V){var K;B=F.transaction,a.autoSchema&&!r._options.allowEmptyDB?(F.onerror=Or,B.abort(),F.result.close(),(K=c.deleteDatabase(z)).onsuccess=K.onerror=lt(function(){U(new Fe.NoSuchDatabase("Database ".concat(z," doesnt exist")))})):(B.onerror=Yt(U),V=V.oldVersion>Math.pow(2,62)?0:V.oldVersion,k=V<1,r.idbdb=F.result,b&&Fa(r,B),Ji(r,V/10,B,U))},U),F.onsuccess=lt(function(){B=null;var V,K,$,ne,le,de=r.idbdb=F.result,Ce=Pe(de.objectStoreNames);if(0<Ce.length)try{var ye=de.transaction((ne=Ce).length===1?ne[0]:ne,"readonly");if(a.autoSchema)K=de,$=ye,(V=r).verno=K.version/10,$=V._dbSchema=Jr(0,K,$),V._storeNames=Pe(K.objectStoreNames,0),zn(V,[V._allTables],w($),$);else if(Ir(r,r._dbSchema,ye),((le=Ha(Jr(0,(le=r).idbdb,ye),le._dbSchema)).add.length||le.change.some(function(Ae){return Ae.add.length||Ae.change.length}))&&!b)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),de.close(),m=de.version+1,b=!0,P(S());Ar(r,ye)}catch{}ge.push(r),de.onversionchange=lt(function(Ae){a.vcFired=!0,r.on("versionchange").fire(Ae)}),de.onclose=lt(function(Ae){r.on("close").fire(Ae)}),k&&(le=r._deps,ye=z,de=le.indexedDB,le=le.IDBKeyRange,Pi(de)||ye===Mi||Tn(de,le).put({name:ye}).catch(Nt)),P()},U)}).catch(function(P){switch(P?.name){case"UnknownError":if(0<a.PR1398_maxLoop)return a.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),S();break;case"VersionError":if(0<m)return m=0,S()}return Ie.reject(P)})}var _,M=a.dbReadyResolve,B=null,k=!1;return Ie.race([d,(typeof navigator>"u"?Ie.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(P){function U(){return indexedDB.databases().finally(P)}_=setInterval(U,100),U()}).finally(function(){return clearInterval(_)}):Promise.resolve()).then(S)]).then(function(){return A(),a.onReadyBeingFired=[],Ie.resolve(Ga(function(){return r.on.ready.fire(r.vip)})).then(function P(){if(0<a.onReadyBeingFired.length){var U=a.onReadyBeingFired.reduce(Ti,Nt);return a.onReadyBeingFired=[],Ie.resolve(Ga(function(){return U(r.vip)})).then(P)}})}).finally(function(){a.openCanceller===d&&(a.onReadyBeingFired=null,a.isBeingOpened=!1)}).catch(function(P){a.dbOpenError=P;try{B&&B.abort()}catch{}return d===a.openCanceller&&r._close(),at(P)}).finally(function(){a.openComplete=!0,M()}).then(function(){var P;return k&&(P={},r.tables.forEach(function(U){U.schema.indexes.forEach(function(z){z.name&&(P["idb://".concat(r.name,"/").concat(U.name,"/").concat(z.name)]=new Kn(-1/0,[[[]]]))}),P["idb://".concat(r.name,"/").concat(U.name,"/")]=P["idb://".concat(r.name,"/").concat(U.name,"/:dels")]=new Kn(-1/0,[[[]]])}),qn(hr).fire(P),yi(P,!0)),r})}function ji(r){function a(b){return r.next(b)}var c=m(a),d=m(function(b){return r.throw(b)});function m(b){return function(_){var S=b(_),_=S.value;return S.done?_:_&&typeof _.then=="function"?_.then(c,d):T(_)?Promise.all(_).then(c,d):c(_)}}return m(a)()}function ei(r,a,c){for(var d=T(r)?r.slice():[r],m=0;m<c;++m)d.push(a);return d}var Cs={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(r){return g(g({},r),{table:function(a){var c=r.table(a),d=c.schema,m={},b=[];function A(k,P,U){var z=hn(k),F=m[z]=m[z]||[],V=k==null?0:typeof k=="string"?1:k.length,K=0<P,K=g(g({},U),{name:K?"".concat(z,"(virtual-from:").concat(U.name,")"):U.name,lowLevelIndex:U,isVirtual:K,keyTail:P,keyLength:V,extractKey:Qi(k),unique:!K&&U.unique});return F.push(K),K.isPrimaryKey||b.push(K),1<V&&A(V===2?k[0]:k.slice(0,V-1),P+1,U),F.sort(function($,ne){return $.keyTail-ne.keyTail}),K}a=A(d.primaryKey.keyPath,0,d.primaryKey),m[":id"]=[a];for(var S=0,_=d.indexes;S<_.length;S++){var M=_[S];A(M.keyPath,0,M)}function B(k){var P,U=k.query.index;return U.isVirtual?g(g({},k),{query:{index:U.lowLevelIndex,range:(P=k.query.range,U=U.keyTail,{type:P.type===1?2:P.type,lower:ei(P.lower,P.lowerOpen?r.MAX_KEY:r.MIN_KEY,U),lowerOpen:!0,upper:ei(P.upper,P.upperOpen?r.MIN_KEY:r.MAX_KEY,U),upperOpen:!0})}}):k}return g(g({},c),{schema:g(g({},d),{primaryKey:a,indexes:b,getIndexByKeyPath:function(k){return(k=m[hn(k)])&&k[0]}}),count:function(k){return c.count(B(k))},query:function(k){return c.query(B(k))},openCursor:function(k){var P=k.query.index,U=P.keyTail,z=P.isVirtual,F=P.keyLength;return z?c.openCursor(B(k)).then(function(K){return K&&V(K)}):c.openCursor(k);function V(K){return Object.create(K,{continue:{value:function($){$!=null?K.continue(ei($,k.reverse?r.MAX_KEY:r.MIN_KEY,U)):k.unique?K.continue(K.key.slice(0,F).concat(k.reverse?r.MIN_KEY:r.MAX_KEY,U)):K.continue()}},continuePrimaryKey:{value:function($,ne){K.continuePrimaryKey(ei($,r.MAX_KEY,U),ne)}},primaryKey:{get:function(){return K.primaryKey}},key:{get:function(){var $=K.key;return F===1?$[0]:$.slice(0,F)}},value:{get:function(){return K.value}}})}}})}})}};function ya(r,a,c,d){return c=c||{},d=d||"",w(r).forEach(function(m){var b,A,S;D(a,m)?(b=r[m],A=a[m],typeof b=="object"&&typeof A=="object"&&b&&A?(S=re(b))!==re(A)?c[d+m]=a[m]:S==="Object"?ya(b,A,c,d+m+"."):b!==A&&(c[d+m]=a[m]):b!==A&&(c[d+m]=a[m])):c[d+m]=void 0}),w(a).forEach(function(m){D(r,m)||(c[d+m]=a[m])}),c}function ba(r,a){return a.type==="delete"?a.keys:a.keys||a.values.map(r.extractKey)}var zs={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(r){return g(g({},r),{table:function(a){var c=r.table(a),d=c.schema.primaryKey;return g(g({},c),{mutate:function(m){var b=Te.trans,A=b.table(a).hook,S=A.deleting,_=A.creating,M=A.updating;switch(m.type){case"add":if(_.fire===Nt)break;return b._promise("readwrite",function(){return B(m)},!0);case"put":if(_.fire===Nt&&M.fire===Nt)break;return b._promise("readwrite",function(){return B(m)},!0);case"delete":if(S.fire===Nt)break;return b._promise("readwrite",function(){return B(m)},!0);case"deleteRange":if(S.fire===Nt)break;return b._promise("readwrite",function(){return function k(P,U,z){return c.query({trans:P,values:!1,query:{index:d,range:U},limit:z}).then(function(F){var V=F.result;return B({type:"delete",keys:V,trans:P}).then(function(K){return 0<K.numFailures?Promise.reject(K.failures[0]):V.length<z?{failures:[],numFailures:0,lastResult:void 0}:k(P,g(g({},U),{lower:V[V.length-1],lowerOpen:!0}),z)})})}(m.trans,m.range,1e4)},!0)}return c.mutate(m);function B(k){var P,U,z,F=Te.trans,V=k.keys||ba(d,k);if(!V)throw new Error("Keys missing");return(k=k.type==="add"||k.type==="put"?g(g({},k),{keys:V}):g({},k)).type!=="delete"&&(k.values=y([],k.values)),k.keys&&(k.keys=y([],k.keys)),P=c,z=V,((U=k).type==="add"?Promise.resolve([]):P.getMany({trans:U.trans,keys:z,cache:"immutable"})).then(function(K){var $=V.map(function(ne,le){var de,Ce,ye,Ae=K[le],Re={onerror:null,onsuccess:null};return k.type==="delete"?S.fire.call(Re,ne,Ae,F):k.type==="add"||Ae===void 0?(de=_.fire.call(Re,ne,k.values[le],F),ne==null&&de!=null&&(k.keys[le]=ne=de,d.outbound||fe(k.values[le],d.keyPath,ne))):(de=ya(Ae,k.values[le]),(Ce=M.fire.call(Re,de,ne,Ae,F))&&(ye=k.values[le],Object.keys(Ce).forEach(function(Se){D(ye,Se)?ye[Se]=Ce[Se]:fe(ye,Se,Ce[Se])}))),Re});return c.mutate(k).then(function(ne){for(var le=ne.failures,de=ne.results,Ce=ne.numFailures,ne=ne.lastResult,ye=0;ye<V.length;++ye){var Ae=(de||V)[ye],Re=$[ye];Ae==null?Re.onerror&&Re.onerror(le[ye]):Re.onsuccess&&Re.onsuccess(k.type==="put"&&K[ye]?k.values[ye]:Ae)}return{failures:le,results:de,numFailures:Ce,lastResult:ne}}).catch(function(ne){return $.forEach(function(le){return le.onerror&&le.onerror(ne)}),Promise.reject(ne)})})}}})}})}};function bi(r,a,c){try{if(!a||a.keys.length<r.length)return null;for(var d=[],m=0,b=0;m<a.keys.length&&b<r.length;++m)xt(a.keys[m],r[b])===0&&(d.push(c?tt(a.values[m]):a.values[m]),++b);return d.length===r.length?d:null}catch{return null}}var Va={stack:"dbcore",level:-1,create:function(r){return{table:function(a){var c=r.table(a);return g(g({},c),{getMany:function(d){if(!d.cache)return c.getMany(d);var m=bi(d.keys,d.trans._cache,d.cache==="clone");return m?Ie.resolve(m):c.getMany(d).then(function(b){return d.trans._cache={keys:d.keys,values:d.cache==="clone"?tt(b):b},b})},mutate:function(d){return d.type!=="add"&&(d.trans._cache=null),c.mutate(d)}})}}}};function Ui(r,a){return r.trans.mode==="readonly"&&!!r.subscr&&!r.trans.explicit&&r.trans.db._options.cache!=="disabled"&&!a.schema.primaryKey.outbound}function ta(r,a){switch(r){case"query":return a.values&&!a.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var mo={stack:"dbcore",level:0,name:"Observability",create:function(r){var a=r.schema.name,c=new Kn(r.MIN_KEY,r.MAX_KEY);return g(g({},r),{transaction:function(d,m,b){if(Te.subscr&&m!=="readonly")throw new Fe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Te.querier));return r.transaction(d,m,b)},table:function(d){var m=r.table(d),b=m.schema,A=b.primaryKey,k=b.indexes,S=A.extractKey,_=A.outbound,M=A.autoIncrement&&k.filter(function(U){return U.compound&&U.keyPath.includes(A.keyPath)}),B=g(g({},m),{mutate:function(U){function z(Se){return Se="idb://".concat(a,"/").concat(d,"/").concat(Se),ne[Se]||(ne[Se]=new Kn)}var F,V,K,$=U.trans,ne=U.mutatedParts||(U.mutatedParts={}),le=z(""),de=z(":dels"),Ce=U.type,Re=U.type==="deleteRange"?[U.range]:U.type==="delete"?[U.keys]:U.values.length<50?[ba(A,U).filter(function(Se){return Se}),U.values]:[],ye=Re[0],Ae=Re[1],Re=U.trans._cache;return T(ye)?(le.addKeys(ye),(Re=Ce==="delete"||ye.length===Ae.length?bi(ye,Re):null)||de.addKeys(ye),(Re||Ae)&&(F=z,V=Re,K=Ae,b.indexes.forEach(function(Se){var Ue=F(Se.name||"");function et(dt){return dt!=null?Se.extractKey(dt):null}function nt(dt){return Se.multiEntry&&T(dt)?dt.forEach(function(dr){return Ue.addKey(dr)}):Ue.addKey(dt)}(V||K).forEach(function(dt,Fn){var st=V&&et(V[Fn]),Fn=K&&et(K[Fn]);xt(st,Fn)!==0&&(st!=null&&nt(st),Fn!=null&&nt(Fn))})}))):ye?(Ae={from:(Ae=ye.lower)!==null&&Ae!==void 0?Ae:r.MIN_KEY,to:(Ae=ye.upper)!==null&&Ae!==void 0?Ae:r.MAX_KEY},de.add(Ae),le.add(Ae)):(le.add(c),de.add(c),b.indexes.forEach(function(Se){return z(Se.name).add(c)})),m.mutate(U).then(function(Se){return!ye||U.type!=="add"&&U.type!=="put"||(le.addKeys(Se.results),M&&M.forEach(function(Ue){for(var et=U.values.map(function(st){return Ue.extractKey(st)}),nt=Ue.keyPath.findIndex(function(st){return st===A.keyPath}),dt=0,dr=Se.results.length;dt<dr;++dt)et[dt][nt]=Se.results[dt];z(Ue.name).addKeys(et)})),$.mutatedParts=zr($.mutatedParts||{},ne),Se})}}),k=function(z){var F=z.query,z=F.index,F=F.range;return[z,new Kn((z=F.lower)!==null&&z!==void 0?z:r.MIN_KEY,(F=F.upper)!==null&&F!==void 0?F:r.MAX_KEY)]},P={get:function(U){return[A,new Kn(U.key)]},getMany:function(U){return[A,new Kn().addKeys(U.keys)]},count:k,query:k,openCursor:k};return w(P).forEach(function(U){B[U]=function(z){var F=Te.subscr,V=!!F,K=Ui(Te,m)&&ta(U,z)?z.obsSet={}:F;if(V){var $=function(Ae){return Ae="idb://".concat(a,"/").concat(d,"/").concat(Ae),K[Ae]||(K[Ae]=new Kn)},ne=$(""),le=$(":dels"),F=P[U](z),V=F[0],F=F[1];if((U==="query"&&V.isPrimaryKey&&!z.values?le:$(V.name||"")).add(F),!V.isPrimaryKey){if(U!=="count"){var de=U==="query"&&_&&z.values&&m.query(g(g({},z),{values:!1}));return m[U].apply(this,arguments).then(function(Ae){if(U==="query"){if(_&&z.values)return de.then(function(et){return et=et.result,ne.addKeys(et),Ae});var Re=z.values?Ae.result.map(S):Ae.result;(z.values?ne:le).addKeys(Re)}else if(U==="openCursor"){var Se=Ae,Ue=z.values;return Se&&Object.create(Se,{key:{get:function(){return le.addKey(Se.primaryKey),Se.key}},primaryKey:{get:function(){var et=Se.primaryKey;return le.addKey(et),et}},value:{get:function(){return Ue&&ne.addKey(Se.primaryKey),Se.value}}})}return Ae})}le.add(c)}}return m[U].apply(this,arguments)}}),B}})}};function ti(r,a,c){if(c.numFailures===0)return a;if(a.type==="deleteRange")return null;var d=a.keys?a.keys.length:"values"in a&&a.values?a.values.length:1;return c.numFailures===d?null:(a=g({},a),T(a.keys)&&(a.keys=a.keys.filter(function(m,b){return!(b in c.failures)})),"values"in a&&T(a.values)&&(a.values=a.values.filter(function(m,b){return!(b in c.failures)})),a)}function zi(r,a){return c=r,((d=a).lower===void 0||(d.lowerOpen?0<xt(c,d.lower):0<=xt(c,d.lower)))&&(r=r,(a=a).upper===void 0||(a.upperOpen?xt(r,a.upper)<0:xt(r,a.upper)<=0));var c,d}function ar(r,a,P,d,m,b){if(!P||P.length===0)return r;var A=a.query.index,S=A.multiEntry,_=a.query.range,M=d.schema.primaryKey.extractKey,B=A.extractKey,k=(A.lowLevelIndex||A).extractKey,P=P.reduce(function(U,z){var F=U,V=[];if(z.type==="add"||z.type==="put")for(var K=new Kn,$=z.values.length-1;0<=$;--$){var ne,le=z.values[$],de=M(le);K.hasKey(de)||(ne=B(le),(S&&T(ne)?ne.some(function(Se){return zi(Se,_)}):zi(ne,_))&&(K.addKey(de),V.push(le)))}switch(z.type){case"add":var Ce=new Kn().addKeys(a.values?U.map(function(Ue){return M(Ue)}):U),F=U.concat(a.values?V.filter(function(Ue){return Ue=M(Ue),!Ce.hasKey(Ue)&&(Ce.addKey(Ue),!0)}):V.map(function(Ue){return M(Ue)}).filter(function(Ue){return!Ce.hasKey(Ue)&&(Ce.addKey(Ue),!0)}));break;case"put":var ye=new Kn().addKeys(z.values.map(function(Ue){return M(Ue)}));F=U.filter(function(Ue){return!ye.hasKey(a.values?M(Ue):Ue)}).concat(a.values?V:V.map(function(Ue){return M(Ue)}));break;case"delete":var Ae=new Kn().addKeys(z.keys);F=U.filter(function(Ue){return!Ae.hasKey(a.values?M(Ue):Ue)});break;case"deleteRange":var Re=z.range;F=U.filter(function(Ue){return!zi(M(Ue),Re)})}return F},r);return P===r?r:(P.sort(function(U,z){return xt(k(U),k(z))||xt(M(U),M(z))}),a.limit&&a.limit<1/0&&(P.length>a.limit?P.length=a.limit:r.length===a.limit&&P.length<a.limit&&(m.dirty=!0)),b?Object.freeze(P):P)}function Fi(r,a){return xt(r.lower,a.lower)===0&&xt(r.upper,a.upper)===0&&!!r.lowerOpen==!!a.lowerOpen&&!!r.upperOpen==!!a.upperOpen}function sr(r,a){return function(c,d,m,b){if(c===void 0)return d!==void 0?-1:0;if(d===void 0)return 1;if((d=xt(c,d))===0){if(m&&b)return 0;if(m)return 1;if(b)return-1}return d}(r.lower,a.lower,r.lowerOpen,a.lowerOpen)<=0&&0<=function(c,d,m,b){if(c===void 0)return d!==void 0?1:0;if(d===void 0)return-1;if((d=xt(c,d))===0){if(m&&b)return 0;if(m)return-1;if(b)return 1}return d}(r.upper,a.upper,r.upperOpen,a.upperOpen)}function xo(r,a,c,d){r.subscribers.add(c),d.addEventListener("abort",function(){var m,b;r.subscribers.delete(c),r.subscribers.size===0&&(m=r,b=a,setTimeout(function(){m.subscribers.size===0&&Ee(b,m)},3e3))})}var na={stack:"dbcore",level:0,name:"Cache",create:function(r){var a=r.schema.name;return g(g({},r),{transaction:function(c,d,m){var b,A,S=r.transaction(c,d,m);return d==="readwrite"&&(A=(b=new AbortController).signal,m=function(_){return function(){if(b.abort(),d==="readwrite"){for(var M=new Set,B=0,k=c;B<k.length;B++){var P=k[B],U=Qe["idb://".concat(a,"/").concat(P)];if(U){var z=r.table(P),F=U.optimisticOps.filter(function(Ue){return Ue.trans===S});if(S._explicit&&_&&S.mutatedParts)for(var V=0,K=Object.values(U.queries.query);V<K.length;V++)for(var $=0,ne=(Ce=K[V]).slice();$<ne.length;$++)Vt((ye=ne[$]).obsSet,S.mutatedParts)&&(Ee(Ce,ye),ye.subscribers.forEach(function(Ue){return M.add(Ue)}));else if(0<F.length){U.optimisticOps=U.optimisticOps.filter(function(Ue){return Ue.trans!==S});for(var le=0,de=Object.values(U.queries.query);le<de.length;le++)for(var Ce,ye,Ae,Re=0,Se=(Ce=de[le]).slice();Re<Se.length;Re++)(ye=Se[Re]).res!=null&&S.mutatedParts&&(_&&!ye.dirty?(Ae=Object.isFrozen(ye.res),Ae=ar(ye.res,ye.req,F,z,ye,Ae),ye.dirty?(Ee(Ce,ye),ye.subscribers.forEach(function(Ue){return M.add(Ue)})):Ae!==ye.res&&(ye.res=Ae,ye.promise=Ie.resolve({result:Ae}))):(ye.dirty&&Ee(Ce,ye),ye.subscribers.forEach(function(Ue){return M.add(Ue)})))}}}M.forEach(function(Ue){return Ue()})}}},S.addEventListener("abort",m(!1),{signal:A}),S.addEventListener("error",m(!1),{signal:A}),S.addEventListener("complete",m(!0),{signal:A})),S},table:function(c){var d=r.table(c),m=d.schema.primaryKey;return g(g({},d),{mutate:function(b){var A=Te.trans;if(m.outbound||A.db._options.cache==="disabled"||A.explicit||A.idbtrans.mode!=="readwrite")return d.mutate(b);var S=Qe["idb://".concat(a,"/").concat(c)];return S?(A=d.mutate(b),b.type!=="add"&&b.type!=="put"||!(50<=b.values.length||ba(m,b).some(function(_){return _==null}))?(S.optimisticOps.push(b),b.mutatedParts&&Fr(b.mutatedParts),A.then(function(_){0<_.numFailures&&(Ee(S.optimisticOps,b),(_=ti(0,b,_))&&S.optimisticOps.push(_),b.mutatedParts&&Fr(b.mutatedParts))}),A.catch(function(){Ee(S.optimisticOps,b),b.mutatedParts&&Fr(b.mutatedParts)})):A.then(function(_){var M=ti(0,g(g({},b),{values:b.values.map(function(B,k){var P;return _.failures[k]?B:(B=(P=m.keyPath)!==null&&P!==void 0&&P.includes(".")?tt(B):g({},B),fe(B,m.keyPath,_.results[k]),B)})}),_);S.optimisticOps.push(M),queueMicrotask(function(){return b.mutatedParts&&Fr(b.mutatedParts)})}),A):d.mutate(b)},query:function(b){if(!Ui(Te,d)||!ta("query",b))return d.query(b);var A=((M=Te.trans)===null||M===void 0?void 0:M.db._options.cache)==="immutable",k=Te,S=k.requery,_=k.signal,M=function(z,F,V,K){var $=Qe["idb://".concat(z,"/").concat(F)];if(!$)return[];if(!(F=$.queries[V]))return[null,!1,$,null];var ne=F[(K.query?K.query.index.name:null)||""];if(!ne)return[null,!1,$,null];switch(V){case"query":var le=ne.find(function(de){return de.req.limit===K.limit&&de.req.values===K.values&&Fi(de.req.query.range,K.query.range)});return le?[le,!0,$,ne]:[ne.find(function(de){return("limit"in de.req?de.req.limit:1/0)>=K.limit&&(!K.values||de.req.values)&&sr(de.req.query.range,K.query.range)}),!1,$,ne];case"count":return le=ne.find(function(de){return Fi(de.req.query.range,K.query.range)}),[le,!!le,$,ne]}}(a,c,"query",b),B=M[0],k=M[1],P=M[2],U=M[3];return B&&k?B.obsSet=b.obsSet:(k=d.query(b).then(function(z){var F=z.result;if(B&&(B.res=F),A){for(var V=0,K=F.length;V<K;++V)Object.freeze(F[V]);Object.freeze(F)}else z.result=tt(F);return z}).catch(function(z){return U&&B&&Ee(U,B),Promise.reject(z)}),B={obsSet:b.obsSet,promise:k,subscribers:new Set,type:"query",req:b,dirty:!1},U?U.push(B):(U=[B],(P=P||(Qe["idb://".concat(a,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[b.query.index.name||""]=U)),xo(B,U,S,_),B.promise.then(function(z){return{result:ar(z.result,b,P?.optimisticOps,d,B,A)}})}})}})}};function va(r,a){return new Proxy(r,{get:function(c,d,m){return d==="db"?a:Reflect.get(c,d,m)}})}var Mr=(Lt.prototype.version=function(r){if(isNaN(r)||r<.1)throw new Fe.Type("Given version is not a positive number");if(r=Math.round(10*r)/10,this.idbdb||this._state.isBeingOpened)throw new Fe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,r);var a=this._versions,c=a.filter(function(d){return d._cfg.version===r})[0];return c||(c=new this.Version(r),a.push(c),a.sort(za),c.stores({}),this._state.autoSchema=!1,c)},Lt.prototype._whenReady=function(r){var a=this;return this.idbdb&&(this._state.openComplete||Te.letThrough||this._vip)?r():new Ie(function(c,d){if(a._state.openComplete)return d(new Fe.DatabaseClosed(a._state.dbOpenError));if(!a._state.isBeingOpened){if(!a._state.autoOpen)return void d(new Fe.DatabaseClosed);a.open().catch(Nt)}a._state.dbReadyPromise.then(c,d)}).then(r)},Lt.prototype.use=function(r){var a=r.stack,c=r.create,d=r.level,m=r.name;return m&&this.unuse({stack:a,name:m}),r=this._middlewares[a]||(this._middlewares[a]=[]),r.push({stack:a,create:c,level:d??10,name:m}),r.sort(function(b,A){return b.level-A.level}),this},Lt.prototype.unuse=function(r){var a=r.stack,c=r.name,d=r.create;return a&&this._middlewares[a]&&(this._middlewares[a]=this._middlewares[a].filter(function(m){return d?m.create!==d:!!c&&m.name!==c})),this},Lt.prototype.open=function(){var r=this;return di(Mt,function(){return Hr(r)})},Lt.prototype._close=function(){var r=this._state,a=ge.indexOf(this);if(0<=a&&ge.splice(a,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}r.isBeingOpened||(r.dbReadyPromise=new Ie(function(c){r.dbReadyResolve=c}),r.openCanceller=new Ie(function(c,d){r.cancelOpen=d}))},Lt.prototype.close=function(c){var a=(c===void 0?{disableAutoOpen:!0}:c).disableAutoOpen,c=this._state;a?(c.isBeingOpened&&c.cancelOpen(new Fe.DatabaseClosed),this._close(),c.autoOpen=!1,c.dbOpenError=new Fe.DatabaseClosed):(this._close(),c.autoOpen=this._options.autoOpen||c.isBeingOpened,c.openComplete=!1,c.dbOpenError=null)},Lt.prototype.delete=function(r){var a=this;r===void 0&&(r={disableAutoOpen:!0});var c=0<arguments.length&&typeof arguments[0]!="object",d=this._state;return new Ie(function(m,b){function A(){a.close(r);var S=a._deps.indexedDB.deleteDatabase(a.name);S.onsuccess=lt(function(){var _,M,B;_=a._deps,M=a.name,B=_.indexedDB,_=_.IDBKeyRange,Pi(B)||M===Mi||Tn(B,_).delete(M).catch(Nt),m()}),S.onerror=Yt(b),S.onblocked=a._fireOnBlocked}if(c)throw new Fe.InvalidArgument("Invalid closeOptions argument to db.delete()");d.isBeingOpened?d.dbReadyPromise.then(A):A()})},Lt.prototype.backendDB=function(){return this.idbdb},Lt.prototype.isOpen=function(){return this.idbdb!==null},Lt.prototype.hasBeenClosed=function(){var r=this._state.dbOpenError;return r&&r.name==="DatabaseClosed"},Lt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Lt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Lt.prototype,"tables",{get:function(){var r=this;return w(this._allTables).map(function(a){return r._allTables[a]})},enumerable:!1,configurable:!0}),Lt.prototype.transaction=function(){var r=(function(a,c,d){var m=arguments.length;if(m<2)throw new Fe.InvalidArgument("Too few arguments");for(var b=new Array(m-1);--m;)b[m-1]=arguments[m];return d=b.pop(),[a,Nn(b),d]}).apply(this,arguments);return this._transaction.apply(this,r)},Lt.prototype._transaction=function(r,a,c){var d=this,m=Te.trans;m&&m.db===this&&r.indexOf("!")===-1||(m=null);var b,A,S=r.indexOf("?")!==-1;r=r.replace("!","").replace("?","");try{if(A=a.map(function(M){if(M=M instanceof d.Table?M.name:M,typeof M!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return M}),r=="r"||r===Dt)b=Dt;else{if(r!="rw"&&r!=jr)throw new Fe.InvalidArgument("Invalid transaction mode: "+r);b=jr}if(m){if(m.mode===Dt&&b===jr){if(!S)throw new Fe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");m=null}m&&A.forEach(function(M){if(m&&m.storeNames.indexOf(M)===-1){if(!S)throw new Fe.SubTransaction("Table "+M+" not included in parent transaction.");m=null}}),S&&m&&!m.active&&(m=null)}}catch(M){return m?m._promise(null,function(B,k){k(M)}):at(M)}var _=(function M(B,k,P,U,z){return Ie.resolve().then(function(){var F=Te.transless||Te,V=B._createTransaction(k,P,B._dbSchema,U);if(V.explicit=!0,F={trans:V,transless:F},U)V.idbtrans=U.idbtrans;else try{V.create(),V.idbtrans._explicit=!0,B._state.PR1398_maxLoop=3}catch(ne){return ne.name===Bn.InvalidState&&B.isOpen()&&0<--B._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),B.close({disableAutoOpen:!1}),B.open().then(function(){return M(B,k,P,null,z)})):at(ne)}var K,$=me(z);return $&&rn(),F=Ie.follow(function(){var ne;(K=z.call(V,V))&&($?(ne=On.bind(null,null),K.then(ne,ne)):typeof K.next=="function"&&typeof K.throw=="function"&&(K=ji(K)))},F),(K&&typeof K.then=="function"?Ie.resolve(K).then(function(ne){return V.active?ne:at(new Fe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):F.then(function(){return K})).then(function(ne){return U&&V._resolve(),V._completion.then(function(){return ne})}).catch(function(ne){return V._reject(ne),at(ne)})})}).bind(null,this,b,A,m,c);return m?m._promise(b,_,"lock"):Te.trans?di(Te.transless,function(){return d._whenReady(_)}):this._whenReady(_)},Lt.prototype.table=function(r){if(!D(this._allTables,r))throw new Fe.InvalidTable("Table ".concat(r," does not exist"));return this._allTables[r]},Lt);function Lt(r,a){var c=this;this._middlewares={},this.verno=0;var d=Lt.dependencies;this._options=a=g({addons:Lt.addons,autoOpen:!0,indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange,cache:"cloned"},a),this._deps={indexedDB:a.indexedDB,IDBKeyRange:a.IDBKeyRange},d=a.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var m,b,A,S,_,M={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Nt,dbReadyPromise:null,cancelOpen:Nt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:a.autoOpen};M.dbReadyPromise=new Ie(function(k){M.dbReadyResolve=k}),M.openCanceller=new Ie(function(k,P){M.cancelOpen=P}),this._state=M,this.name=r,this.on=pi(this,"populate","blocked","versionchange","close",{ready:[Ti,Nt]}),this.on.ready.subscribe=Oe(this.on.ready.subscribe,function(k){return function(P,U){Lt.vip(function(){var z,F=c._state;F.openComplete?(F.dbOpenError||Ie.resolve().then(P),U&&k(P)):F.onReadyBeingFired?(F.onReadyBeingFired.push(P),U&&k(P)):(k(P),z=c,U||k(function V(){z.on.ready.unsubscribe(P),z.on.ready.unsubscribe(V)}))})}}),this.Collection=(m=this,Jt(Un.prototype,function(K,V){this.db=m;var U=bt,z=null;if(V)try{U=V()}catch($){z=$}var F=K._ctx,V=F.table,K=V.hook.reading.fire;this._ctx={table:V,index:F.index,isPrimKey:!F.index||V.schema.primKey.keyPath&&F.index===V.schema.primKey.name,range:U,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:z,or:F.or,valueMapper:K!==mt?K:null}})),this.Table=(b=this,Jt(pn.prototype,function(k,P,U){this.db=b,this._tx=U,this.name=k,this.schema=P,this.hook=b._allTables[k]?b._allTables[k].hook:pi(null,{creating:[ha,Nt],reading:[hi,mt],updating:[Zt,Nt],deleting:[Qt,Nt]})})),this.Transaction=(A=this,Jt(ct.prototype,function(k,P,U,z,F){var V=this;this.db=A,this.mode=k,this.storeNames=P,this.schema=U,this.chromeTransactionDurability=z,this.idbtrans=null,this.on=pi(this,"complete","error","abort"),this.parent=F||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ie(function(K,$){V._resolve=K,V._reject=$}),this._completion.then(function(){V.active=!1,V.on.complete.fire()},function(K){var $=V.active;return V.active=!1,V.on.error.fire(K),V.parent?V.parent._reject(K):$&&V.idbtrans&&V.idbtrans.abort(),at(K)})})),this.Version=(S=this,Jt(oe.prototype,function(k){this.db=S,this._cfg={version:k,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(_=this,Jt(Zr.prototype,function(k,P,U){if(this.db=_,this._ctx={table:k,index:P===":id"?null:P,or:U},this._cmp=this._ascending=xt,this._descending=function(z,F){return xt(F,z)},this._max=function(z,F){return 0<xt(z,F)?z:F},this._min=function(z,F){return xt(z,F)<0?z:F},this._IDBKeyRange=_._deps.IDBKeyRange,!this._IDBKeyRange)throw new Fe.MissingAPI})),this.on("versionchange",function(k){0<k.newVersion?console.warn("Another connection wants to upgrade database '".concat(c.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(c.name,"'. Closing db now to resume the delete request.")),c.close({disableAutoOpen:!1})}),this.on("blocked",function(k){!k.newVersion||k.newVersion<k.oldVersion?console.warn("Dexie.delete('".concat(c.name,"') was blocked")):console.warn("Upgrade '".concat(c.name,"' blocked by other connection holding version ").concat(k.oldVersion/10))}),this._maxKey=Er(a.IDBKeyRange),this._createTransaction=function(k,P,U,z){return new c.Transaction(k,P,U,c._options.chromeTransactionDurability,z)},this._fireOnBlocked=function(k){c.on("blocked").fire(k),ge.filter(function(P){return P.name===c.name&&P!==c&&!P._state.vcFired}).map(function(P){return P.on("versionchange").fire(k)})},this.use(Va),this.use(na),this.use(mo),this.use(Cs),this.use(zs);var B=new Proxy(this,{get:function(k,P,U){if(P==="_vip")return!0;if(P==="table")return function(F){return va(c.table(F),B)};var z=Reflect.get(k,P,U);return z instanceof pn?va(z,B):P==="tables"?z.map(function(F){return va(F,B)}):P==="_createTransaction"?function(){return va(z.apply(this,arguments),B)}:z}});this.vip=B,d.forEach(function(k){return k(c)})}var ra,tr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ia=(Ct.prototype.subscribe=function(r,a,c){return this._subscribe(r&&typeof r!="function"?r:{next:r,error:a,complete:c})},Ct.prototype[tr]=function(){return this},Ct);function Ct(r){this._subscribe=r}try{ra={indexedDB:v.indexedDB||v.mozIndexedDB||v.webkitIndexedDB||v.msIndexedDB,IDBKeyRange:v.IDBKeyRange||v.webkitIDBKeyRange}}catch{ra={indexedDB:null,IDBKeyRange:null}}function Ca(r){var a,c=!1,d=new ia(function(m){var b=me(r),A,S=!1,_={},M={},B={get closed(){return S},unsubscribe:function(){S||(S=!0,A&&A.abort(),k&&qn.storagemutated.unsubscribe(U))}};m.start&&m.start(B);var k=!1,P=function(){return fn(z)},U=function(F){zr(_,F),Vt(M,_)&&P()},z=function(){var F,V,K;!S&&ra.indexedDB&&(_={},F={},A&&A.abort(),A=new AbortController,K=function($){var ne=br();try{b&&rn();var le=vr(r,$);return le=b?le.finally(On):le}finally{ne&&qr()}}(V={subscr:F,signal:A.signal,requery:P,querier:r,trans:null}),Promise.resolve(K).then(function($){c=!0,a=$,S||V.signal.aborted||(_={},function(ne){for(var le in ne)if(D(ne,le))return;return 1}(M=F)||k||(qn(hr,U),k=!0),fn(function(){return!S&&m.next&&m.next($)}))},function($){c=!1,["DatabaseClosedError","AbortError"].includes($?.name)||S||fn(function(){S||m.error&&m.error($)})}))};return setTimeout(P,0),B});return d.hasValue=function(){return c},d.getValue=function(){return a},d}var O=Mr;function t(r){var a=s;try{s=!0,qn.storagemutated.fire(r),yi(r,!0)}finally{s=a}}X(O,g(g({},yn),{delete:function(r){return new O(r,{addons:[]}).delete()},exists:function(r){return new O(r,{addons:[]}).open().then(function(a){return a.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(r){try{return a=O.dependencies,c=a.indexedDB,a=a.IDBKeyRange,(Pi(c)?Promise.resolve(c.databases()).then(function(d){return d.map(function(m){return m.name}).filter(function(m){return m!==Mi})}):Tn(c,a).toCollection().primaryKeys()).then(r)}catch{return at(new Fe.MissingAPI)}var a,c},defineClass:function(){return function(r){N(this,r)}},ignoreTransaction:function(r){return Te.trans?di(Te.transless,r):r()},vip:Ga,async:function(r){return function(){try{var a=ji(r.apply(this,arguments));return a&&typeof a.then=="function"?a:Ie.resolve(a)}catch(c){return at(c)}}},spawn:function(r,a,c){try{var d=ji(r.apply(c,a||[]));return d&&typeof d.then=="function"?d:Ie.resolve(d)}catch(m){return at(m)}},currentTransaction:{get:function(){return Te.trans||null}},waitFor:function(r,a){return a=Ie.resolve(typeof r=="function"?O.ignoreTransaction(r):r).timeout(a||6e4),Te.trans?Te.trans.waitFor(a):a},Promise:Ie,debug:{get:function(){return ke},set:function(r){da(r)}},derive:ue,extend:N,props:X,override:Oe,Events:pi,on:qn,liveQuery:Ca,extendObservabilitySet:zr,getByKeyPath:Ve,setByKeyPath:fe,delByKeyPath:function(r,a){typeof a=="string"?fe(r,a,void 0):"length"in a&&[].map.call(a,function(c){fe(r,c,void 0)})},shallowClone:Je,deepClone:tt,getObjectDiff:ya,cmp:xt,asap:Me,minKey:-1/0,addons:[],connections:ge,errnames:Bn,dependencies:ra,cache:Qe,semVer:"4.0.11",version:"4.0.11".split(".").map(function(r){return parseInt(r)}).reduce(function(r,a,c){return r+a/Math.pow(10,2*c)})})),O.maxKey=Er(O.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(qn(hr,function(r){s||(r=new CustomEvent(We,{detail:r}),s=!0,dispatchEvent(r),s=!1)}),addEventListener(We,function(r){r=r.detail,s||t(r)}));var i,s=!1,l=function(){};return typeof BroadcastChannel<"u"&&((l=function(){(i=new BroadcastChannel(We)).onmessage=function(r){return r.data&&t(r.data)}})(),typeof i.unref=="function"&&i.unref(),qn(hr,function(r){s||i.postMessage(r)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(r){if(!Mr.disableBfCache&&r.persisted){ke&&console.debug("Dexie: handling persisted pagehide"),i?.close();for(var a=0,c=ge;a<c.length;a++)c[a].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(r){!Mr.disableBfCache&&r.persisted&&(ke&&console.debug("Dexie: handling persisted pageshow"),l(),t({all:new Kn(-1/0,[[]])}))})),Ie.rejectionMapper=function(r,a){return!r||r instanceof _e||r instanceof TypeError||r instanceof SyntaxError||!r.name||!fi[r.name]?r:(a=new fi[r.name](a||r.message,r),"stack"in r&&ce(a,"stack",{get:function(){return this.inner.stack}}),a)},da(ke),g(Mr,Object.freeze({__proto__:null,Dexie:Mr,liveQuery:Ca,Entity:gt,cmp:xt,PropModification:Ye,replacePrefix:function(r,a){return new Ye({replacePrefix:[r,a]})},add:function(r){return new Ye({add:r})},remove:function(r){return new Ye({remove:r})},default:Mr,RangeSet:Kn,mergeRanges:$r,rangesOverlap:Cn}),{default:Mr}),Mr})}(oc)),oc.exports}var d2=h2();const Af=po(d2),Y1=Symbol.for("Dexie"),gc=globalThis[Y1]||(globalThis[Y1]=Af);if(Af.semVer!==gc.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Af.semVer} and ${gc.semVer}`);const{liveQuery:g2,mergeRanges:qx,rangesOverlap:Kx,RangeSet:Qx,cmp:Zx,Entity:Wx,PropModification:Jx,replacePrefix:$x,add:ey,remove:ty}=gc;function p2(p,f,h){var g,y;typeof p=="function"?(g=f||[],y=h):(g=[],y=f);var v=fo.useRef({hasResult:!1,result:y,error:null}),w=fo.useReducer(function(E){return E+1},0);w[0];var T=w[1],N=fo.useMemo(function(){var E=typeof p=="function"?p():p;if(!E||typeof E.subscribe!="function")throw p===E?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!v.current.hasResult&&typeof window<"u"&&(typeof E.hasValue!="function"||E.hasValue()))if(typeof E.getValue=="function")v.current.result=E.getValue(),v.current.hasResult=!0;else{var I=E.subscribe(function(D){v.current.result=D,v.current.hasResult=!0});typeof I=="function"?I():I.unsubscribe()}return E},g);if(fo.useDebugValue(v.current.result),fo.useEffect(function(){var E=N.subscribe(function(I){var D=v.current;(D.error!==null||D.result!==I)&&(D.error=null,D.result=I,D.hasResult=!0,T())},function(I){var D=v.current;D.error!==I&&(D.error=I,T())});return typeof E=="function"?E:E.unsubscribe.bind(E)},g),v.current.error)throw v.current.error;return v.current.result}function m2(p,f,h){return p2(function(){return g2(p)},f||[],h)}const xr=new gc("GestorProyectosDB");xr.version(2).stores({projects:"++id, name, description, createdAt, updatedAt"}).upgrade(p=>p.table("projects").toCollection().modify(f=>{f.updatedAt||(f.updatedAt=f.createdAt)}));xr.version(1).stores({projects:"++id, name, description, createdAt"});function x2(){const[p,f]=ft.useState(()=>localStorage.getItem("theme")||"system");return ft.useEffect(()=>{const h=window.document.documentElement,g=p==="dark"||p==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches;h.classList.remove(g?"light":"dark"),h.classList.add(g?"dark":"light"),localStorage.setItem("theme",p)},[p]),ft.useEffect(()=>{const h=window.matchMedia("(prefers-color-scheme: dark)"),g=()=>{if(p==="system"){const y=h.matches;root.classList.remove(y?"light":"dark"),root.classList.add(y?"dark":"light")}};return h.addEventListener("change",g),()=>h.removeEventListener("change",g)},[p]),[p,f]}const X1={ca:{dashboardTitle:"Gestor de Projectes",dashboardSubtitle:"Organitza les teves idees, projectes i tasques en un sol lloc.",addProject:"Afegir Projecte",newProjectPlaceholder:"Nom de la teva nova idea o projecte...",searchAndFilter:"Cercar i Filtrar",searchPlaceholder:"Cerca per nom o descripció...",allKeywords:"Tots",noProjectsFoundTitle:"No s'han trobat projectes",noProjectsFoundSubtitle:"Intenta ajustar la teva cerca o filtre, o crea el teu primer projecte.",upcomingTasks:"Tasques Pròximes (7 dies)",noUpcomingTasks:"Cap tasca pròxima! Bona feina!",openProject:"Obrir Projecte",openFile:"Obrir",saveFile:"Desar",syncDevices:"Sincronitzar",syncTitle:"Sincronitzar Dispositius",syncInitializing:"Inicialitzant connexió...",syncShowQR:"1. Mostra aquest QR al teu altre dispositiu",syncOr:"O",syncScanQR:"2. Escanejar QR",syncCameraHelp:"Apunta la càmera al codi QR de l'altre dispositiu.",syncConnected:"Connectat! Sincronitzant...",syncReceiving:"Rebent dades...",tasks:"Tasques",notes:"Notes",backToDashboard:"Tornar al Tauler",details:"Detalls",description:"Descripció",descriptionPlaceholder:"Afegeix una breu descripció...",formattingHelp:"Fes servir #, ##, ### per a encapçalaments, **negreta** i *cursiva*.",keywords:"Paraules Clau",keywordsPlaceholder:"Afegir i prémer Enter",addNote:"Afegir Nota",newNoteTitlePlaceholder:"Títol de la nova nota",newNoteContentPlaceholder:"Escriu el contingut de la nota...",addTask:"Afegir Tasca",newTaskPlaceholder:"Nova tasca...",confirm:"Confirmar",cancel:"Cancel·lar",deleteConfirmTitle:"Confirmar Eliminació?",deleteConfirmMessage:"Aquesta acció és permanent.",importConfirmTitle:"Confirmar Importació?",importConfirmMessage:"Això esborrarà totes les dades actuals i les reemplaçarà amb el contingut de l'arxiu. N'estàs segur?",note:"Nota",helpTitle:"Guia d'Ajuda",helpIntro:"Com funciona aquesta aplicació?",helpIntroText:`Aquest gestor de projectes és una aplicació "local-first". Això significa que tots els teus projectes, notes i tasques es guarden directament a la base de dades d'aquest navegador, en aquest dispositiu.`,helpStorageTitle:"Important! Sobre l'Emmagatzematge Local",helpStorageText:"Com que depèn de l'emmagatzematge del navegador, si neteges la memòria cau, les dades de navegació o formateges el dispositiu, tots els teus projectes es perdran permanentment.",helpBackupTitle:"Fes Còpia de Seguretat de les teves Dades (Recomanat)",helpBackupText:"Per evitar la pèrdua de dades, et recomanem que facis servir el botó d'Exportar regularment. Això guardarà una còpia de seguretat de tots els teus projectes en un arxiu .json al teu ordinador.",helpRestoreTitle:"Restaura des d'una Còpia de Seguretat",helpRestoreText:"Si canvies de navegador, de dispositiu o necessites restaurar la teva informació, pots fer servir el botó d'Importar i seleccionar l'arxiu .json que vas exportar prèviament.",footerText:"Creat per Pablo G. Guizar amb l'ajuda de Gemini.",footerLicense:"Llicència Creative Commons Atribució 4.0 Internacional",githubRepo:"Repositori a GitHub",import:"Importar",export:"Exportar",help:"Ajuda",today:"Avui",tomorrow:"Demà",inXDays:"En {days} dies",addProjectError:"No s'ha pogut afegir el projecte.",deleteProjectError:"No s'ha pogut eliminar el projecte.",updateProjectError:"No s'ha pogut actualitzar el projecte.",exportError:"No s'han pogut exportar les dades.",jsonFormatError:"L'arxiu JSON no té el format correcte.",jsonParseError:"L'arxiu seleccionat no és un JSON vàlid o té un format incorrecte.",importError:"Hi ha hagut un error en importar les dades."},en:{dashboardTitle:"Project Manager",dashboardSubtitle:"Organize your ideas, projects, and tasks in one place.",addProject:"Add Project",newProjectPlaceholder:"Name of your new idea or project...",searchAndFilter:"Search and Filter",searchPlaceholder:"Search by name or description...",allKeywords:"All",noProjectsFoundTitle:"No Projects Found",noProjectsFoundSubtitle:"Try adjusting your search or filter, or create your first project.",upcomingTasks:"Upcoming Tasks (7 days)",noUpcomingTasks:"No upcoming tasks! Good job!",openProject:"Open Project",openFile:"Open",saveFile:"Save",syncDevices:"Sync",syncTitle:"Sync Devices",syncInitializing:"Initializing connection...",syncShowQR:"1. Show this QR to your other device",syncOr:"Or",syncScanQR:"2. Scan QR Code",syncCameraHelp:"Point the camera at the QR code on the other device.",syncConnected:"Connected! Syncing...",syncReceiving:"Receiving data...",tasks:"Tasks",notes:"Notes",backToDashboard:"Back to Dashboard",details:"Details",description:"Description",descriptionPlaceholder:"Add a brief description...",formattingHelp:"Use #, ##, ### for headers, **bold** and *italic*.",keywords:"Keywords",keywordsPlaceholder:"Add and press Enter",addNote:"Add Note",newNoteTitlePlaceholder:"Title for the new note",newNoteContentPlaceholder:"Write the note content...",addTask:"Add Task",newTaskPlaceholder:"New task...",confirm:"Confirm",cancel:"Cancel",deleteConfirmTitle:"Confirm Deletion?",deleteConfirmMessage:"This action is permanent.",importConfirmTitle:"Confirm Import?",importConfirmMessage:"This will delete all current data and replace it with the contents of the file. Are you sure?",note:"Note",helpTitle:"Help Guide",helpIntro:"How does this app work?",helpIntroText:'This project manager is a "local-first" application. This means all your projects, notes, and tasks are saved directly to the database in this browser, on this device.',helpStorageTitle:"Important! About Local Storage",helpStorageText:"Because it relies on browser storage, if you clear your cache, browsing data, or format your device, all your projects will be permanently lost.",helpBackupTitle:"Back Up Your Data (Recommended)",helpBackupText:"To prevent data loss, we strongly recommend using the Export button regularly. This will save a backup of all your projects to a .json file on your computer.",helpRestoreTitle:"Restore from a Backup",helpRestoreText:"If you switch browsers, devices, or need to restore your information, you can use the Import button and select the .json file you previously exported.",footerText:"Created by Pablo G. Guizar with the help of Gemini.",footerLicense:"Creative Commons Attribution 4.0 International License",githubRepo:"GitHub Repository",import:"Import",export:"Export",help:"Help",today:"Today",tomorrow:"Tomorrow",inXDays:"In {days} days",addProjectError:"Could not add the project.",deleteProjectError:"Could not delete the project.",updateProjectError:"Could not update the project.",exportError:"Could not export the data.",jsonFormatError:"The JSON file does not have the correct format.",jsonParseError:"The selected file is not a valid JSON or has an incorrect format.",importError:"An error occurred while importing the data."},es:{dashboardTitle:"Gestor de Proyectos",dashboardSubtitle:"Organiza tus ideas, proyectos y tareas en un solo lugar.",addProject:"Añadir Proyecto",newProjectPlaceholder:"Nombre de tu nueva idea o proyecto...",searchAndFilter:"Buscar y Filtrar",searchPlaceholder:"Buscar por nombre o descripción...",allKeywords:"Todos",noProjectsFoundTitle:"No se encontraron proyectos",noProjectsFoundSubtitle:"Intenta ajustar tu búsqueda o filtro, o crea tu primer proyecto.",upcomingTasks:"Próximas Tareas (7 días)",noUpcomingTasks:"¡Ninguna tarea próxima! ¡Buen trabajo!",openProject:"Abrir Proyecto",openFile:"Abrir",saveFile:"Guardar",syncDevices:"Sincronizar",syncTitle:"Sincronizar Dispositivos",syncInitializing:"Inicializando conexión...",syncShowQR:"1. Muestra este QR a tu otro dispositivo",syncOr:"O",syncScanQR:"2. Escanear QR",syncCameraHelp:"Apunta la cámara al código QR del otro dispositivo.",syncConnected:"¡Conectado! Sincronizando...",syncReceiving:"Recibiendo datos...",tasks:"Tareas",notes:"Notas",backToDashboard:"Volver al Tablero",details:"Detalles",description:"Descripción",descriptionPlaceholder:"Añade una breve descripción...",formattingHelp:"Usa #, ##, ### para encabezados, **negrita** y *cursiva*.",keywords:"Palabras Clave",keywordsPlaceholder:"Añadir y presionar Enter",addNote:"Añadir Nota",newNoteTitlePlaceholder:"Título de la nueva nota",newNoteContentPlaceholder:"Escribe el contenido de la nota...",addTask:"Añadir Tarea",newTaskPlaceholder:"Nueva tarea...",confirm:"Confirmar",cancel:"Cancelar",deleteConfirmTitle:"¿Confirmar Eliminación?",deleteConfirmMessage:"Esta acción es permanente.",importConfirmTitle:"¿Confirmar Importación?",importConfirmMessage:"Esto borrará todos los datos actuales y los reemplazará con el contenido del archivo. ¿Estás seguro?",note:"Nota",helpTitle:"Guía de Ayuda",helpIntro:"¿Cómo funciona esta aplicación?",helpIntroText:'Este gestor de proyectos es una aplicación "local-first". Esto significa que todos tus proyectos, notas y tareas se guardan directamente en la base de datos de este navegador, en este dispositivo.',helpStorageTitle:"¡Importante! Sobre el Almacenamiento Local",helpStorageText:"Al depender del almacenamiento del navegador, si limpias la caché, los datos de navegación o formateas tu dispositivo, todos tus proyectos se perderán permanentemente.",helpBackupTitle:"Respalda tus Datos (Recomendado)",helpBackupText:"Para evitar la pérdida de datos, te recomendamos encarecidamente que uses el botón de Exportar con regularidad. Esto guardará una copia de seguridad de todos tus proyectos en un archivo .json en tu computadora.",helpRestoreTitle:"Restaura desde un Respaldo",helpRestoreText:"Si cambias de navegador, de dispositivo o necesitas restaurar tu información, puedes usar el botón de Importar y seleccionar el archivo .json que exportaste previamente.",footerText:"Creado por Pablo G. Guizar con la ayuda de Gemini.",footerLicense:"Licencia Creative Commons Atribución 4.0 Internacional",githubRepo:"Repositorio en GitHub",import:"Importar",export:"Exportar",help:"Ayuda",today:"Hoy",tomorrow:"Mañana",inXDays:"En {days} días",addProjectError:"No se pudo agregar el proyecto.",deleteProjectError:"No se pudo eliminar el proyecto.",updateProjectError:"No se pudo actualizar el proyecto.",exportError:"No se pudieron exportar los datos.",jsonFormatError:"El archivo JSON no tiene el formato correcto.",jsonParseError:"El archivo seleccionado no es un JSON válido o tiene un formato incorrecto.",importError:"Ocurrió un error al importar los datos."},eu:{dashboardTitle:"Proiektu Kudeatzailea",dashboardSubtitle:"Antolatu zure ideiak, proiektuak eta lanak leku bakarrean.",addProject:"Proiektua Gehitu",newProjectPlaceholder:"Zure ideia edo proiektu berriaren izena...",searchAndFilter:"Bilatu eta Iragazi",searchPlaceholder:"Bilatu izenaren edo deskribapenaren arabera...",allKeywords:"Guztiak",noProjectsFoundTitle:"Ez da proiekturik aurkitu",noProjectsFoundSubtitle:"Saiatu bilaketa edo iragazkia doitzen, edo sortu zure lehen proiektua.",upcomingTasks:"Hurrengo Lanak (7 egun)",noUpcomingTasks:"Ez dago hurrengo lanik! Lan ona!",openProject:"Proiektua Ireki",openFile:"Ireki",saveFile:"Gorde",syncDevices:"Sinkronizatu",syncTitle:"Gailuak Sinkronizatu",syncInitializing:"Konexioa hasieratzen...",syncShowQR:"1. Erakutsi QR hau zure beste gailuari",syncOr:"Edo",syncScanQR:"2. Eskaneatu QRa",syncCameraHelp:"Zuzendu kamera beste gailuko QR kodera.",syncConnected:"Konektatuta! Sinkronizatzen...",syncReceiving:"Datuak jasotzen...",tasks:"Lanak",notes:"Oharrak",backToDashboard:"Arbelera Itzuli",details:"Xehetasunak",description:"Deskribapena",descriptionPlaceholder:"Gehitu deskribapen labur bat...",formattingHelp:"Erabili #, ##, ### goiburukietarako, **lodia** eta *etzana*.",keywords:"Gako-hitzak",keywordsPlaceholder:"Gehitu eta sakatu Enter",addNote:"Oharra Gehitu",newNoteTitlePlaceholder:"Ohar berriaren izenburua",newNoteContentPlaceholder:"Idatzi oharraren edukia...",addTask:"Lana Gehitu",newTaskPlaceholder:"Lan berria...",confirm:"Berretsi",cancel:"Utzi",deleteConfirmTitle:"Ezabatzea Berretsi?",deleteConfirmMessage:"Ekintza hau iraunkorra da.",importConfirmTitle:"Inportazioa Berretsi?",importConfirmMessage:"Honek uneko datu guztiak ezabatuko ditu eta fitxategiaren edukiarekin ordezkatuko ditu. Ziur zaude?",note:"Oharra",helpTitle:"Laguntza Gida",helpIntro:"Nola funtzionatzen du aplikazio honek?",helpIntroText:'Proiektu-kudeatzaile hau "local-first" aplikazio bat da. Horrek esan nahi du zure proiektu, ohar eta lan guztiak zuzenean arakatzaile honetako datu-basean gordetzen direla, gailu honetan.',helpStorageTitle:"Garrantzitsua! Biltegiratze Lokalari buruz",helpStorageText:"Arakatzailearen biltegiratzearen menpe dagoenez, katxea, nabigazio-datuak garbitzen badituzu edo gailua formateatzen baduzu, zure proiektu guztiak betiko galduko dira.",helpBackupTitle:"Egin Zure Datuen Babeskopia (Gomendatua)",helpBackupText:"Datuak galtzea ekiditeko, Esportatu botoia erregulartasunez erabiltzea gomendatzen dizugu. Honek zure proiektu guztien babeskopia bat gordeko du .json fitxategi batean zure ordenagailuan.",helpRestoreTitle:"Leheneratu Babeskopia batetik",helpRestoreText:"Arakatzailez, gailuz aldatzen baduzu edo zure informazioa leheneratu behar baduzu, Inportatu botoia erabil dezakezu eta aurrez esportatu zenuen .json fitxategia hautatu.",footerText:"Pablo G. Guizar-ek sortua, Gemini-ren laguntzarekin.",footerLicense:"Creative Commons Aitortu 4.0 Nazioarteko Lizentzia",githubRepo:"GitHub Repositorioa",import:"Inportatu",export:"Esportatu",help:"Laguntza",today:"Gaur",tomorrow:"Bihar",inXDays:"{days} egun barru",addProjectError:"Ezin izan da proiektua gehitu.",deleteProjectError:"Ezin izan da proiektua ezabatu.",updateProjectError:"Ezin izan da proiektua eguneratu.",exportError:"Ezin izan dira datuak esportatu.",jsonFormatError:"JSON fitxategiak ez du formatu zuzena.",jsonParseError:"Hautatutako fitxategia ez da JSON balioduna edo formatu okerra du.",importError:"Errore bat gertatu da datuak inportatzean."},gl:{dashboardTitle:"Xestor de Proxectos",dashboardSubtitle:"Organiza as túas ideas, proxectos e tarefas nun só lugar.",addProject:"Engadir Proxecto",newProjectPlaceholder:"Nome da túa nova idea ou proxecto...",searchAndFilter:"Buscar e Filtrar",searchPlaceholder:"Buscar por nome ou descrición...",allKeywords:"Todos",noProjectsFoundTitle:"Non se atoparon proxectos",noProjectsFoundSubtitle:"Tenta axustar a túa busca ou filtro, ou crea o teu primeiro proxecto.",upcomingTasks:"Vindeiras Tarefas (7 días)",noUpcomingTasks:"Ningunha tarefa vindeira! Bo traballo!",openProject:"Abrir Proxecto",openFile:"Abrir",saveFile:"Gardar",syncDevices:"Sincronizar",syncTitle:"Sincronizar Dispositivos",syncInitializing:"Inicializando conexión...",syncShowQR:"1. Mostra este QR ao teu outro dispositivo",syncOr:"Ou",syncScanQR:"2. Escanear QR",syncCameraHelp:"Apunta a cámara ao código QR do outro dispositivo.",syncConnected:"Conectado! Sincronizando...",syncReceiving:"Recibindo datos...",tasks:"Tarefas",notes:"Notas",backToDashboard:"Volver ao Taboleiro",details:"Detalles",description:"Descrición",descriptionPlaceholder:"Engade unha breve descrición...",formattingHelp:"Usa #, ##, ### para cabeceiras, **negra** e *cursiva*.",keywords:"Palabras Clave",keywordsPlaceholder:"Engadir e premer Enter",addNote:"Engadir Nota",newNoteTitlePlaceholder:"Título da nova nota",newNoteContentPlaceholder:"Escribe o contido da nota...",addTask:"Engadir Tarefa",newTaskPlaceholder:"Nova tarefa...",confirm:"Confirmar",cancel:"Cancelar",deleteConfirmTitle:"Confirmar Eliminación?",deleteConfirmMessage:"Esta acción é permanente.",importConfirmTitle:"Confirmar Importación?",importConfirmMessage:"Isto borrará todos os datos actuais e substituiraos polo contido do ficheiro. Estás seguro?",note:"Nota",helpTitle:"Guía de Axuda",helpIntro:"Como funciona esta aplicación?",helpIntroText:'Este xestor de proxectos é unha aplicación "local-first". Isto significa que todos os teus proxectos, notas e tarefas gárdanse directamente na base de datos deste navegador, neste dispositivo.',helpStorageTitle:"Importante! Sobre o Almacenamento Local",helpStorageText:"Ao depender do almacenamento do navegador, se limpas a caché, os datos de navegación ou formateas o teu dispositivo, todos os teus proxectos perderanse permanentemente.",helpBackupTitle:"Fai Copia de Seguridade dos teus Datos (Recomendado)",helpBackupText:"Para evitar a perda de datos, recomendámosche encarecidamente que uses o botón de Exportar con regularidade. Isto gardará unha copia de seguridade de todos os teus proxectos nun ficheiro .json no teu ordenador.",helpRestoreTitle:"Restaura desde unha Copia de Seguridade",helpRestoreText:"Se cambias de navegador, de dispositivo ou necesitas restaurar a túa información, podes usar o botón de Importar e seleccionar o ficheiro .json que exportaches previamente.",footerText:"Creado por Pablo G. Guizar coa axuda de Gemini.",footerLicense:"Licenza Creative Commons Atribución 4.0 Internacional",githubRepo:"Repositorio en GitHub",import:"Importar",export:"Exportar",help:"Axuda",today:"Hoxe",tomorrow:"Mañá",inXDays:"En {days} días",addProjectError:"Non se puido engadir o proxecto.",deleteProjectError:"Non se puido eliminar o proxecto.",updateProjectError:"Non se puido actualizar o proxecto.",exportError:"Non se puideron exportar os datos.",jsonFormatError:"O ficheiro JSON non ten o formato correcto.",jsonParseError:"O ficheiro seleccionado non é un JSON válido ou ten un formato incorrecto.",importError:"Ocorreu un erro ao importar os datos."}},Bd=ft.createContext();function y2({children:p}){const[f,h]=ft.useState(()=>localStorage.getItem("locale")||"es");ft.useEffect(()=>{localStorage.setItem("locale",f)},[f]);const g=(y,v={})=>{let w=X1[f]?.[y]||X1.en?.[y]||y;return Object.keys(v).forEach(T=>{w=w.replace(`{${T}}`,v[T])}),w};return H.jsx(Bd.Provider,{value:{locale:f,setLocale:h,t:g},children:p})}function Xi(){return ft.useContext(Bd)}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=p=>p.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),v2=p=>p.replace(/^([A-Z])|[\s-_]+(\w)/g,(f,h,g)=>g?g.toUpperCase():h.toLowerCase()),q1=p=>{const f=v2(p);return f.charAt(0).toUpperCase()+f.slice(1)},Ld=(...p)=>p.filter((f,h,g)=>!!f&&f.trim()!==""&&g.indexOf(f)===h).join(" ").trim(),C2=p=>{for(const f in p)if(f.startsWith("aria-")||f==="role"||f==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var E2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=ft.forwardRef(({color:p="currentColor",size:f=24,strokeWidth:h=2,absoluteStrokeWidth:g,className:y="",children:v,iconNode:w,...T},N)=>ft.createElement("svg",{ref:N,...E2,width:f,height:f,stroke:p,strokeWidth:g?Number(h)*24/Number(f):h,className:Ld("lucide",y),...!v&&!C2(T)&&{"aria-hidden":"true"},...T},[...w.map(([E,I])=>ft.createElement(E,I)),...Array.isArray(v)?v:[v]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=(p,f)=>{const h=ft.forwardRef(({className:g,...y},v)=>ft.createElement(A2,{ref:v,iconNode:f,className:Ld(`lucide-${b2(q1(p))}`,`lucide-${p}`,g),...y}));return h.displayName=q1(p),h};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],w2=xn("arrow-left",S2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],_2=xn("book-open",T2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Pd=xn("calendar",N2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],O2=xn("check",R2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],M2=xn("circle-question-mark",I2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],k2=xn("download",D2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],L2=xn("file-text",B2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],j2=xn("folder-open",P2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],z2=xn("github",U2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],H2=xn("hard-drive",F2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],V2=xn("monitor",G2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],X2=xn("moon",Y2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],K2=xn("pen",q2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Sf=xn("plus",Q2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],W2=xn("save",Z2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],$2=xn("scan-line",J2);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],tm=xn("search",em);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jd=xn("square-check-big",nm);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],im=xn("square",rm);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],sm=xn("sun",am);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],wf=xn("trash-2",om);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],cm=xn("triangle-alert",lm);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],fm=xn("upload",um);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Ud=xn("wifi",hm);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ol=xn("x",dm);function kf({text:p,className:f}){if(!p)return null;const h=p.replace(/^### (.*$)/gim,'<h3 class="text-xl font-bold my-2">$1</h3>').replace(/^## (.*$)/gim,'<h2 class="text-2xl font-bold my-3">$1</h2>').replace(/^# (.*$)/gim,'<h1 class="text-3xl font-bold my-4">$1</h1>').replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/\n/g,"<br />");return H.jsx("div",{className:f,dangerouslySetInnerHTML:{__html:h}})}function gm({project:p,onOpen:f,onDelete:h}){const{t:g}=Xi();return H.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-xl shadow-sm hover:shadow-xl transition-shadow duration-300 ease-in-out overflow-hidden flex flex-col border border-slate-200 dark:border-slate-700",children:[H.jsxs("div",{className:"p-5 flex-grow flex flex-col",children:[H.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white truncate mb-2",children:p.name}),H.jsx(kf,{text:p.description,className:"text-sm text-slate-600 dark:text-slate-400 flex-grow min-h-[40px] mb-3 line-clamp-2"}),H.jsx("div",{className:"flex flex-wrap gap-1.5 min-h-[24px] mb-4",children:(p.keywords||[]).slice(0,3).map(y=>H.jsx("span",{className:"bg-slate-200 text-slate-700 text-xs font-semibold px-2 py-1 rounded-full dark:bg-slate-700 dark:text-slate-300",children:y},y))}),H.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 mt-auto pt-3 flex justify-around text-sm text-slate-500 dark:text-slate-400",children:[H.jsxs("div",{className:"flex items-center gap-1.5",title:g("tasks"),children:[H.jsx(jd,{size:16}),H.jsxs("span",{children:[(p.tasks||[]).filter(y=>y.completed).length,"/",(p.tasks||[]).length]})]}),H.jsxs("div",{className:"flex items-center gap-1.5",title:g("notes"),children:[H.jsx(L2,{size:16}),H.jsx("span",{children:(p.notes||[]).length})]})]})]}),H.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-3 flex justify-between items-center border-t border-slate-200 dark:border-slate-700",children:[H.jsxs("button",{onClick:()=>f(p.id),className:"text-sm font-semibold text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1.5",children:[H.jsx(_2,{size:16}),g("openProject")]}),H.jsx("button",{onClick:()=>h(p.id),className:"p-2 rounded-full text-slate-400 hover:bg-red-100 hover:text-red-600 dark:hover:bg-red-900/50 dark:hover:text-red-400 transition-colors",children:H.jsx(wf,{size:18})})]})]})}function pm({projects:p,onOpenProject:f}){const{t:h}=Xi(),g=new Date;g.setHours(0,0,0,0);const y=new Date(g);y.setDate(g.getDate()+7);const v=p.flatMap(T=>(T.tasks||[]).map(N=>({...N,projectName:T.name,projectId:T.id}))).filter(T=>{if(!T.dueDate||T.completed)return!1;const N=new Date(T.dueDate+"T00:00:00");return N>=g&&N<=y}).sort((T,N)=>new Date(T.dueDate)-new Date(N.dueDate)),w=T=>{const E=new Date(T+"T00:00:00").getTime()-g.getTime(),I=Math.ceil(E/(1e3*60*60*24));return I===0?h("today"):I===1?h("tomorrow"):h("inXDays",{days:I})};return H.jsxs("section",{className:"bg-white dark:bg-slate-800/50 p-6 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700",children:[H.jsx("h3",{className:"text-xl font-semibold mb-4 text-slate-700 dark:text-white",children:h("upcomingTasks")}),v.length>0?H.jsx("ul",{className:"space-y-4",children:v.map(T=>H.jsxs("li",{className:"border-l-4 border-blue-500 pl-4 py-2 bg-slate-100 dark:bg-slate-700/50 rounded-r-lg",children:[H.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100",children:T.text}),H.jsxs("div",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1 flex justify-between items-center",children:[H.jsx("button",{onClick:()=>f(T.projectId),className:"hover:underline font-medium text-blue-600 dark:text-blue-400 truncate pr-2",children:T.projectName}),H.jsxs("span",{className:"font-bold text-blue-600 dark:text-blue-400 flex items-center gap-1.5 flex-shrink-0",children:[H.jsx(Pd,{size:14}),w(T.dueDate)]})]})]},T.id))}):H.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center py-4",children:h("noUpcomingTasks")})]})}function mm({theme:p,setTheme:f}){const[h,g]=ft.useState(!1),y=ft.useRef(null),v=[{value:"light",label:"Claro",icon:sm},{value:"dark",label:"Oscuro",icon:X2},{value:"system",label:"Sistema",icon:V2}],w=v.find(T=>T.value===p);return ft.useEffect(()=>{function T(N){y.current&&!y.current.contains(N.target)&&g(!1)}return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[y]),H.jsxs("div",{className:"relative",ref:y,children:[H.jsxs("button",{onClick:()=>g(!h),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",children:[w&&H.jsx(w.icon,{size:18}),H.jsx("span",{className:"hidden sm:inline",children:w?.label})]}),h&&H.jsx("div",{className:"absolute top-full right-0 mt-2 w-36 bg-white dark:bg-slate-800 rounded-lg shadow-lg border border-slate-200 dark:border-slate-700 z-10",children:v.map(T=>H.jsxs("button",{onClick:()=>{f(T.value),g(!1)},className:"w-full flex items-center gap-3 px-4 py-2 text-left text-sm text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700",children:[H.jsx(T.icon,{size:16}),T.label]},T.value))})]})}function xm(){const{locale:p,setLocale:f}=Xi(),h=[{code:"ca",name:"Català"},{code:"en",name:"English"},{code:"es",name:"Español"},{code:"eu",name:"Euskara"},{code:"gl",name:"Galego"}];return H.jsx("select",{value:p,onChange:g=>f(g.target.value),className:"bg-slate-200 dark:bg-slate-700 text-slate-800 dark:text-white p-2 rounded-lg font-semibold hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors appearance-none cursor-pointer text-sm",title:"Seleccionar idioma",children:h.map(g=>H.jsx("option",{value:g.code,children:g.name},g.code))})}function ym({projects:p,onAddProject:f,onOpenProject:h,onDeleteProject:g,isLoading:y,onOpenHelp:v,theme:w,setTheme:T,onOpenFile:N,onSaveFile:E,onOpenSync:I}){const{t:D}=Xi(),[X,te]=ft.useState(""),[ce,ue]=ft.useState(""),[Le,je]=ft.useState(D("allKeywords")),Pe=()=>{X.trim()&&(f(X),te(""))},Oe=ft.useMemo(()=>{const Me=new Set([D("allKeywords")]);return(p||[]).forEach(Ve=>{(Ve.keywords||[]).forEach(fe=>Me.add(fe))}),Array.from(Me)},[p,D]);ft.useEffect(()=>{je(D("allKeywords"))},[D]);const Ge=ft.useMemo(()=>(p||[]).filter(Me=>{const Ve=Le===D("allKeywords")||(Me.keywords||[]).includes(Le),fe=ce.toLowerCase(),Je=ce===""||Me.name.toLowerCase().includes(fe)||(Me.description||"").toLowerCase().includes(fe);return Ve&&Je}),[p,ce,Le,D]);return H.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[H.jsxs("div",{className:"lg:col-span-2",children:[H.jsx("header",{className:"mb-8",children:H.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-start gap-4",children:[H.jsxs("div",{className:"flex-grow",children:[H.jsx("h1",{className:"text-4xl font-extrabold text-slate-900 dark:text-white",children:D("dashboardTitle")}),H.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:D("dashboardSubtitle")})]}),H.jsxs("div",{className:"flex-shrink-0 flex items-center flex-wrap gap-2",children:[H.jsx(xm,{}),H.jsx(mm,{theme:w,setTheme:T}),H.jsxs("button",{onClick:I,title:D("syncDevices"),className:"bg-green-600 text-white p-2 rounded-lg font-semibold flex items-center gap-2 hover:bg-green-700 transition-colors",children:[H.jsx(Ud,{size:18})," ",H.jsx("span",{className:"hidden sm:inline",children:D("syncDevices")})]}),H.jsxs("button",{onClick:N,title:D("openFile"),className:"bg-slate-200 dark:bg-slate-700 text-slate-800 dark:text-white p-2 rounded-lg font-semibold flex items-center gap-2 hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",children:[H.jsx(j2,{size:18})," ",H.jsx("span",{className:"hidden sm:inline",children:D("openFile")})]}),H.jsxs("button",{onClick:E,title:D("saveFile"),className:"bg-blue-600 text-white p-2 rounded-lg font-semibold flex items-center gap-2 hover:bg-blue-700 transition-colors",children:[H.jsx(W2,{size:18})," ",H.jsx("span",{className:"hidden sm:inline",children:D("saveFile")})]}),H.jsx("button",{onClick:v,title:D("help"),className:"bg-slate-200 dark:bg-slate-700 text-slate-800 dark:text-white p-2 rounded-lg font-semibold flex items-center gap-2 hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",children:H.jsx(M2,{size:18})})]})]})}),H.jsxs("div",{className:"mb-8 p-6 bg-white dark:bg-slate-800/50 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 space-y-6",children:[H.jsxs("div",{children:[H.jsx("h2",{className:"text-2xl font-bold mb-4 text-slate-800 dark:text-white",children:D("addProject")}),H.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[H.jsx("input",{type:"text",value:X,onChange:Me=>te(Me.target.value),onKeyPress:Me=>Me.key==="Enter"&&Pe(),placeholder:D("newProjectPlaceholder"),className:"flex-grow w-full p-3 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 focus:ring-2 focus:ring-blue-500 focus:outline-none transition-shadow"}),H.jsxs("button",{onClick:Pe,disabled:!X.trim(),className:"w-full sm:w-auto bg-blue-600 text-white font-semibold px-6 py-3 rounded-lg hover:bg-blue-700 transition-all duration-300 shadow-md hover:shadow-lg disabled:bg-blue-400 disabled:cursor-not-allowed disabled:shadow-none flex items-center justify-center gap-2",children:[H.jsx(Sf,{}),D("addProject")]})]})]}),H.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-6",children:[H.jsx("h2",{className:"text-2xl font-bold mb-4 text-slate-800 dark:text-white",children:D("searchAndFilter")}),H.jsxs("div",{className:"relative mb-4",children:[H.jsx(tm,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),H.jsx("input",{type:"text",value:ce,onChange:Me=>ue(Me.target.value),placeholder:D("searchPlaceholder"),className:"w-full p-3 pl-10 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 focus:ring-2 focus:ring-blue-500 focus:outline-none transition-shadow"})]}),H.jsx("div",{className:"flex flex-wrap gap-2",children:Oe.map(Me=>H.jsx("button",{onClick:()=>je(Me),className:`px-3 py-1 text-sm font-medium rounded-full transition-colors ${Le===Me?"bg-blue-600 text-white":"bg-slate-200 text-slate-700 hover:bg-slate-300 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600"}`,children:Me},Me))})]})]}),y?H.jsx("div",{className:"text-center py-10",children:H.jsx("p",{className:"text-lg text-slate-500",children:"Cargando base de datos local..."})}):H.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 xl:grid-cols-2 gap-6",children:Ge.map(Me=>H.jsx(gm,{project:Me,onOpen:h,onDelete:g},Me.id))}),!y&&Ge.length===0&&H.jsxs("div",{className:"text-center py-16 px-6 bg-white dark:bg-slate-800/50 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[H.jsx("h3",{className:"text-2xl font-semibold text-slate-800 dark:text-white",children:D("noProjectsFoundTitle")}),H.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:D("noProjectsFoundSubtitle")})]})]}),H.jsx("div",{className:"lg:col-span-1",children:H.jsx("div",{className:"sticky top-8",children:H.jsx(pm,{projects:p||[],onOpenProject:h})})})]})}function bm({project:p,onUpdateProject:f,onBack:h,onViewNote:g}){const{t:y}=Xi(),[v,w]=ft.useState(!1),[T,N]=ft.useState(p.name),[E,I]=ft.useState(""),[D,X]=ft.useState(""),[te,ce]=ft.useState(""),[ue,Le]=ft.useState(""),[je,Pe]=ft.useState(p.description||""),[Oe,Ge]=ft.useState(p.keywords||[]),[Me,Ve]=ft.useState("");ft.useEffect(()=>{N(p.name)},[p.name]);const fe=()=>{T.trim()&&T.trim()!==p.name&&f(p.id,{name:T.trim()}),w(!1)},Je=()=>{w(!1),N(p.name)},be=()=>{je!==p.description&&f(p.id,{description:je})},Nn=()=>{const Q=Me.trim();if(Q&&!Oe.includes(Q)){const Ee=[...Oe,Q];Ge(Ee),f(p.id,{keywords:Ee}),Ve("")}},Pt=Q=>{const Ee=Oe.filter(Ke=>Ke!==Q);Ge(Ee),f(p.id,{keywords:Ee})},De=()=>{if(E.trim()==="")return;const Q={id:crypto.randomUUID(),text:E.trim(),completed:!1,dueDate:D||null};f(p.id,{tasks:[...p.tasks||[],Q]}),I(""),X("")},tt=Q=>{const Ee=p.tasks.map(Ke=>Ke.id===Q?{...Ke,completed:!Ke.completed}:Ke);f(p.id,{tasks:Ee})},It=Q=>{const Ee=p.tasks.filter(Ke=>Ke.id!==Q);f(p.id,{tasks:Ee})},re=()=>{if(te.trim()==="")return;const Q={id:crypto.randomUUID(),title:te.trim(),text:ue.trim()};f(p.id,{notes:[...p.notes||[],Q]}),ce(""),Le("")},ie=Q=>{const Ee=p.notes.filter(Ke=>Ke.id!==Q);f(p.id,{notes:Ee})};return H.jsxs("div",{className:"animate-fade-in",children:[H.jsxs("header",{className:"mb-8",children:[H.jsxs("button",{onClick:h,className:"flex items-center gap-2 text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white mb-4 transition-colors",children:[H.jsx(w2,{size:20}),y("backToDashboard")]}),H.jsx("div",{className:"flex items-center gap-4",children:v?H.jsxs(H.Fragment,{children:[H.jsx("input",{type:"text",value:T,onChange:Q=>N(Q.target.value),onKeyPress:Q=>Q.key==="Enter"&&fe(),className:"text-4xl font-extrabold text-slate-900 dark:text-white bg-transparent border-b-2 border-blue-500 focus:outline-none w-full",autoFocus:!0}),H.jsx("button",{onClick:fe,className:"p-2 text-green-500 hover:bg-green-100 rounded-full transition-colors",children:H.jsx(O2,{size:24})}),H.jsx("button",{onClick:Je,className:"p-2 text-red-500 hover:bg-red-100 rounded-full transition-colors",children:H.jsx(ol,{size:24})})]}):H.jsxs(H.Fragment,{children:[H.jsx("h1",{className:"text-4xl font-extrabold text-slate-900 dark:text-white mr-2",children:p.name}),H.jsx("button",{onClick:()=>w(!0),className:"p-2 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-full transition-colors",children:H.jsx(K2,{size:20})})]})})]}),H.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[H.jsxs("div",{className:"flex flex-col gap-8",children:[H.jsxs("section",{className:"bg-white dark:bg-slate-800/50 p-6 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700",children:[H.jsx("h3",{className:"text-xl font-semibold mb-4 text-slate-700 dark:text-white",children:y("details")}),H.jsxs("div",{className:"space-y-4",children:[H.jsxs("div",{children:[H.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:y("description")}),H.jsx("textarea",{id:"description",value:je,onChange:Q=>Pe(Q.target.value),onBlur:be,placeholder:y("descriptionPlaceholder"),className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 focus:ring-2 focus:ring-blue-500 focus:outline-none",rows:"4"}),H.jsx("p",{className:"text-xs text-slate-500 mt-1",children:y("formattingHelp")})]}),H.jsxs("div",{children:[H.jsx("label",{htmlFor:"keywords",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:y("keywords")}),H.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:Oe.map(Q=>H.jsxs("span",{className:"flex items-center bg-blue-100 text-blue-800 text-sm font-medium px-2.5 py-1 rounded-full dark:bg-blue-900 dark:text-blue-300",children:[Q,H.jsx("button",{onClick:()=>Pt(Q),className:"ml-1.5 p-0.5 rounded-full hover:bg-blue-200 dark:hover:bg-blue-800",children:H.jsx(ol,{size:12})})]},Q))}),H.jsx("div",{className:"flex gap-2",children:H.jsx("input",{id:"keywords",type:"text",value:Me,onChange:Q=>Ve(Q.target.value),onKeyPress:Q=>Q.key==="Enter"&&Nn(),placeholder:y("keywordsPlaceholder"),className:"flex-grow p-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 focus:ring-2 focus:ring-blue-500 focus:outline-none"})})]})]})]}),H.jsxs("section",{className:"bg-white dark:bg-slate-800/50 p-6 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700",children:[H.jsx("h3",{className:"text-xl font-semibold mb-4 text-slate-700 dark:text-white",children:y("notes")}),H.jsx("div",{className:"space-y-3 mb-4 max-h-60 overflow-y-auto pr-2",children:(p.notes||[]).map(Q=>H.jsxs("div",{className:"flex items-start justify-between bg-yellow-50 dark:bg-slate-700/80 p-3 rounded-lg cursor-pointer hover:shadow-md transition-shadow",onClick:()=>g(Q),children:[H.jsxs("div",{className:"flex-grow mr-4",children:[H.jsx("h4",{className:"font-bold text-slate-800 dark:text-white truncate",children:Q.title}),H.jsx(kf,{text:Q.text,className:"text-sm text-slate-700 dark:text-slate-300 whitespace-pre-wrap line-clamp-2"})]}),H.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),ie(Q.id)},className:"p-1 text-slate-400 hover:text-red-500 dark:hover:text-red-400 transition-colors flex-shrink-0",children:H.jsx(wf,{size:18})})]},Q.id))}),H.jsxs("div",{className:"flex flex-col gap-2 border-t pt-4 border-slate-200 dark:border-slate-700",children:[H.jsx("input",{type:"text",value:te,onChange:Q=>ce(Q.target.value),placeholder:y("newNoteTitlePlaceholder"),className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 focus:ring-2 focus:ring-yellow-500 focus:outline-none"}),H.jsx("textarea",{value:ue,onChange:Q=>Le(Q.target.value),placeholder:y("newNoteContentPlaceholder"),className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 focus:ring-2 focus:ring-yellow-500 focus:outline-none",rows:"3"}),H.jsx("p",{className:"text-xs text-slate-500 -mt-1 mb-1",children:y("formattingHelp")}),H.jsxs("button",{onClick:re,disabled:!te.trim(),className:"bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors font-semibold flex items-center justify-center gap-2 self-end disabled:bg-yellow-300 disabled:cursor-not-allowed",children:[H.jsx(Sf,{size:18})," ",y("addNote")]})]})]})]}),H.jsxs("section",{className:"bg-white dark:bg-slate-800/50 p-6 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700",children:[H.jsx("h3",{className:"text-xl font-semibold mb-4 text-slate-700 dark:text-white",children:y("tasks")}),H.jsx("div",{className:"space-y-3 mb-4 max-h-[400px] overflow-y-auto pr-2",children:(p.tasks||[]).sort((Q,Ee)=>Q.completed-Ee.completed).map(Q=>H.jsxs("div",{className:"flex items-center bg-slate-100 dark:bg-slate-700 p-3 rounded-lg transition-all hover:shadow-md",children:[H.jsx("button",{onClick:()=>tt(Q.id),className:"mr-3",children:Q.completed?H.jsx(jd,{className:"text-green-500"}):H.jsx(im,{className:"text-slate-400"})}),H.jsx("span",{className:`flex-grow ${Q.completed?"line-through text-slate-500 dark:text-slate-400":"text-slate-800 dark:text-slate-100"}`,children:Q.text}),Q.dueDate&&H.jsxs("div",{className:"flex items-center text-sm text-slate-500 dark:text-slate-400 ml-4",children:[H.jsx(Pd,{size:16,className:"mr-1.5"}),H.jsx("span",{children:Q.dueDate})]}),H.jsx("button",{onClick:()=>It(Q.id),className:"ml-4 p-1 text-slate-400 hover:text-red-500 dark:hover:text-red-400 transition-colors",children:H.jsx(wf,{size:18})})]},Q.id))}),H.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[H.jsx("input",{type:"text",value:E,onChange:Q=>I(Q.target.value),placeholder:y("newTaskPlaceholder"),className:"flex-grow p-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 focus:ring-2 focus:ring-blue-500 focus:outline-none"}),H.jsx("input",{type:"date",value:D,onChange:Q=>X(Q.target.value),className:"p-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 focus:ring-2 focus:ring-blue-500 focus:outline-none"}),H.jsxs("button",{onClick:De,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center justify-center gap-2",children:[H.jsx(Sf,{size:18})," ",y("addTask")]})]})]})]})]})}function K1({title:p,message:f,onConfirm:h,onCancel:g}){const{t:y}=Xi();return H.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex justify-center items-center p-4 animate-fade-in",children:H.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-sm p-6 text-center",children:[H.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900/50 mb-4",children:H.jsx(cm,{className:"h-6 w-6 text-red-600 dark:text-red-400","aria-hidden":"true"})}),H.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:p}),H.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6",children:f}),H.jsxs("div",{className:"flex justify-center gap-4",children:[H.jsx("button",{onClick:g,className:"px-6 py-2 rounded-lg bg-slate-200 dark:bg-slate-700 text-slate-800 dark:text-slate-200 hover:bg-slate-300 dark:hover:bg-slate-600 font-semibold transition-colors",children:y("cancel")}),H.jsx("button",{onClick:h,className:"px-6 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 font-semibold transition-colors",children:y("confirm")})]})]})})}function vm({note:p,onClose:f}){const{t:h}=Xi();return H.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex justify-center items-center p-4 animate-fade-in",children:H.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col",onClick:g=>g.stopPropagation(),children:[H.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-700",children:[H.jsx("h3",{className:"text-xl font-semibold text-slate-800 dark:text-white truncate",children:p.title||h("note")}),H.jsx("button",{onClick:f,className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:H.jsx(ol,{className:"text-slate-600 dark:text-slate-300"})})]}),H.jsx("div",{className:"p-6 overflow-y-auto",children:H.jsx(kf,{text:p.text,className:"prose dark:prose-invert max-w-none"})})]})})}function Cm({onClose:p}){const{t:f}=Xi();return H.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex justify-center items-center p-4 animate-fade-in",children:H.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",onClick:h=>h.stopPropagation(),children:[H.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-700",children:[H.jsx("h3",{className:"text-xl font-semibold text-slate-800 dark:text-white",children:f("helpTitle")}),H.jsx("button",{onClick:p,className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:H.jsx(ol,{className:"text-slate-600 dark:text-slate-300"})})]}),H.jsxs("div",{className:"p-6 overflow-y-auto text-slate-700 dark:text-slate-300 space-y-6",children:[H.jsxs("section",{children:[H.jsxs("h4",{className:"font-bold text-lg text-slate-900 dark:text-white mb-2 flex items-center gap-2",children:[H.jsx(H2,{size:20})," ",f("helpIntro")]}),H.jsx("p",{children:f("helpIntroText")})]}),H.jsxs("section",{children:[H.jsx("h4",{className:"font-bold text-lg text-red-600 dark:text-red-400 mb-2",children:f("helpStorageTitle")}),H.jsx("p",{className:"bg-red-50 dark:bg-red-900/30 border-l-4 border-red-500 p-4 rounded-r-lg",children:f("helpStorageText")})]}),H.jsxs("section",{children:[H.jsxs("h4",{className:"font-bold text-lg text-blue-600 dark:text-blue-400 mb-2 flex items-center gap-2",children:[H.jsx(k2,{size:20})," ",f("helpBackupTitle")]}),H.jsx("p",{children:f("helpBackupText")})]}),H.jsxs("section",{children:[H.jsxs("h4",{className:"font-bold text-lg text-green-600 dark:text-green-400 mb-2 flex items-center gap-2",children:[H.jsx(fm,{size:20})," ",f("helpRestoreTitle")]}),H.jsx("p",{children:f("helpRestoreText")})]})]})]})})}function Em(){const{t:p}=Xi();return H.jsxs("footer",{className:"text-center py-6 px-4 text-sm text-slate-500 dark:text-slate-400",children:[H.jsx("p",{children:p("footerText")}),H.jsxs("div",{className:"flex justify-center items-center flex-wrap gap-x-4 gap-y-2 mt-2",children:[H.jsx("a",{href:"http://creativecommons.org/licenses/by/4.0/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-500",children:p("footerLicense")}),H.jsx("span",{className:"hidden sm:inline text-slate-300 dark:text-slate-600",children:"|"}),H.jsxs("a",{href:"https://github.com/PabloGGuizar/gestor-proyectos",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 underline hover:text-blue-500",children:[H.jsx(z2,{size:16}),p("githubRepo")]})]})]})}class Am{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(f){this.flush(),this._parts.push(f)}append(f){this._pieces.push(f)}flush(){if(this._pieces.length>0){const f=new Uint8Array(this._pieces);this._parts.push(f),this._pieces=[]}}toArrayBuffer(){const f=[];for(const h of this._parts)f.push(h);return Sm(f).buffer}}function Sm(p){let f=0;for(const y of p)f+=y.byteLength;const h=new Uint8Array(f);let g=0;for(const y of p){const v=new Uint8Array(y.buffer,y.byteOffset,y.byteLength);h.set(v,g),g+=y.byteLength}return h}function zd(p){return new wm(p).unpack()}function Fd(p){const f=new Tm,h=f.pack(p);return h instanceof Promise?h.then(()=>f.getBuffer()):f.getBuffer()}class wm{constructor(f){this.index=0,this.dataBuffer=f,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const f=this.unpack_uint8();if(f<128)return f;if((f^224)<32)return(f^224)-32;let h;if((h=f^160)<=15)return this.unpack_raw(h);if((h=f^176)<=15)return this.unpack_string(h);if((h=f^144)<=15)return this.unpack_array(h);if((h=f^128)<=15)return this.unpack_map(h);switch(f){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return h=this.unpack_uint16(),this.unpack_string(h);case 217:return h=this.unpack_uint32(),this.unpack_string(h);case 218:return h=this.unpack_uint16(),this.unpack_raw(h);case 219:return h=this.unpack_uint32(),this.unpack_raw(h);case 220:return h=this.unpack_uint16(),this.unpack_array(h);case 221:return h=this.unpack_uint32(),this.unpack_array(h);case 222:return h=this.unpack_uint16(),this.unpack_map(h);case 223:return h=this.unpack_uint32(),this.unpack_map(h)}}unpack_uint8(){const f=this.dataView[this.index]&255;return this.index++,f}unpack_uint16(){const f=this.read(2),h=(f[0]&255)*256+(f[1]&255);return this.index+=2,h}unpack_uint32(){const f=this.read(4),h=((f[0]*256+f[1])*256+f[2])*256+f[3];return this.index+=4,h}unpack_uint64(){const f=this.read(8),h=((((((f[0]*256+f[1])*256+f[2])*256+f[3])*256+f[4])*256+f[5])*256+f[6])*256+f[7];return this.index+=8,h}unpack_int8(){const f=this.unpack_uint8();return f<128?f:f-256}unpack_int16(){const f=this.unpack_uint16();return f<32768?f:f-65536}unpack_int32(){const f=this.unpack_uint32();return f<2**31?f:f-2**32}unpack_int64(){const f=this.unpack_uint64();return f<2**63?f:f-2**64}unpack_raw(f){if(this.length<this.index+f)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${f} ${this.length}`);const h=this.dataBuffer.slice(this.index,this.index+f);return this.index+=f,h}unpack_string(f){const h=this.read(f);let g=0,y="",v,w;for(;g<f;)v=h[g],v<160?(w=v,g++):(v^192)<32?(w=(v&31)<<6|h[g+1]&63,g+=2):(v^224)<16?(w=(v&15)<<12|(h[g+1]&63)<<6|h[g+2]&63,g+=3):(w=(v&7)<<18|(h[g+1]&63)<<12|(h[g+2]&63)<<6|h[g+3]&63,g+=4),y+=String.fromCodePoint(w);return this.index+=f,y}unpack_array(f){const h=new Array(f);for(let g=0;g<f;g++)h[g]=this.unpack();return h}unpack_map(f){const h={};for(let g=0;g<f;g++){const y=this.unpack();h[y]=this.unpack()}return h}unpack_float(){const f=this.unpack_uint32(),h=f>>31,g=(f>>23&255)-127,y=f&8388607|8388608;return(h===0?1:-1)*y*2**(g-23)}unpack_double(){const f=this.unpack_uint32(),h=this.unpack_uint32(),g=f>>31,y=(f>>20&2047)-1023,w=(f&1048575|1048576)*2**(y-20)+h*2**(y-52);return(g===0?1:-1)*w}read(f){const h=this.index;if(h+f<=this.length)return this.dataView.subarray(h,h+f);throw new Error("BinaryPackFailure: read index out of range")}}class Tm{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(f){if(typeof f=="string")this.pack_string(f);else if(typeof f=="number")Math.floor(f)===f?this.pack_integer(f):this.pack_double(f);else if(typeof f=="boolean")f===!0?this._bufferBuilder.append(195):f===!1&&this._bufferBuilder.append(194);else if(f===void 0)this._bufferBuilder.append(192);else if(typeof f=="object")if(f===null)this._bufferBuilder.append(192);else{const h=f.constructor;if(f instanceof Array){const g=this.pack_array(f);if(g instanceof Promise)return g.then(()=>this._bufferBuilder.flush())}else if(f instanceof ArrayBuffer)this.pack_bin(new Uint8Array(f));else if("BYTES_PER_ELEMENT"in f){const g=f;this.pack_bin(new Uint8Array(g.buffer,g.byteOffset,g.byteLength))}else if(f instanceof Date)this.pack_string(f.toString());else{if(f instanceof Blob)return f.arrayBuffer().then(g=>{this.pack_bin(new Uint8Array(g)),this._bufferBuilder.flush()});if(h==Object||h.toString().startsWith("class")){const g=this.pack_object(f);if(g instanceof Promise)return g.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${h.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof f}" not yet supported`);this._bufferBuilder.flush()}pack_bin(f){const h=f.length;if(h<=15)this.pack_uint8(160+h);else if(h<=65535)this._bufferBuilder.append(218),this.pack_uint16(h);else if(h<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(h);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(f)}pack_string(f){const h=this._textEncoder.encode(f),g=h.length;if(g<=15)this.pack_uint8(176+g);else if(g<=65535)this._bufferBuilder.append(216),this.pack_uint16(g);else if(g<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(g);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(h)}pack_array(f){const h=f.length;if(h<=15)this.pack_uint8(144+h);else if(h<=65535)this._bufferBuilder.append(220),this.pack_uint16(h);else if(h<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(h);else throw new Error("Invalid length");const g=y=>{if(y<h){const v=this.pack(f[y]);return v instanceof Promise?v.then(()=>g(y+1)):g(y+1)}};return g(0)}pack_integer(f){if(f>=-32&&f<=127)this._bufferBuilder.append(f&255);else if(f>=0&&f<=255)this._bufferBuilder.append(204),this.pack_uint8(f);else if(f>=-128&&f<=127)this._bufferBuilder.append(208),this.pack_int8(f);else if(f>=0&&f<=65535)this._bufferBuilder.append(205),this.pack_uint16(f);else if(f>=-32768&&f<=32767)this._bufferBuilder.append(209),this.pack_int16(f);else if(f>=0&&f<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(f);else if(f>=-2147483648&&f<=2147483647)this._bufferBuilder.append(210),this.pack_int32(f);else if(f>=-9223372036854776e3&&f<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(f);else if(f>=0&&f<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(f);else throw new Error("Invalid integer")}pack_double(f){let h=0;f<0&&(h=1,f=-f);const g=Math.floor(Math.log(f)/Math.LN2),y=f/2**g-1,v=Math.floor(y*2**52),w=2**32,T=h<<31|g+1023<<20|v/w&1048575,N=v%w;this._bufferBuilder.append(203),this.pack_int32(T),this.pack_int32(N)}pack_object(f){const h=Object.keys(f),g=h.length;if(g<=15)this.pack_uint8(128+g);else if(g<=65535)this._bufferBuilder.append(222),this.pack_uint16(g);else if(g<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(g);else throw new Error("Invalid length");const y=v=>{if(v<h.length){const w=h[v];if(f.hasOwnProperty(w)){this.pack(w);const T=this.pack(f[w]);if(T instanceof Promise)return T.then(()=>y(v+1))}return y(v+1)}};return y(0)}pack_uint8(f){this._bufferBuilder.append(f)}pack_uint16(f){this._bufferBuilder.append(f>>8),this._bufferBuilder.append(f&255)}pack_uint32(f){const h=f&4294967295;this._bufferBuilder.append((h&4278190080)>>>24),this._bufferBuilder.append((h&16711680)>>>16),this._bufferBuilder.append((h&65280)>>>8),this._bufferBuilder.append(h&255)}pack_uint64(f){const h=f/4294967296,g=f%2**32;this._bufferBuilder.append((h&4278190080)>>>24),this._bufferBuilder.append((h&16711680)>>>16),this._bufferBuilder.append((h&65280)>>>8),this._bufferBuilder.append(h&255),this._bufferBuilder.append((g&4278190080)>>>24),this._bufferBuilder.append((g&16711680)>>>16),this._bufferBuilder.append((g&65280)>>>8),this._bufferBuilder.append(g&255)}pack_int8(f){this._bufferBuilder.append(f&255)}pack_int16(f){this._bufferBuilder.append((f&65280)>>8),this._bufferBuilder.append(f&255)}pack_int32(f){this._bufferBuilder.append(f>>>24&255),this._bufferBuilder.append((f&16711680)>>>16),this._bufferBuilder.append((f&65280)>>>8),this._bufferBuilder.append(f&255)}pack_int64(f){const h=Math.floor(f/4294967296),g=f%2**32;this._bufferBuilder.append((h&4278190080)>>>24),this._bufferBuilder.append((h&16711680)>>>16),this._bufferBuilder.append((h&65280)>>>8),this._bufferBuilder.append(h&255),this._bufferBuilder.append((g&4278190080)>>>24),this._bufferBuilder.append((g&16711680)>>>16),this._bufferBuilder.append((g&65280)>>>8),this._bufferBuilder.append(g&255)}constructor(){this._bufferBuilder=new Am,this._textEncoder=new TextEncoder}}let Hd=!0,Gd=!0;function al(p,f,h){const g=p.match(f);return g&&g.length>=h&&parseFloat(g[h],10)}function Bs(p,f,h){if(!p.RTCPeerConnection)return;const g=p.RTCPeerConnection.prototype,y=g.addEventListener;g.addEventListener=function(w,T){if(w!==f)return y.apply(this,arguments);const N=E=>{const I=h(E);I&&(T.handleEvent?T.handleEvent(I):T(I))};return this._eventMap=this._eventMap||{},this._eventMap[f]||(this._eventMap[f]=new Map),this._eventMap[f].set(T,N),y.apply(this,[w,N])};const v=g.removeEventListener;g.removeEventListener=function(w,T){if(w!==f||!this._eventMap||!this._eventMap[f])return v.apply(this,arguments);if(!this._eventMap[f].has(T))return v.apply(this,arguments);const N=this._eventMap[f].get(T);return this._eventMap[f].delete(T),this._eventMap[f].size===0&&delete this._eventMap[f],Object.keys(this._eventMap).length===0&&delete this._eventMap,v.apply(this,[w,N])},Object.defineProperty(g,"on"+f,{get(){return this["_on"+f]},set(w){this["_on"+f]&&(this.removeEventListener(f,this["_on"+f]),delete this["_on"+f]),w&&this.addEventListener(f,this["_on"+f]=w)},enumerable:!0,configurable:!0})}function _m(p){return typeof p!="boolean"?new Error("Argument type: "+typeof p+". Please use a boolean."):(Hd=p,p?"adapter.js logging disabled":"adapter.js logging enabled")}function Nm(p){return typeof p!="boolean"?new Error("Argument type: "+typeof p+". Please use a boolean."):(Gd=!p,"adapter.js deprecation warnings "+(p?"disabled":"enabled"))}function Vd(){if(typeof window=="object"){if(Hd)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Bf(p,f){Gd&&console.warn(p+" is deprecated, please use "+f+" instead.")}function Rm(p){const f={browser:null,version:null};if(typeof p>"u"||!p.navigator||!p.navigator.userAgent)return f.browser="Not a browser.",f;const{navigator:h}=p;if(h.userAgentData&&h.userAgentData.brands){const g=h.userAgentData.brands.find(y=>y.brand==="Chromium");if(g)return{browser:"chrome",version:parseInt(g.version,10)}}if(h.mozGetUserMedia)f.browser="firefox",f.version=parseInt(al(h.userAgent,/Firefox\/(\d+)\./,1));else if(h.webkitGetUserMedia||p.isSecureContext===!1&&p.webkitRTCPeerConnection)f.browser="chrome",f.version=parseInt(al(h.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(p.RTCPeerConnection&&h.userAgent.match(/AppleWebKit\/(\d+)\./))f.browser="safari",f.version=parseInt(al(h.userAgent,/AppleWebKit\/(\d+)\./,1)),f.supportsUnifiedPlan=p.RTCRtpTransceiver&&"currentDirection"in p.RTCRtpTransceiver.prototype,f._safariVersion=al(h.userAgent,/Version\/(\d+(\.?\d+))/,1);else return f.browser="Not a supported browser.",f;return f}function Q1(p){return Object.prototype.toString.call(p)==="[object Object]"}function Yd(p){return Q1(p)?Object.keys(p).reduce(function(f,h){const g=Q1(p[h]),y=g?Yd(p[h]):p[h],v=g&&!Object.keys(y).length;return y===void 0||v?f:Object.assign(f,{[h]:y})},{}):p}function Tf(p,f,h){!f||h.has(f.id)||(h.set(f.id,f),Object.keys(f).forEach(g=>{g.endsWith("Id")?Tf(p,p.get(f[g]),h):g.endsWith("Ids")&&f[g].forEach(y=>{Tf(p,p.get(y),h)})}))}function Z1(p,f,h){const g=h?"outbound-rtp":"inbound-rtp",y=new Map;if(f===null)return y;const v=[];return p.forEach(w=>{w.type==="track"&&w.trackIdentifier===f.id&&v.push(w)}),v.forEach(w=>{p.forEach(T=>{T.type===g&&T.trackId===w.id&&Tf(p,T,y)})}),y}const W1=Vd;function Xd(p,f){const h=p&&p.navigator;if(!h.mediaDevices)return;const g=function(T){if(typeof T!="object"||T.mandatory||T.optional)return T;const N={};return Object.keys(T).forEach(E=>{if(E==="require"||E==="advanced"||E==="mediaSource")return;const I=typeof T[E]=="object"?T[E]:{ideal:T[E]};I.exact!==void 0&&typeof I.exact=="number"&&(I.min=I.max=I.exact);const D=function(X,te){return X?X+te.charAt(0).toUpperCase()+te.slice(1):te==="deviceId"?"sourceId":te};if(I.ideal!==void 0){N.optional=N.optional||[];let X={};typeof I.ideal=="number"?(X[D("min",E)]=I.ideal,N.optional.push(X),X={},X[D("max",E)]=I.ideal,N.optional.push(X)):(X[D("",E)]=I.ideal,N.optional.push(X))}I.exact!==void 0&&typeof I.exact!="number"?(N.mandatory=N.mandatory||{},N.mandatory[D("",E)]=I.exact):["min","max"].forEach(X=>{I[X]!==void 0&&(N.mandatory=N.mandatory||{},N.mandatory[D(X,E)]=I[X])})}),T.advanced&&(N.optional=(N.optional||[]).concat(T.advanced)),N},y=function(T,N){if(f.version>=61)return N(T);if(T=JSON.parse(JSON.stringify(T)),T&&typeof T.audio=="object"){const E=function(I,D,X){D in I&&!(X in I)&&(I[X]=I[D],delete I[D])};T=JSON.parse(JSON.stringify(T)),E(T.audio,"autoGainControl","googAutoGainControl"),E(T.audio,"noiseSuppression","googNoiseSuppression"),T.audio=g(T.audio)}if(T&&typeof T.video=="object"){let E=T.video.facingMode;E=E&&(typeof E=="object"?E:{ideal:E});const I=f.version<66;if(E&&(E.exact==="user"||E.exact==="environment"||E.ideal==="user"||E.ideal==="environment")&&!(h.mediaDevices.getSupportedConstraints&&h.mediaDevices.getSupportedConstraints().facingMode&&!I)){delete T.video.facingMode;let D;if(E.exact==="environment"||E.ideal==="environment"?D=["back","rear"]:(E.exact==="user"||E.ideal==="user")&&(D=["front"]),D)return h.mediaDevices.enumerateDevices().then(X=>{X=X.filter(ce=>ce.kind==="videoinput");let te=X.find(ce=>D.some(ue=>ce.label.toLowerCase().includes(ue)));return!te&&X.length&&D.includes("back")&&(te=X[X.length-1]),te&&(T.video.deviceId=E.exact?{exact:te.deviceId}:{ideal:te.deviceId}),T.video=g(T.video),W1("chrome: "+JSON.stringify(T)),N(T)})}T.video=g(T.video)}return W1("chrome: "+JSON.stringify(T)),N(T)},v=function(T){return f.version>=64?T:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[T.name]||T.name,message:T.message,constraint:T.constraint||T.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},w=function(T,N,E){y(T,I=>{h.webkitGetUserMedia(I,N,D=>{E&&E(v(D))})})};if(h.getUserMedia=w.bind(h),h.mediaDevices.getUserMedia){const T=h.mediaDevices.getUserMedia.bind(h.mediaDevices);h.mediaDevices.getUserMedia=function(N){return y(N,E=>T(E).then(I=>{if(E.audio&&!I.getAudioTracks().length||E.video&&!I.getVideoTracks().length)throw I.getTracks().forEach(D=>{D.stop()}),new DOMException("","NotFoundError");return I},I=>Promise.reject(v(I))))}}}function qd(p){p.MediaStream=p.MediaStream||p.webkitMediaStream}function Kd(p){if(typeof p=="object"&&p.RTCPeerConnection&&!("ontrack"in p.RTCPeerConnection.prototype)){Object.defineProperty(p.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(h){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=h)},enumerable:!0,configurable:!0});const f=p.RTCPeerConnection.prototype.setRemoteDescription;p.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=g=>{g.stream.addEventListener("addtrack",y=>{let v;p.RTCPeerConnection.prototype.getReceivers?v=this.getReceivers().find(T=>T.track&&T.track.id===y.track.id):v={track:y.track};const w=new Event("track");w.track=y.track,w.receiver=v,w.transceiver={receiver:v},w.streams=[g.stream],this.dispatchEvent(w)}),g.stream.getTracks().forEach(y=>{let v;p.RTCPeerConnection.prototype.getReceivers?v=this.getReceivers().find(T=>T.track&&T.track.id===y.id):v={track:y};const w=new Event("track");w.track=y,w.receiver=v,w.transceiver={receiver:v},w.streams=[g.stream],this.dispatchEvent(w)})},this.addEventListener("addstream",this._ontrackpoly)),f.apply(this,arguments)}}else Bs(p,"track",f=>(f.transceiver||Object.defineProperty(f,"transceiver",{value:{receiver:f.receiver}}),f))}function Qd(p){if(typeof p=="object"&&p.RTCPeerConnection&&!("getSenders"in p.RTCPeerConnection.prototype)&&"createDTMFSender"in p.RTCPeerConnection.prototype){const f=function(y,v){return{track:v,get dtmf(){return this._dtmf===void 0&&(v.kind==="audio"?this._dtmf=y.createDTMFSender(v):this._dtmf=null),this._dtmf},_pc:y}};if(!p.RTCPeerConnection.prototype.getSenders){p.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const y=p.RTCPeerConnection.prototype.addTrack;p.RTCPeerConnection.prototype.addTrack=function(T,N){let E=y.apply(this,arguments);return E||(E=f(this,T),this._senders.push(E)),E};const v=p.RTCPeerConnection.prototype.removeTrack;p.RTCPeerConnection.prototype.removeTrack=function(T){v.apply(this,arguments);const N=this._senders.indexOf(T);N!==-1&&this._senders.splice(N,1)}}const h=p.RTCPeerConnection.prototype.addStream;p.RTCPeerConnection.prototype.addStream=function(v){this._senders=this._senders||[],h.apply(this,[v]),v.getTracks().forEach(w=>{this._senders.push(f(this,w))})};const g=p.RTCPeerConnection.prototype.removeStream;p.RTCPeerConnection.prototype.removeStream=function(v){this._senders=this._senders||[],g.apply(this,[v]),v.getTracks().forEach(w=>{const T=this._senders.find(N=>N.track===w);T&&this._senders.splice(this._senders.indexOf(T),1)})}}else if(typeof p=="object"&&p.RTCPeerConnection&&"getSenders"in p.RTCPeerConnection.prototype&&"createDTMFSender"in p.RTCPeerConnection.prototype&&p.RTCRtpSender&&!("dtmf"in p.RTCRtpSender.prototype)){const f=p.RTCPeerConnection.prototype.getSenders;p.RTCPeerConnection.prototype.getSenders=function(){const g=f.apply(this,[]);return g.forEach(y=>y._pc=this),g},Object.defineProperty(p.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Zd(p){if(!(typeof p=="object"&&p.RTCPeerConnection&&p.RTCRtpSender&&p.RTCRtpReceiver))return;if(!("getStats"in p.RTCRtpSender.prototype)){const h=p.RTCPeerConnection.prototype.getSenders;h&&(p.RTCPeerConnection.prototype.getSenders=function(){const v=h.apply(this,[]);return v.forEach(w=>w._pc=this),v});const g=p.RTCPeerConnection.prototype.addTrack;g&&(p.RTCPeerConnection.prototype.addTrack=function(){const v=g.apply(this,arguments);return v._pc=this,v}),p.RTCRtpSender.prototype.getStats=function(){const v=this;return this._pc.getStats().then(w=>Z1(w,v.track,!0))}}if(!("getStats"in p.RTCRtpReceiver.prototype)){const h=p.RTCPeerConnection.prototype.getReceivers;h&&(p.RTCPeerConnection.prototype.getReceivers=function(){const y=h.apply(this,[]);return y.forEach(v=>v._pc=this),y}),Bs(p,"track",g=>(g.receiver._pc=g.srcElement,g)),p.RTCRtpReceiver.prototype.getStats=function(){const y=this;return this._pc.getStats().then(v=>Z1(v,y.track,!1))}}if(!("getStats"in p.RTCRtpSender.prototype&&"getStats"in p.RTCRtpReceiver.prototype))return;const f=p.RTCPeerConnection.prototype.getStats;p.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof p.MediaStreamTrack){const g=arguments[0];let y,v,w;return this.getSenders().forEach(T=>{T.track===g&&(y?w=!0:y=T)}),this.getReceivers().forEach(T=>(T.track===g&&(v?w=!0:v=T),T.track===g)),w||y&&v?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):y?y.getStats():v?v.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return f.apply(this,arguments)}}function Wd(p){p.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(w=>this._shimmedLocalStreams[w][0])};const f=p.RTCPeerConnection.prototype.addTrack;p.RTCPeerConnection.prototype.addTrack=function(w,T){if(!T)return f.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const N=f.apply(this,arguments);return this._shimmedLocalStreams[T.id]?this._shimmedLocalStreams[T.id].indexOf(N)===-1&&this._shimmedLocalStreams[T.id].push(N):this._shimmedLocalStreams[T.id]=[T,N],N};const h=p.RTCPeerConnection.prototype.addStream;p.RTCPeerConnection.prototype.addStream=function(w){this._shimmedLocalStreams=this._shimmedLocalStreams||{},w.getTracks().forEach(E=>{if(this.getSenders().find(D=>D.track===E))throw new DOMException("Track already exists.","InvalidAccessError")});const T=this.getSenders();h.apply(this,arguments);const N=this.getSenders().filter(E=>T.indexOf(E)===-1);this._shimmedLocalStreams[w.id]=[w].concat(N)};const g=p.RTCPeerConnection.prototype.removeStream;p.RTCPeerConnection.prototype.removeStream=function(w){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[w.id],g.apply(this,arguments)};const y=p.RTCPeerConnection.prototype.removeTrack;p.RTCPeerConnection.prototype.removeTrack=function(w){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},w&&Object.keys(this._shimmedLocalStreams).forEach(T=>{const N=this._shimmedLocalStreams[T].indexOf(w);N!==-1&&this._shimmedLocalStreams[T].splice(N,1),this._shimmedLocalStreams[T].length===1&&delete this._shimmedLocalStreams[T]}),y.apply(this,arguments)}}function Jd(p,f){if(!p.RTCPeerConnection)return;if(p.RTCPeerConnection.prototype.addTrack&&f.version>=65)return Wd(p);const h=p.RTCPeerConnection.prototype.getLocalStreams;p.RTCPeerConnection.prototype.getLocalStreams=function(){const I=h.apply(this);return this._reverseStreams=this._reverseStreams||{},I.map(D=>this._reverseStreams[D.id])};const g=p.RTCPeerConnection.prototype.addStream;p.RTCPeerConnection.prototype.addStream=function(I){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},I.getTracks().forEach(D=>{if(this.getSenders().find(te=>te.track===D))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[I.id]){const D=new p.MediaStream(I.getTracks());this._streams[I.id]=D,this._reverseStreams[D.id]=I,I=D}g.apply(this,[I])};const y=p.RTCPeerConnection.prototype.removeStream;p.RTCPeerConnection.prototype.removeStream=function(I){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},y.apply(this,[this._streams[I.id]||I]),delete this._reverseStreams[this._streams[I.id]?this._streams[I.id].id:I.id],delete this._streams[I.id]},p.RTCPeerConnection.prototype.addTrack=function(I,D){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const X=[].slice.call(arguments,1);if(X.length!==1||!X[0].getTracks().find(ue=>ue===I))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(ue=>ue.track===I))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const ce=this._streams[D.id];if(ce)ce.addTrack(I),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const ue=new p.MediaStream([I]);this._streams[D.id]=ue,this._reverseStreams[ue.id]=D,this.addStream(ue)}return this.getSenders().find(ue=>ue.track===I)};function v(E,I){let D=I.sdp;return Object.keys(E._reverseStreams||[]).forEach(X=>{const te=E._reverseStreams[X],ce=E._streams[te.id];D=D.replace(new RegExp(ce.id,"g"),te.id)}),new RTCSessionDescription({type:I.type,sdp:D})}function w(E,I){let D=I.sdp;return Object.keys(E._reverseStreams||[]).forEach(X=>{const te=E._reverseStreams[X],ce=E._streams[te.id];D=D.replace(new RegExp(te.id,"g"),ce.id)}),new RTCSessionDescription({type:I.type,sdp:D})}["createOffer","createAnswer"].forEach(function(E){const I=p.RTCPeerConnection.prototype[E],D={[E](){const X=arguments;return arguments.length&&typeof arguments[0]=="function"?I.apply(this,[ce=>{const ue=v(this,ce);X[0].apply(null,[ue])},ce=>{X[1]&&X[1].apply(null,ce)},arguments[2]]):I.apply(this,arguments).then(ce=>v(this,ce))}};p.RTCPeerConnection.prototype[E]=D[E]});const T=p.RTCPeerConnection.prototype.setLocalDescription;p.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?T.apply(this,arguments):(arguments[0]=w(this,arguments[0]),T.apply(this,arguments))};const N=Object.getOwnPropertyDescriptor(p.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(p.RTCPeerConnection.prototype,"localDescription",{get(){const E=N.get.apply(this);return E.type===""?E:v(this,E)}}),p.RTCPeerConnection.prototype.removeTrack=function(I){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!I._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(I._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let X;Object.keys(this._streams).forEach(te=>{this._streams[te].getTracks().find(ue=>I.track===ue)&&(X=this._streams[te])}),X&&(X.getTracks().length===1?this.removeStream(this._reverseStreams[X.id]):X.removeTrack(I.track),this.dispatchEvent(new Event("negotiationneeded")))}}function _f(p,f){!p.RTCPeerConnection&&p.webkitRTCPeerConnection&&(p.RTCPeerConnection=p.webkitRTCPeerConnection),p.RTCPeerConnection&&f.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(h){const g=p.RTCPeerConnection.prototype[h],y={[h](){return arguments[0]=new(h==="addIceCandidate"?p.RTCIceCandidate:p.RTCSessionDescription)(arguments[0]),g.apply(this,arguments)}};p.RTCPeerConnection.prototype[h]=y[h]})}function $d(p,f){Bs(p,"negotiationneeded",h=>{const g=h.target;if(!((f.version<72||g.getConfiguration&&g.getConfiguration().sdpSemantics==="plan-b")&&g.signalingState!=="stable"))return h})}const J1=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:$d,shimAddTrackRemoveTrack:Jd,shimAddTrackRemoveTrackWithNative:Wd,shimGetSendersWithDtmf:Qd,shimGetUserMedia:Xd,shimMediaStream:qd,shimOnTrack:Kd,shimPeerConnection:_f,shimSenderReceiverGetStats:Zd},Symbol.toStringTag,{value:"Module"}));function eg(p,f){const h=p&&p.navigator,g=p&&p.MediaStreamTrack;if(h.getUserMedia=function(y,v,w){Bf("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),h.mediaDevices.getUserMedia(y).then(v,w)},!(f.version>55&&"autoGainControl"in h.mediaDevices.getSupportedConstraints())){const y=function(w,T,N){T in w&&!(N in w)&&(w[N]=w[T],delete w[T])},v=h.mediaDevices.getUserMedia.bind(h.mediaDevices);if(h.mediaDevices.getUserMedia=function(w){return typeof w=="object"&&typeof w.audio=="object"&&(w=JSON.parse(JSON.stringify(w)),y(w.audio,"autoGainControl","mozAutoGainControl"),y(w.audio,"noiseSuppression","mozNoiseSuppression")),v(w)},g&&g.prototype.getSettings){const w=g.prototype.getSettings;g.prototype.getSettings=function(){const T=w.apply(this,arguments);return y(T,"mozAutoGainControl","autoGainControl"),y(T,"mozNoiseSuppression","noiseSuppression"),T}}if(g&&g.prototype.applyConstraints){const w=g.prototype.applyConstraints;g.prototype.applyConstraints=function(T){return this.kind==="audio"&&typeof T=="object"&&(T=JSON.parse(JSON.stringify(T)),y(T,"autoGainControl","mozAutoGainControl"),y(T,"noiseSuppression","mozNoiseSuppression")),w.apply(this,[T])}}}}function Om(p,f){p.navigator.mediaDevices&&"getDisplayMedia"in p.navigator.mediaDevices||p.navigator.mediaDevices&&(p.navigator.mediaDevices.getDisplayMedia=function(g){if(!(g&&g.video)){const y=new DOMException("getDisplayMedia without video constraints is undefined");return y.name="NotFoundError",y.code=8,Promise.reject(y)}return g.video===!0?g.video={mediaSource:f}:g.video.mediaSource=f,p.navigator.mediaDevices.getUserMedia(g)})}function tg(p){typeof p=="object"&&p.RTCTrackEvent&&"receiver"in p.RTCTrackEvent.prototype&&!("transceiver"in p.RTCTrackEvent.prototype)&&Object.defineProperty(p.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Nf(p,f){if(typeof p!="object"||!(p.RTCPeerConnection||p.mozRTCPeerConnection))return;!p.RTCPeerConnection&&p.mozRTCPeerConnection&&(p.RTCPeerConnection=p.mozRTCPeerConnection),f.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(y){const v=p.RTCPeerConnection.prototype[y],w={[y](){return arguments[0]=new(y==="addIceCandidate"?p.RTCIceCandidate:p.RTCSessionDescription)(arguments[0]),v.apply(this,arguments)}};p.RTCPeerConnection.prototype[y]=w[y]});const h={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},g=p.RTCPeerConnection.prototype.getStats;p.RTCPeerConnection.prototype.getStats=function(){const[v,w,T]=arguments;return g.apply(this,[v||null]).then(N=>{if(f.version<53&&!w)try{N.forEach(E=>{E.type=h[E.type]||E.type})}catch(E){if(E.name!=="TypeError")throw E;N.forEach((I,D)=>{N.set(D,Object.assign({},I,{type:h[I.type]||I.type}))})}return N}).then(w,T)}}function ng(p){if(!(typeof p=="object"&&p.RTCPeerConnection&&p.RTCRtpSender)||p.RTCRtpSender&&"getStats"in p.RTCRtpSender.prototype)return;const f=p.RTCPeerConnection.prototype.getSenders;f&&(p.RTCPeerConnection.prototype.getSenders=function(){const y=f.apply(this,[]);return y.forEach(v=>v._pc=this),y});const h=p.RTCPeerConnection.prototype.addTrack;h&&(p.RTCPeerConnection.prototype.addTrack=function(){const y=h.apply(this,arguments);return y._pc=this,y}),p.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function rg(p){if(!(typeof p=="object"&&p.RTCPeerConnection&&p.RTCRtpSender)||p.RTCRtpSender&&"getStats"in p.RTCRtpReceiver.prototype)return;const f=p.RTCPeerConnection.prototype.getReceivers;f&&(p.RTCPeerConnection.prototype.getReceivers=function(){const g=f.apply(this,[]);return g.forEach(y=>y._pc=this),g}),Bs(p,"track",h=>(h.receiver._pc=h.srcElement,h)),p.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function ig(p){!p.RTCPeerConnection||"removeStream"in p.RTCPeerConnection.prototype||(p.RTCPeerConnection.prototype.removeStream=function(h){Bf("removeStream","removeTrack"),this.getSenders().forEach(g=>{g.track&&h.getTracks().includes(g.track)&&this.removeTrack(g)})})}function ag(p){p.DataChannel&&!p.RTCDataChannel&&(p.RTCDataChannel=p.DataChannel)}function sg(p){if(!(typeof p=="object"&&p.RTCPeerConnection))return;const f=p.RTCPeerConnection.prototype.addTransceiver;f&&(p.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let g=arguments[1]&&arguments[1].sendEncodings;g===void 0&&(g=[]),g=[...g];const y=g.length>0;y&&g.forEach(w=>{if("rid"in w&&!/^[a-z0-9]{0,16}$/i.test(w.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in w&&!(parseFloat(w.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in w&&!(parseFloat(w.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const v=f.apply(this,arguments);if(y){const{sender:w}=v,T=w.getParameters();(!("encodings"in T)||T.encodings.length===1&&Object.keys(T.encodings[0]).length===0)&&(T.encodings=g,w.sendEncodings=g,this.setParametersPromises.push(w.setParameters(T).then(()=>{delete w.sendEncodings}).catch(()=>{delete w.sendEncodings})))}return v})}function og(p){if(!(typeof p=="object"&&p.RTCRtpSender))return;const f=p.RTCRtpSender.prototype.getParameters;f&&(p.RTCRtpSender.prototype.getParameters=function(){const g=f.apply(this,arguments);return"encodings"in g||(g.encodings=[].concat(this.sendEncodings||[{}])),g})}function lg(p){if(!(typeof p=="object"&&p.RTCPeerConnection))return;const f=p.RTCPeerConnection.prototype.createOffer;p.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>f.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):f.apply(this,arguments)}}function cg(p){if(!(typeof p=="object"&&p.RTCPeerConnection))return;const f=p.RTCPeerConnection.prototype.createAnswer;p.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>f.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):f.apply(this,arguments)}}const $1=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:sg,shimCreateAnswer:cg,shimCreateOffer:lg,shimGetDisplayMedia:Om,shimGetParameters:og,shimGetUserMedia:eg,shimOnTrack:tg,shimPeerConnection:Nf,shimRTCDataChannel:ag,shimReceiverGetStats:rg,shimRemoveStream:ig,shimSenderGetStats:ng},Symbol.toStringTag,{value:"Module"}));function ug(p){if(!(typeof p!="object"||!p.RTCPeerConnection)){if("getLocalStreams"in p.RTCPeerConnection.prototype||(p.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in p.RTCPeerConnection.prototype)){const f=p.RTCPeerConnection.prototype.addTrack;p.RTCPeerConnection.prototype.addStream=function(g){this._localStreams||(this._localStreams=[]),this._localStreams.includes(g)||this._localStreams.push(g),g.getAudioTracks().forEach(y=>f.call(this,y,g)),g.getVideoTracks().forEach(y=>f.call(this,y,g))},p.RTCPeerConnection.prototype.addTrack=function(g,...y){return y&&y.forEach(v=>{this._localStreams?this._localStreams.includes(v)||this._localStreams.push(v):this._localStreams=[v]}),f.apply(this,arguments)}}"removeStream"in p.RTCPeerConnection.prototype||(p.RTCPeerConnection.prototype.removeStream=function(h){this._localStreams||(this._localStreams=[]);const g=this._localStreams.indexOf(h);if(g===-1)return;this._localStreams.splice(g,1);const y=h.getTracks();this.getSenders().forEach(v=>{y.includes(v.track)&&this.removeTrack(v)})})}}function fg(p){if(!(typeof p!="object"||!p.RTCPeerConnection)&&("getRemoteStreams"in p.RTCPeerConnection.prototype||(p.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in p.RTCPeerConnection.prototype))){Object.defineProperty(p.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(h){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=h),this.addEventListener("track",this._onaddstreampoly=g=>{g.streams.forEach(y=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(y))return;this._remoteStreams.push(y);const v=new Event("addstream");v.stream=y,this.dispatchEvent(v)})})}});const f=p.RTCPeerConnection.prototype.setRemoteDescription;p.RTCPeerConnection.prototype.setRemoteDescription=function(){const g=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(y){y.streams.forEach(v=>{if(g._remoteStreams||(g._remoteStreams=[]),g._remoteStreams.indexOf(v)>=0)return;g._remoteStreams.push(v);const w=new Event("addstream");w.stream=v,g.dispatchEvent(w)})}),f.apply(g,arguments)}}}function hg(p){if(typeof p!="object"||!p.RTCPeerConnection)return;const f=p.RTCPeerConnection.prototype,h=f.createOffer,g=f.createAnswer,y=f.setLocalDescription,v=f.setRemoteDescription,w=f.addIceCandidate;f.createOffer=function(E,I){const D=arguments.length>=2?arguments[2]:arguments[0],X=h.apply(this,[D]);return I?(X.then(E,I),Promise.resolve()):X},f.createAnswer=function(E,I){const D=arguments.length>=2?arguments[2]:arguments[0],X=g.apply(this,[D]);return I?(X.then(E,I),Promise.resolve()):X};let T=function(N,E,I){const D=y.apply(this,[N]);return I?(D.then(E,I),Promise.resolve()):D};f.setLocalDescription=T,T=function(N,E,I){const D=v.apply(this,[N]);return I?(D.then(E,I),Promise.resolve()):D},f.setRemoteDescription=T,T=function(N,E,I){const D=w.apply(this,[N]);return I?(D.then(E,I),Promise.resolve()):D},f.addIceCandidate=T}function dg(p){const f=p&&p.navigator;if(f.mediaDevices&&f.mediaDevices.getUserMedia){const h=f.mediaDevices,g=h.getUserMedia.bind(h);f.mediaDevices.getUserMedia=y=>g(gg(y))}!f.getUserMedia&&f.mediaDevices&&f.mediaDevices.getUserMedia&&(f.getUserMedia=(function(g,y,v){f.mediaDevices.getUserMedia(g).then(y,v)}).bind(f))}function gg(p){return p&&p.video!==void 0?Object.assign({},p,{video:Yd(p.video)}):p}function pg(p){if(!p.RTCPeerConnection)return;const f=p.RTCPeerConnection;p.RTCPeerConnection=function(g,y){if(g&&g.iceServers){const v=[];for(let w=0;w<g.iceServers.length;w++){let T=g.iceServers[w];T.urls===void 0&&T.url?(Bf("RTCIceServer.url","RTCIceServer.urls"),T=JSON.parse(JSON.stringify(T)),T.urls=T.url,delete T.url,v.push(T)):v.push(g.iceServers[w])}g.iceServers=v}return new f(g,y)},p.RTCPeerConnection.prototype=f.prototype,"generateCertificate"in f&&Object.defineProperty(p.RTCPeerConnection,"generateCertificate",{get(){return f.generateCertificate}})}function mg(p){typeof p=="object"&&p.RTCTrackEvent&&"receiver"in p.RTCTrackEvent.prototype&&!("transceiver"in p.RTCTrackEvent.prototype)&&Object.defineProperty(p.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function xg(p){const f=p.RTCPeerConnection.prototype.createOffer;p.RTCPeerConnection.prototype.createOffer=function(g){if(g){typeof g.offerToReceiveAudio<"u"&&(g.offerToReceiveAudio=!!g.offerToReceiveAudio);const y=this.getTransceivers().find(w=>w.receiver.track.kind==="audio");g.offerToReceiveAudio===!1&&y?y.direction==="sendrecv"?y.setDirection?y.setDirection("sendonly"):y.direction="sendonly":y.direction==="recvonly"&&(y.setDirection?y.setDirection("inactive"):y.direction="inactive"):g.offerToReceiveAudio===!0&&!y&&this.addTransceiver("audio",{direction:"recvonly"}),typeof g.offerToReceiveVideo<"u"&&(g.offerToReceiveVideo=!!g.offerToReceiveVideo);const v=this.getTransceivers().find(w=>w.receiver.track.kind==="video");g.offerToReceiveVideo===!1&&v?v.direction==="sendrecv"?v.setDirection?v.setDirection("sendonly"):v.direction="sendonly":v.direction==="recvonly"&&(v.setDirection?v.setDirection("inactive"):v.direction="inactive"):g.offerToReceiveVideo===!0&&!v&&this.addTransceiver("video",{direction:"recvonly"})}return f.apply(this,arguments)}}function yg(p){typeof p!="object"||p.AudioContext||(p.AudioContext=p.webkitAudioContext)}const ed=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:yg,shimCallbacksAPI:hg,shimConstraints:gg,shimCreateOfferLegacy:xg,shimGetUserMedia:dg,shimLocalStreamsAPI:ug,shimRTCIceServerUrls:pg,shimRemoteStreamsAPI:fg,shimTrackEventTransceiver:mg},Symbol.toStringTag,{value:"Module"}));var lf={exports:{}},td;function Im(){return td||(td=1,function(p){const f={};f.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},f.localCName=f.generateIdentifier(),f.splitLines=function(h){return h.trim().split(`
`).map(g=>g.trim())},f.splitSections=function(h){return h.split(`
m=`).map((y,v)=>(v>0?"m="+y:y).trim()+`\r
`)},f.getDescription=function(h){const g=f.splitSections(h);return g&&g[0]},f.getMediaSections=function(h){const g=f.splitSections(h);return g.shift(),g},f.matchPrefix=function(h,g){return f.splitLines(h).filter(y=>y.indexOf(g)===0)},f.parseCandidate=function(h){let g;h.indexOf("a=candidate:")===0?g=h.substring(12).split(" "):g=h.substring(10).split(" ");const y={foundation:g[0],component:{1:"rtp",2:"rtcp"}[g[1]]||g[1],protocol:g[2].toLowerCase(),priority:parseInt(g[3],10),ip:g[4],address:g[4],port:parseInt(g[5],10),type:g[7]};for(let v=8;v<g.length;v+=2)switch(g[v]){case"raddr":y.relatedAddress=g[v+1];break;case"rport":y.relatedPort=parseInt(g[v+1],10);break;case"tcptype":y.tcpType=g[v+1];break;case"ufrag":y.ufrag=g[v+1],y.usernameFragment=g[v+1];break;default:y[g[v]]===void 0&&(y[g[v]]=g[v+1]);break}return y},f.writeCandidate=function(h){const g=[];g.push(h.foundation);const y=h.component;y==="rtp"?g.push(1):y==="rtcp"?g.push(2):g.push(y),g.push(h.protocol.toUpperCase()),g.push(h.priority),g.push(h.address||h.ip),g.push(h.port);const v=h.type;return g.push("typ"),g.push(v),v!=="host"&&h.relatedAddress&&h.relatedPort&&(g.push("raddr"),g.push(h.relatedAddress),g.push("rport"),g.push(h.relatedPort)),h.tcpType&&h.protocol.toLowerCase()==="tcp"&&(g.push("tcptype"),g.push(h.tcpType)),(h.usernameFragment||h.ufrag)&&(g.push("ufrag"),g.push(h.usernameFragment||h.ufrag)),"candidate:"+g.join(" ")},f.parseIceOptions=function(h){return h.substring(14).split(" ")},f.parseRtpMap=function(h){let g=h.substring(9).split(" ");const y={payloadType:parseInt(g.shift(),10)};return g=g[0].split("/"),y.name=g[0],y.clockRate=parseInt(g[1],10),y.channels=g.length===3?parseInt(g[2],10):1,y.numChannels=y.channels,y},f.writeRtpMap=function(h){let g=h.payloadType;h.preferredPayloadType!==void 0&&(g=h.preferredPayloadType);const y=h.channels||h.numChannels||1;return"a=rtpmap:"+g+" "+h.name+"/"+h.clockRate+(y!==1?"/"+y:"")+`\r
`},f.parseExtmap=function(h){const g=h.substring(9).split(" ");return{id:parseInt(g[0],10),direction:g[0].indexOf("/")>0?g[0].split("/")[1]:"sendrecv",uri:g[1],attributes:g.slice(2).join(" ")}},f.writeExtmap=function(h){return"a=extmap:"+(h.id||h.preferredId)+(h.direction&&h.direction!=="sendrecv"?"/"+h.direction:"")+" "+h.uri+(h.attributes?" "+h.attributes:"")+`\r
`},f.parseFmtp=function(h){const g={};let y;const v=h.substring(h.indexOf(" ")+1).split(";");for(let w=0;w<v.length;w++)y=v[w].trim().split("="),g[y[0].trim()]=y[1];return g},f.writeFmtp=function(h){let g="",y=h.payloadType;if(h.preferredPayloadType!==void 0&&(y=h.preferredPayloadType),h.parameters&&Object.keys(h.parameters).length){const v=[];Object.keys(h.parameters).forEach(w=>{h.parameters[w]!==void 0?v.push(w+"="+h.parameters[w]):v.push(w)}),g+="a=fmtp:"+y+" "+v.join(";")+`\r
`}return g},f.parseRtcpFb=function(h){const g=h.substring(h.indexOf(" ")+1).split(" ");return{type:g.shift(),parameter:g.join(" ")}},f.writeRtcpFb=function(h){let g="",y=h.payloadType;return h.preferredPayloadType!==void 0&&(y=h.preferredPayloadType),h.rtcpFeedback&&h.rtcpFeedback.length&&h.rtcpFeedback.forEach(v=>{g+="a=rtcp-fb:"+y+" "+v.type+(v.parameter&&v.parameter.length?" "+v.parameter:"")+`\r
`}),g},f.parseSsrcMedia=function(h){const g=h.indexOf(" "),y={ssrc:parseInt(h.substring(7,g),10)},v=h.indexOf(":",g);return v>-1?(y.attribute=h.substring(g+1,v),y.value=h.substring(v+1)):y.attribute=h.substring(g+1),y},f.parseSsrcGroup=function(h){const g=h.substring(13).split(" ");return{semantics:g.shift(),ssrcs:g.map(y=>parseInt(y,10))}},f.getMid=function(h){const g=f.matchPrefix(h,"a=mid:")[0];if(g)return g.substring(6)},f.parseFingerprint=function(h){const g=h.substring(14).split(" ");return{algorithm:g[0].toLowerCase(),value:g[1].toUpperCase()}},f.getDtlsParameters=function(h,g){return{role:"auto",fingerprints:f.matchPrefix(h+g,"a=fingerprint:").map(f.parseFingerprint)}},f.writeDtlsParameters=function(h,g){let y="a=setup:"+g+`\r
`;return h.fingerprints.forEach(v=>{y+="a=fingerprint:"+v.algorithm+" "+v.value+`\r
`}),y},f.parseCryptoLine=function(h){const g=h.substring(9).split(" ");return{tag:parseInt(g[0],10),cryptoSuite:g[1],keyParams:g[2],sessionParams:g.slice(3)}},f.writeCryptoLine=function(h){return"a=crypto:"+h.tag+" "+h.cryptoSuite+" "+(typeof h.keyParams=="object"?f.writeCryptoKeyParams(h.keyParams):h.keyParams)+(h.sessionParams?" "+h.sessionParams.join(" "):"")+`\r
`},f.parseCryptoKeyParams=function(h){if(h.indexOf("inline:")!==0)return null;const g=h.substring(7).split("|");return{keyMethod:"inline",keySalt:g[0],lifeTime:g[1],mkiValue:g[2]?g[2].split(":")[0]:void 0,mkiLength:g[2]?g[2].split(":")[1]:void 0}},f.writeCryptoKeyParams=function(h){return h.keyMethod+":"+h.keySalt+(h.lifeTime?"|"+h.lifeTime:"")+(h.mkiValue&&h.mkiLength?"|"+h.mkiValue+":"+h.mkiLength:"")},f.getCryptoParameters=function(h,g){return f.matchPrefix(h+g,"a=crypto:").map(f.parseCryptoLine)},f.getIceParameters=function(h,g){const y=f.matchPrefix(h+g,"a=ice-ufrag:")[0],v=f.matchPrefix(h+g,"a=ice-pwd:")[0];return y&&v?{usernameFragment:y.substring(12),password:v.substring(10)}:null},f.writeIceParameters=function(h){let g="a=ice-ufrag:"+h.usernameFragment+`\r
a=ice-pwd:`+h.password+`\r
`;return h.iceLite&&(g+=`a=ice-lite\r
`),g},f.parseRtpParameters=function(h){const g={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},v=f.splitLines(h)[0].split(" ");g.profile=v[2];for(let T=3;T<v.length;T++){const N=v[T],E=f.matchPrefix(h,"a=rtpmap:"+N+" ")[0];if(E){const I=f.parseRtpMap(E),D=f.matchPrefix(h,"a=fmtp:"+N+" ");switch(I.parameters=D.length?f.parseFmtp(D[0]):{},I.rtcpFeedback=f.matchPrefix(h,"a=rtcp-fb:"+N+" ").map(f.parseRtcpFb),g.codecs.push(I),I.name.toUpperCase()){case"RED":case"ULPFEC":g.fecMechanisms.push(I.name.toUpperCase());break}}}f.matchPrefix(h,"a=extmap:").forEach(T=>{g.headerExtensions.push(f.parseExtmap(T))});const w=f.matchPrefix(h,"a=rtcp-fb:* ").map(f.parseRtcpFb);return g.codecs.forEach(T=>{w.forEach(N=>{T.rtcpFeedback.find(I=>I.type===N.type&&I.parameter===N.parameter)||T.rtcpFeedback.push(N)})}),g},f.writeRtpDescription=function(h,g){let y="";y+="m="+h+" ",y+=g.codecs.length>0?"9":"0",y+=" "+(g.profile||"UDP/TLS/RTP/SAVPF")+" ",y+=g.codecs.map(w=>w.preferredPayloadType!==void 0?w.preferredPayloadType:w.payloadType).join(" ")+`\r
`,y+=`c=IN IP4 0.0.0.0\r
`,y+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,g.codecs.forEach(w=>{y+=f.writeRtpMap(w),y+=f.writeFmtp(w),y+=f.writeRtcpFb(w)});let v=0;return g.codecs.forEach(w=>{w.maxptime>v&&(v=w.maxptime)}),v>0&&(y+="a=maxptime:"+v+`\r
`),g.headerExtensions&&g.headerExtensions.forEach(w=>{y+=f.writeExtmap(w)}),y},f.parseRtpEncodingParameters=function(h){const g=[],y=f.parseRtpParameters(h),v=y.fecMechanisms.indexOf("RED")!==-1,w=y.fecMechanisms.indexOf("ULPFEC")!==-1,T=f.matchPrefix(h,"a=ssrc:").map(X=>f.parseSsrcMedia(X)).filter(X=>X.attribute==="cname"),N=T.length>0&&T[0].ssrc;let E;const I=f.matchPrefix(h,"a=ssrc-group:FID").map(X=>X.substring(17).split(" ").map(ce=>parseInt(ce,10)));I.length>0&&I[0].length>1&&I[0][0]===N&&(E=I[0][1]),y.codecs.forEach(X=>{if(X.name.toUpperCase()==="RTX"&&X.parameters.apt){let te={ssrc:N,codecPayloadType:parseInt(X.parameters.apt,10)};N&&E&&(te.rtx={ssrc:E}),g.push(te),v&&(te=JSON.parse(JSON.stringify(te)),te.fec={ssrc:N,mechanism:w?"red+ulpfec":"red"},g.push(te))}}),g.length===0&&N&&g.push({ssrc:N});let D=f.matchPrefix(h,"b=");return D.length&&(D[0].indexOf("b=TIAS:")===0?D=parseInt(D[0].substring(7),10):D[0].indexOf("b=AS:")===0?D=parseInt(D[0].substring(5),10)*1e3*.95-50*40*8:D=void 0,g.forEach(X=>{X.maxBitrate=D})),g},f.parseRtcpParameters=function(h){const g={},y=f.matchPrefix(h,"a=ssrc:").map(T=>f.parseSsrcMedia(T)).filter(T=>T.attribute==="cname")[0];y&&(g.cname=y.value,g.ssrc=y.ssrc);const v=f.matchPrefix(h,"a=rtcp-rsize");g.reducedSize=v.length>0,g.compound=v.length===0;const w=f.matchPrefix(h,"a=rtcp-mux");return g.mux=w.length>0,g},f.writeRtcpParameters=function(h){let g="";return h.reducedSize&&(g+=`a=rtcp-rsize\r
`),h.mux&&(g+=`a=rtcp-mux\r
`),h.ssrc!==void 0&&h.cname&&(g+="a=ssrc:"+h.ssrc+" cname:"+h.cname+`\r
`),g},f.parseMsid=function(h){let g;const y=f.matchPrefix(h,"a=msid:");if(y.length===1)return g=y[0].substring(7).split(" "),{stream:g[0],track:g[1]};const v=f.matchPrefix(h,"a=ssrc:").map(w=>f.parseSsrcMedia(w)).filter(w=>w.attribute==="msid");if(v.length>0)return g=v[0].value.split(" "),{stream:g[0],track:g[1]}},f.parseSctpDescription=function(h){const g=f.parseMLine(h),y=f.matchPrefix(h,"a=max-message-size:");let v;y.length>0&&(v=parseInt(y[0].substring(19),10)),isNaN(v)&&(v=65536);const w=f.matchPrefix(h,"a=sctp-port:");if(w.length>0)return{port:parseInt(w[0].substring(12),10),protocol:g.fmt,maxMessageSize:v};const T=f.matchPrefix(h,"a=sctpmap:");if(T.length>0){const N=T[0].substring(10).split(" ");return{port:parseInt(N[0],10),protocol:N[1],maxMessageSize:v}}},f.writeSctpDescription=function(h,g){let y=[];return h.protocol!=="DTLS/SCTP"?y=["m="+h.kind+" 9 "+h.protocol+" "+g.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+g.port+`\r
`]:y=["m="+h.kind+" 9 "+h.protocol+" "+g.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+g.port+" "+g.protocol+` 65535\r
`],g.maxMessageSize!==void 0&&y.push("a=max-message-size:"+g.maxMessageSize+`\r
`),y.join("")},f.generateSessionId=function(){return Math.random().toString().substr(2,22)},f.writeSessionBoilerplate=function(h,g,y){let v;const w=g!==void 0?g:2;return h?v=h:v=f.generateSessionId(),`v=0\r
o=`+(y||"thisisadapterortc")+" "+v+" "+w+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},f.getDirection=function(h,g){const y=f.splitLines(h);for(let v=0;v<y.length;v++)switch(y[v]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return y[v].substring(2)}return g?f.getDirection(g):"sendrecv"},f.getKind=function(h){return f.splitLines(h)[0].split(" ")[0].substring(2)},f.isRejected=function(h){return h.split(" ",2)[1]==="0"},f.parseMLine=function(h){const y=f.splitLines(h)[0].substring(2).split(" ");return{kind:y[0],port:parseInt(y[1],10),protocol:y[2],fmt:y.slice(3).join(" ")}},f.parseOLine=function(h){const y=f.matchPrefix(h,"o=")[0].substring(2).split(" ");return{username:y[0],sessionId:y[1],sessionVersion:parseInt(y[2],10),netType:y[3],addressType:y[4],address:y[5]}},f.isValidSDP=function(h){if(typeof h!="string"||h.length===0)return!1;const g=f.splitLines(h);for(let y=0;y<g.length;y++)if(g[y].length<2||g[y].charAt(1)!=="=")return!1;return!0},p.exports=f}(lf)),lf.exports}var bg=Im();const go=po(bg),Mm=kd({__proto__:null,default:go},[bg]);function lc(p){if(!p.RTCIceCandidate||p.RTCIceCandidate&&"foundation"in p.RTCIceCandidate.prototype)return;const f=p.RTCIceCandidate;p.RTCIceCandidate=function(g){if(typeof g=="object"&&g.candidate&&g.candidate.indexOf("a=")===0&&(g=JSON.parse(JSON.stringify(g)),g.candidate=g.candidate.substring(2)),g.candidate&&g.candidate.length){const y=new f(g),v=go.parseCandidate(g.candidate);for(const w in v)w in y||Object.defineProperty(y,w,{value:v[w]});return y.toJSON=function(){return{candidate:y.candidate,sdpMid:y.sdpMid,sdpMLineIndex:y.sdpMLineIndex,usernameFragment:y.usernameFragment}},y}return new f(g)},p.RTCIceCandidate.prototype=f.prototype,Bs(p,"icecandidate",h=>(h.candidate&&Object.defineProperty(h,"candidate",{value:new p.RTCIceCandidate(h.candidate),writable:"false"}),h))}function Rf(p){!p.RTCIceCandidate||p.RTCIceCandidate&&"relayProtocol"in p.RTCIceCandidate.prototype||Bs(p,"icecandidate",f=>{if(f.candidate){const h=go.parseCandidate(f.candidate.candidate);h.type==="relay"&&(f.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[h.priority>>24])}return f})}function cc(p,f){if(!p.RTCPeerConnection)return;"sctp"in p.RTCPeerConnection.prototype||Object.defineProperty(p.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const h=function(T){if(!T||!T.sdp)return!1;const N=go.splitSections(T.sdp);return N.shift(),N.some(E=>{const I=go.parseMLine(E);return I&&I.kind==="application"&&I.protocol.indexOf("SCTP")!==-1})},g=function(T){const N=T.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(N===null||N.length<2)return-1;const E=parseInt(N[1],10);return E!==E?-1:E},y=function(T){let N=65536;return f.browser==="firefox"&&(f.version<57?T===-1?N=16384:N=2147483637:f.version<60?N=f.version===57?65535:65536:N=2147483637),N},v=function(T,N){let E=65536;f.browser==="firefox"&&f.version===57&&(E=65535);const I=go.matchPrefix(T.sdp,"a=max-message-size:");return I.length>0?E=parseInt(I[0].substring(19),10):f.browser==="firefox"&&N!==-1&&(E=2147483637),E},w=p.RTCPeerConnection.prototype.setRemoteDescription;p.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,f.browser==="chrome"&&f.version>=76){const{sdpSemantics:N}=this.getConfiguration();N==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(h(arguments[0])){const N=g(arguments[0]),E=y(N),I=v(arguments[0],N);let D;E===0&&I===0?D=Number.POSITIVE_INFINITY:E===0||I===0?D=Math.max(E,I):D=Math.min(E,I);const X={};Object.defineProperty(X,"maxMessageSize",{get(){return D}}),this._sctp=X}return w.apply(this,arguments)}}function uc(p){if(!(p.RTCPeerConnection&&"createDataChannel"in p.RTCPeerConnection.prototype))return;function f(g,y){const v=g.send;g.send=function(){const T=arguments[0],N=T.length||T.size||T.byteLength;if(g.readyState==="open"&&y.sctp&&N>y.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+y.sctp.maxMessageSize+" bytes)");return v.apply(g,arguments)}}const h=p.RTCPeerConnection.prototype.createDataChannel;p.RTCPeerConnection.prototype.createDataChannel=function(){const y=h.apply(this,arguments);return f(y,this),y},Bs(p,"datachannel",g=>(f(g.channel,g.target),g))}function Of(p){if(!p.RTCPeerConnection||"connectionState"in p.RTCPeerConnection.prototype)return;const f=p.RTCPeerConnection.prototype;Object.defineProperty(f,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(f,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(h){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),h&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=h)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(h=>{const g=f[h];f[h]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=y=>{const v=y.target;if(v._lastConnectionState!==v.connectionState){v._lastConnectionState=v.connectionState;const w=new Event("connectionstatechange",y);v.dispatchEvent(w)}return y},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),g.apply(this,arguments)}})}function If(p,f){if(!p.RTCPeerConnection||f.browser==="chrome"&&f.version>=71||f.browser==="safari"&&f._safariVersion>=13.1)return;const h=p.RTCPeerConnection.prototype.setRemoteDescription;p.RTCPeerConnection.prototype.setRemoteDescription=function(y){if(y&&y.sdp&&y.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const v=y.sdp.split(`
`).filter(w=>w.trim()!=="a=extmap-allow-mixed").join(`
`);p.RTCSessionDescription&&y instanceof p.RTCSessionDescription?arguments[0]=new p.RTCSessionDescription({type:y.type,sdp:v}):y.sdp=v}return h.apply(this,arguments)}}function fc(p,f){if(!(p.RTCPeerConnection&&p.RTCPeerConnection.prototype))return;const h=p.RTCPeerConnection.prototype.addIceCandidate;!h||h.length===0||(p.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(f.browser==="chrome"&&f.version<78||f.browser==="firefox"&&f.version<68||f.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():h.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function hc(p,f){if(!(p.RTCPeerConnection&&p.RTCPeerConnection.prototype))return;const h=p.RTCPeerConnection.prototype.setLocalDescription;!h||h.length===0||(p.RTCPeerConnection.prototype.setLocalDescription=function(){let y=arguments[0]||{};if(typeof y!="object"||y.type&&y.sdp)return h.apply(this,arguments);if(y={type:y.type,sdp:y.sdp},!y.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":y.type="offer";break;default:y.type="answer";break}return y.sdp||y.type!=="offer"&&y.type!=="answer"?h.apply(this,[y]):(y.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(w=>h.apply(this,[w]))})}const Dm=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:If,shimAddIceCandidateNullOrEmpty:fc,shimConnectionState:Of,shimMaxMessageSize:cc,shimParameterlessSetLocalDescription:hc,shimRTCIceCandidate:lc,shimRTCIceCandidateRelayProtocol:Rf,shimSendThrowTypeError:uc},Symbol.toStringTag,{value:"Module"}));function km({window:p}={},f={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const h=Vd,g=Rm(p),y={browserDetails:g,commonShim:Dm,extractVersion:al,disableLog:_m,disableWarnings:Nm,sdp:Mm};switch(g.browser){case"chrome":if(!J1||!_f||!f.shimChrome)return h("Chrome shim is not included in this adapter release."),y;if(g.version===null)return h("Chrome shim can not determine version, not shimming."),y;h("adapter.js shimming chrome."),y.browserShim=J1,fc(p,g),hc(p),Xd(p,g),qd(p),_f(p,g),Kd(p),Jd(p,g),Qd(p),Zd(p),$d(p,g),lc(p),Rf(p),Of(p),cc(p,g),uc(p),If(p,g);break;case"firefox":if(!$1||!Nf||!f.shimFirefox)return h("Firefox shim is not included in this adapter release."),y;h("adapter.js shimming firefox."),y.browserShim=$1,fc(p,g),hc(p),eg(p,g),Nf(p,g),tg(p),ig(p),ng(p),rg(p),ag(p),sg(p),og(p),lg(p),cg(p),lc(p),Of(p),cc(p,g),uc(p);break;case"safari":if(!ed||!f.shimSafari)return h("Safari shim is not included in this adapter release."),y;h("adapter.js shimming safari."),y.browserShim=ed,fc(p,g),hc(p),pg(p),xg(p),hg(p),ug(p),fg(p),mg(p),dg(p),yg(p),lc(p),Rf(p),cc(p,g),uc(p),If(p,g);break;default:h("Unsupported browser!");break}return y}const nd=km({window:typeof window>"u"?void 0:window});function Ls(p,f,h,g){Object.defineProperty(p,f,{get:h,set:g,enumerable:!0,configurable:!0})}class vg{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=f=>{const h=[],g=f.byteLength,y=Math.ceil(g/this.chunkedMTU);let v=0,w=0;for(;w<g;){const T=Math.min(g,w+this.chunkedMTU),N=f.slice(w,T),E={__peerData:this._dataCount,n:v,data:N,total:y};h.push(E),w=T,v++}return this._dataCount++,h}}}function Bm(p){let f=0;for(const y of p)f+=y.byteLength;const h=new Uint8Array(f);let g=0;for(const y of p)h.set(y,g),g+=y.byteLength;return h}const cf=nd.default||nd,rl=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const p=this.getBrowser(),f=this.getVersion();return this.supportedBrowsers.includes(p)?p==="chrome"?f>=this.minChromeVersion:p==="firefox"?f>=this.minFirefoxVersion:p==="safari"?!this.isIOS&&f>=this.minSafariVersion:!1:!1}getBrowser(){return cf.browserDetails.browser}getVersion(){return cf.browserDetails.version||0}isUnifiedPlanSupported(){const p=this.getBrowser(),f=cf.browserDetails.version||0;if(p==="chrome"&&f<this.minChromeVersion)return!1;if(p==="firefox"&&f>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let h,g=!1;try{h=new RTCPeerConnection,h.addTransceiver("audio"),g=!0}catch{}finally{h&&h.close()}return g}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},Lm=p=>!p||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(p),Cg=()=>Math.random().toString(36).slice(2),rd={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class Pm extends vg{noop(){}blobToArrayBuffer(f,h){const g=new FileReader;return g.onload=function(y){y.target&&h(y.target.result)},g.readAsArrayBuffer(f),g}binaryStringToArrayBuffer(f){const h=new Uint8Array(f.length);for(let g=0;g<f.length;g++)h[g]=f.charCodeAt(g)&255;return h.buffer}isSecure(){return location.protocol==="https:"}constructor(...f){super(...f),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=rd,this.browser=rl.getBrowser(),this.browserVersion=rl.getVersion(),this.pack=Fd,this.unpack=zd,this.supports=function(){const h={browser:rl.isBrowserSupported(),webRTC:rl.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!h.webRTC)return h;let g;try{g=new RTCPeerConnection(rd),h.audioVideo=!0;let y;try{y=g.createDataChannel("_PEERJSTEST",{ordered:!0}),h.data=!0,h.reliable=!!y.ordered;try{y.binaryType="blob",h.binaryBlob=!rl.isIOS}catch{}}catch{}finally{y&&y.close()}}catch{}finally{g&&g.close()}return h}(),this.validateId=Lm,this.randomToken=Cg}}const Xr=new Pm,jm="PeerJS: ";class Um{get logLevel(){return this._logLevel}set logLevel(f){this._logLevel=f}log(...f){this._logLevel>=3&&this._print(3,...f)}warn(...f){this._logLevel>=2&&this._print(2,...f)}error(...f){this._logLevel>=1&&this._print(1,...f)}setLogFunction(f){this._print=f}_print(f,...h){const g=[jm,...h];for(const y in g)g[y]instanceof Error&&(g[y]="("+g[y].name+") "+g[y].message);f>=3?console.log(...g):f>=2?console.warn("WARNING",...g):f>=1&&console.error("ERROR",...g)}constructor(){this._logLevel=0}}var qe=new Um,Lf={},zm=Object.prototype.hasOwnProperty,kr="~";function ll(){}Object.create&&(ll.prototype=Object.create(null),new ll().__proto__||(kr=!1));function Fm(p,f,h){this.fn=p,this.context=f,this.once=h||!1}function Eg(p,f,h,g,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new Fm(h,g||p,y),w=kr?kr+f:f;return p._events[w]?p._events[w].fn?p._events[w]=[p._events[w],v]:p._events[w].push(v):(p._events[w]=v,p._eventsCount++),p}function dc(p,f){--p._eventsCount===0?p._events=new ll:delete p._events[f]}function _r(){this._events=new ll,this._eventsCount=0}_r.prototype.eventNames=function(){var f=[],h,g;if(this._eventsCount===0)return f;for(g in h=this._events)zm.call(h,g)&&f.push(kr?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f};_r.prototype.listeners=function(f){var h=kr?kr+f:f,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,v=g.length,w=new Array(v);y<v;y++)w[y]=g[y].fn;return w};_r.prototype.listenerCount=function(f){var h=kr?kr+f:f,g=this._events[h];return g?g.fn?1:g.length:0};_r.prototype.emit=function(f,h,g,y,v,w){var T=kr?kr+f:f;if(!this._events[T])return!1;var N=this._events[T],E=arguments.length,I,D;if(N.fn){switch(N.once&&this.removeListener(f,N.fn,void 0,!0),E){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,h),!0;case 3:return N.fn.call(N.context,h,g),!0;case 4:return N.fn.call(N.context,h,g,y),!0;case 5:return N.fn.call(N.context,h,g,y,v),!0;case 6:return N.fn.call(N.context,h,g,y,v,w),!0}for(D=1,I=new Array(E-1);D<E;D++)I[D-1]=arguments[D];N.fn.apply(N.context,I)}else{var X=N.length,te;for(D=0;D<X;D++)switch(N[D].once&&this.removeListener(f,N[D].fn,void 0,!0),E){case 1:N[D].fn.call(N[D].context);break;case 2:N[D].fn.call(N[D].context,h);break;case 3:N[D].fn.call(N[D].context,h,g);break;case 4:N[D].fn.call(N[D].context,h,g,y);break;default:if(!I)for(te=1,I=new Array(E-1);te<E;te++)I[te-1]=arguments[te];N[D].fn.apply(N[D].context,I)}}return!0};_r.prototype.on=function(f,h,g){return Eg(this,f,h,g,!1)};_r.prototype.once=function(f,h,g){return Eg(this,f,h,g,!0)};_r.prototype.removeListener=function(f,h,g,y){var v=kr?kr+f:f;if(!this._events[v])return this;if(!h)return dc(this,v),this;var w=this._events[v];if(w.fn)w.fn===h&&(!y||w.once)&&(!g||w.context===g)&&dc(this,v);else{for(var T=0,N=[],E=w.length;T<E;T++)(w[T].fn!==h||y&&!w[T].once||g&&w[T].context!==g)&&N.push(w[T]);N.length?this._events[v]=N.length===1?N[0]:N:dc(this,v)}return this};_r.prototype.removeAllListeners=function(f){var h;return f?(h=kr?kr+f:f,this._events[h]&&dc(this,h)):(this._events=new ll,this._eventsCount=0),this};_r.prototype.off=_r.prototype.removeListener;_r.prototype.addListener=_r.prototype.on;_r.prefixed=kr;_r.EventEmitter=_r;Lf=_r;var Ps={};Ls(Ps,"ConnectionType",()=>gs);Ls(Ps,"PeerErrorType",()=>Jn);Ls(Ps,"BaseConnectionErrorType",()=>Mf);Ls(Ps,"DataConnectionErrorType",()=>Pf);Ls(Ps,"SerializationType",()=>bc);Ls(Ps,"SocketEventType",()=>ds);Ls(Ps,"ServerMessageType",()=>Tr);var gs=function(p){return p.Data="data",p.Media="media",p}({}),Jn=function(p){return p.BrowserIncompatible="browser-incompatible",p.Disconnected="disconnected",p.InvalidID="invalid-id",p.InvalidKey="invalid-key",p.Network="network",p.PeerUnavailable="peer-unavailable",p.SslUnavailable="ssl-unavailable",p.ServerError="server-error",p.SocketError="socket-error",p.SocketClosed="socket-closed",p.UnavailableID="unavailable-id",p.WebRTC="webrtc",p}({}),Mf=function(p){return p.NegotiationFailed="negotiation-failed",p.ConnectionClosed="connection-closed",p}({}),Pf=function(p){return p.NotOpenYet="not-open-yet",p.MessageToBig="message-too-big",p}({}),bc=function(p){return p.Binary="binary",p.BinaryUTF8="binary-utf8",p.JSON="json",p.None="raw",p}({}),ds=function(p){return p.Message="message",p.Disconnected="disconnected",p.Error="error",p.Close="close",p}({}),Tr=function(p){return p.Heartbeat="HEARTBEAT",p.Candidate="CANDIDATE",p.Offer="OFFER",p.Answer="ANSWER",p.Open="OPEN",p.Error="ERROR",p.IdTaken="ID-TAKEN",p.InvalidKey="INVALID-KEY",p.Leave="LEAVE",p.Expire="EXPIRE",p}({});const Ag="1.5.5";class Hm extends Lf.EventEmitter{constructor(f,h,g,y,v,w=5e3){super(),this.pingInterval=w,this._disconnected=!0,this._messagesQueue=[];const T=f?"wss://":"ws://";this._baseUrl=T+h+":"+g+y+"peerjs?key="+v}start(f,h){this._id=f;const g=`${this._baseUrl}&id=${f}&token=${h}`;this._socket||!this._disconnected||(this._socket=new WebSocket(g+"&version="+Ag),this._disconnected=!1,this._socket.onmessage=y=>{let v;try{v=JSON.parse(y.data),qe.log("Server message received:",v)}catch{qe.log("Invalid server message",y.data);return}this.emit(ds.Message,v)},this._socket.onclose=y=>{this._disconnected||(qe.log("Socket closed.",y),this._cleanup(),this._disconnected=!0,this.emit(ds.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),qe.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){qe.log("Cannot send heartbeat, because socket closed");return}const f=JSON.stringify({type:Tr.Heartbeat});this._socket.send(f),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const f=[...this._messagesQueue];this._messagesQueue=[];for(const h of f)this.send(h)}send(f){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(f);return}if(!f.type){this.emit(ds.Error,"Invalid message");return}if(!this._wsOpen())return;const h=JSON.stringify(f);this._socket.send(h)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class Sg{constructor(f){this.connection=f}startConnection(f){const h=this._startPeerConnection();if(this.connection.peerConnection=h,this.connection.type===gs.Media&&f._stream&&this._addTracksToConnection(f._stream,h),f.originator){const g=this.connection,y={ordered:!!f.reliable},v=h.createDataChannel(g.label,y);g._initializeDataChannel(v),this._makeOffer()}else this.handleSDP("OFFER",f.sdp)}_startPeerConnection(){qe.log("Creating RTCPeerConnection.");const f=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(f),f}_setupListeners(f){const h=this.connection.peer,g=this.connection.connectionId,y=this.connection.type,v=this.connection.provider;qe.log("Listening for ICE candidates."),f.onicecandidate=w=>{!w.candidate||!w.candidate.candidate||(qe.log(`Received ICE candidates for ${h}:`,w.candidate),v.socket.send({type:Tr.Candidate,payload:{candidate:w.candidate,type:y,connectionId:g},dst:h}))},f.oniceconnectionstatechange=()=>{switch(f.iceConnectionState){case"failed":qe.log("iceConnectionState is failed, closing connections to "+h),this.connection.emitError(Mf.NegotiationFailed,"Negotiation of connection to "+h+" failed."),this.connection.close();break;case"closed":qe.log("iceConnectionState is closed, closing connections to "+h),this.connection.emitError(Mf.ConnectionClosed,"Connection to "+h+" closed."),this.connection.close();break;case"disconnected":qe.log("iceConnectionState changed to disconnected on the connection with "+h);break;case"completed":f.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",f.iceConnectionState)},qe.log("Listening for data channel"),f.ondatachannel=w=>{qe.log("Received data channel");const T=w.channel;v.getConnection(h,g)._initializeDataChannel(T)},qe.log("Listening for remote stream"),f.ontrack=w=>{qe.log("Received remote stream");const T=w.streams[0],N=v.getConnection(h,g);if(N.type===gs.Media){const E=N;this._addStreamToMediaConnection(T,E)}}}cleanup(){qe.log("Cleaning up PeerConnection to "+this.connection.peer);const f=this.connection.peerConnection;if(!f)return;this.connection.peerConnection=null,f.onicecandidate=f.oniceconnectionstatechange=f.ondatachannel=f.ontrack=()=>{};const h=f.signalingState!=="closed";let g=!1;const y=this.connection.dataChannel;y&&(g=!!y.readyState&&y.readyState!=="closed"),(h||g)&&f.close()}async _makeOffer(){const f=this.connection.peerConnection,h=this.connection.provider;try{const g=await f.createOffer(this.connection.options.constraints);qe.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(g.sdp=this.connection.options.sdpTransform(g.sdp)||g.sdp);try{await f.setLocalDescription(g),qe.log("Set localDescription:",g,`for:${this.connection.peer}`);let y={sdp:g,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===gs.Data){const v=this.connection;y={...y,label:v.label,reliable:v.reliable,serialization:v.serialization}}h.socket.send({type:Tr.Offer,payload:y,dst:this.connection.peer})}catch(y){y!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(h.emitError(Jn.WebRTC,y),qe.log("Failed to setLocalDescription, ",y))}}catch(g){h.emitError(Jn.WebRTC,g),qe.log("Failed to createOffer, ",g)}}async _makeAnswer(){const f=this.connection.peerConnection,h=this.connection.provider;try{const g=await f.createAnswer();qe.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(g.sdp=this.connection.options.sdpTransform(g.sdp)||g.sdp);try{await f.setLocalDescription(g),qe.log("Set localDescription:",g,`for:${this.connection.peer}`),h.socket.send({type:Tr.Answer,payload:{sdp:g,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(y){h.emitError(Jn.WebRTC,y),qe.log("Failed to setLocalDescription, ",y)}}catch(g){h.emitError(Jn.WebRTC,g),qe.log("Failed to create answer, ",g)}}async handleSDP(f,h){h=new RTCSessionDescription(h);const g=this.connection.peerConnection,y=this.connection.provider;qe.log("Setting remote description",h);const v=this;try{await g.setRemoteDescription(h),qe.log(`Set remoteDescription:${f} for:${this.connection.peer}`),f==="OFFER"&&await v._makeAnswer()}catch(w){y.emitError(Jn.WebRTC,w),qe.log("Failed to setRemoteDescription, ",w)}}async handleCandidate(f){qe.log("handleCandidate:",f);try{await this.connection.peerConnection.addIceCandidate(f),qe.log(`Added ICE candidate for:${this.connection.peer}`)}catch(h){this.connection.provider.emitError(Jn.WebRTC,h),qe.log("Failed to handleCandidate, ",h)}}_addTracksToConnection(f,h){if(qe.log(`add tracks from stream ${f.id} to peer connection`),!h.addTrack)return qe.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");f.getTracks().forEach(g=>{h.addTrack(g,f)})}_addStreamToMediaConnection(f,h){qe.log(`add stream ${f.id} to media connection ${h.connectionId}`),h.addStream(f)}}class wg extends Lf.EventEmitter{emitError(f,h){qe.error("Error:",h),this.emit("error",new Gm(`${f}`,h))}}class Gm extends Error{constructor(f,h){typeof h=="string"?super(h):(super(),Object.assign(this,h)),this.type=f}}class Tg extends wg{get open(){return this._open}constructor(f,h,g){super(),this.peer=f,this.provider=h,this.options=g,this._open=!1,this.metadata=g.metadata}}class pc extends Tg{static#e=this.ID_PREFIX="mc_";get type(){return gs.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(f,h,g){super(f,h,g),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||pc.ID_PREFIX+Xr.randomToken(),this._negotiator=new Sg(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(f){this.dataChannel=f,this.dataChannel.onopen=()=>{qe.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{qe.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(f){qe.log("Receiving stream",f),this._remoteStream=f,super.emit("stream",f)}handleMessage(f){const h=f.type,g=f.payload;switch(f.type){case Tr.Answer:this._negotiator.handleSDP(h,g.sdp),this._open=!0;break;case Tr.Candidate:this._negotiator.handleCandidate(g.candidate);break;default:qe.warn(`Unrecognized message type:${h} from peer:${this.peer}`);break}}answer(f,h={}){if(this._localStream){qe.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=f,h&&h.sdpTransform&&(this.options.sdpTransform=h.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:f});const g=this.provider._getMessages(this.connectionId);for(const y of g)this.handleMessage(y);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}}class Vm{constructor(f){this._options=f}_buildRequest(f){const h=this._options.secure?"https":"http",{host:g,port:y,path:v,key:w}=this._options,T=new URL(`${h}://${g}:${y}${v}${w}/${f}`);return T.searchParams.set("ts",`${Date.now()}${Math.random()}`),T.searchParams.set("version",Ag),fetch(T.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const f=await this._buildRequest("id");if(f.status!==200)throw new Error(`Error. Status:${f.status}`);return f.text()}catch(f){qe.error("Error retrieving ID",f);let h="";throw this._options.path==="/"&&this._options.host!==Xr.CLOUD_HOST&&(h=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+h)}}async listAllPeers(){try{const f=await this._buildRequest("peers");if(f.status!==200){if(f.status===401){let h="";throw this._options.host===Xr.CLOUD_HOST?h="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":h="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+h)}throw new Error(`Error. Status:${f.status}`)}return f.json()}catch(f){throw qe.error("Error retrieving list peers",f),new Error("Could not get list peers from the server."+f)}}}class mc extends Tg{static#e=this.ID_PREFIX="dc_";static#t=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return gs.Data}constructor(f,h,g){super(f,h,g),this.connectionId=this.options.connectionId||mc.ID_PREFIX+Cg(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new Sg(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(f){this.dataChannel=f,this.dataChannel.onopen=()=>{qe.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=h=>{qe.log(`DC#${this.connectionId} dc onmessage:`,h.data)},this.dataChannel.onclose=()=>{qe.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(f){if(f?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(f,h=!1){if(!this.open){this.emitError(Pf.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(f,h)}async handleMessage(f){const h=f.payload;switch(f.type){case Tr.Answer:await this._negotiator.handleSDP(f.type,h.sdp);break;case Tr.Candidate:await this._negotiator.handleCandidate(h.candidate);break;default:qe.warn("Unrecognized message type:",f.type,"from peer:",this.peer);break}}}class jf extends mc{get bufferSize(){return this._bufferSize}_initializeDataChannel(f){super._initializeDataChannel(f),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",h=>this._handleDataMessage(h))}_bufferedSend(f){(this._buffering||!this._trySend(f))&&(this._buffer.push(f),this._bufferSize=this._buffer.length)}_trySend(f){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>mc.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(f)}catch(h){return qe.error(`DC#:${this.connectionId} Error when sending:`,h),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const f=this._buffer[0];this._trySend(f)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(f){if(f?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...f){super(...f),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class uf extends jf{close(f){super.close(f),this._chunkedData={}}constructor(f,h,g){super(f,h,g),this.chunker=new vg,this.serialization=bc.Binary,this._chunkedData={}}_handleDataMessage({data:f}){const h=zd(f),g=h.__peerData;if(g){if(g.type==="close"){this.close();return}this._handleChunk(h);return}this.emit("data",h)}_handleChunk(f){const h=f.__peerData,g=this._chunkedData[h]||{data:[],count:0,total:f.total};if(g.data[f.n]=new Uint8Array(f.data),g.count++,this._chunkedData[h]=g,g.total===g.count){delete this._chunkedData[h];const y=Bm(g.data);this._handleDataMessage({data:y})}}_send(f,h){const g=Fd(f);if(g instanceof Promise)return this._send_blob(g);if(!h&&g.byteLength>this.chunker.chunkedMTU){this._sendChunks(g);return}this._bufferedSend(g)}async _send_blob(f){const h=await f;if(h.byteLength>this.chunker.chunkedMTU){this._sendChunks(h);return}this._bufferedSend(h)}_sendChunks(f){const h=this.chunker.chunk(f);qe.log(`DC#${this.connectionId} Try to send ${h.length} chunks...`);for(const g of h)this.send(g,!0)}}class Ym extends jf{_handleDataMessage({data:f}){super.emit("data",f)}_send(f,h){this._bufferedSend(f)}constructor(...f){super(...f),this.serialization=bc.None}}class Xm extends jf{_handleDataMessage({data:f}){const h=this.parse(this.decoder.decode(f)),g=h.__peerData;if(g&&g.type==="close"){this.close();return}this.emit("data",h)}_send(f,h){const g=this.encoder.encode(this.stringify(f));if(g.byteLength>=Xr.chunkedMTU){this.emitError(Pf.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(g)}constructor(...f){super(...f),this.serialization=bc.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}class Uf extends wg{static#e=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const f=Object.create(null);for(const[h,g]of this._connections)f[h]=g;return f}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(f,h){super(),this._serializers={raw:Ym,json:Xm,binary:uf,"binary-utf8":uf,default:uf},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let g;if(f&&f.constructor==Object?h=f:f&&(g=f.toString()),h={debug:0,host:Xr.CLOUD_HOST,port:Xr.CLOUD_PORT,path:"/",key:Uf.DEFAULT_KEY,token:Xr.randomToken(),config:Xr.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...h},this._options=h,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Xr.CLOUD_HOST?this._options.secure=Xr.isSecure():this._options.host==Xr.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&qe.setLogFunction(this._options.logFunction),qe.logLevel=this._options.debug||0,this._api=new Vm(h),this._socket=this._createServerConnection(),!Xr.supports.audioVideo&&!Xr.supports.data){this._delayedAbort(Jn.BrowserIncompatible,"The current browser does not support WebRTC");return}if(g&&!Xr.validateId(g)){this._delayedAbort(Jn.InvalidID,`ID "${g}" is invalid`);return}g?this._initialize(g):this._api.retrieveId().then(y=>this._initialize(y)).catch(y=>this._abort(Jn.ServerError,y))}_createServerConnection(){const f=new Hm(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return f.on(ds.Message,h=>{this._handleMessage(h)}),f.on(ds.Error,h=>{this._abort(Jn.SocketError,h)}),f.on(ds.Disconnected,()=>{this.disconnected||(this.emitError(Jn.Network,"Lost connection to server."),this.disconnect())}),f.on(ds.Close,()=>{this.disconnected||this._abort(Jn.SocketClosed,"Underlying socket is already closed.")}),f}_initialize(f){this._id=f,this.socket.start(f,this._options.token)}_handleMessage(f){const h=f.type,g=f.payload,y=f.src;switch(h){case Tr.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Tr.Error:this._abort(Jn.ServerError,g.msg);break;case Tr.IdTaken:this._abort(Jn.UnavailableID,`ID "${this.id}" is taken`);break;case Tr.InvalidKey:this._abort(Jn.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Tr.Leave:qe.log(`Received leave message from ${y}`),this._cleanupPeer(y),this._connections.delete(y);break;case Tr.Expire:this.emitError(Jn.PeerUnavailable,`Could not connect to peer ${y}`);break;case Tr.Offer:{const v=g.connectionId;let w=this.getConnection(y,v);if(w&&(w.close(),qe.warn(`Offer received for existing Connection ID:${v}`)),g.type===gs.Media){const N=new pc(y,this,{connectionId:v,_payload:g,metadata:g.metadata});w=N,this._addConnection(y,w),this.emit("call",N)}else if(g.type===gs.Data){const N=new this._serializers[g.serialization](y,this,{connectionId:v,_payload:g,metadata:g.metadata,label:g.label,serialization:g.serialization,reliable:g.reliable});w=N,this._addConnection(y,w),this.emit("connection",N)}else{qe.warn(`Received malformed connection type:${g.type}`);return}const T=this._getMessages(v);for(const N of T)w.handleMessage(N);break}default:{if(!g){qe.warn(`You received a malformed message from ${y} of type ${h}`);return}const v=g.connectionId,w=this.getConnection(y,v);w&&w.peerConnection?w.handleMessage(f):v?this._storeMessage(v,f):qe.warn("You received an unrecognized message:",f);break}}}_storeMessage(f,h){this._lostMessages.has(f)||this._lostMessages.set(f,[]),this._lostMessages.get(f).push(h)}_getMessages(f){const h=this._lostMessages.get(f);return h?(this._lostMessages.delete(f),h):[]}connect(f,h={}){if(h={serialization:"default",...h},this.disconnected){qe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(Jn.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const g=new this._serializers[h.serialization](f,this,h);return this._addConnection(f,g),g}call(f,h,g={}){if(this.disconnected){qe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(Jn.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!h){qe.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const y=new pc(f,this,{...g,_stream:h});return this._addConnection(f,y),y}_addConnection(f,h){qe.log(`add connection ${h.type}:${h.connectionId} to peerId:${f}`),this._connections.has(f)||this._connections.set(f,[]),this._connections.get(f).push(h)}_removeConnection(f){const h=this._connections.get(f.peer);if(h){const g=h.indexOf(f);g!==-1&&h.splice(g,1)}this._lostMessages.delete(f.connectionId)}getConnection(f,h){const g=this._connections.get(f);if(!g)return null;for(const y of g)if(y.connectionId===h)return y;return null}_delayedAbort(f,h){setTimeout(()=>{this._abort(f,h)},0)}_abort(f,h){qe.error("Aborting!"),this.emitError(f,h),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(qe.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const f of this._connections.keys())this._cleanupPeer(f),this._connections.delete(f);this.socket.removeAllListeners()}_cleanupPeer(f){const h=this._connections.get(f);if(h)for(const g of h)g.close()}disconnect(){if(this.disconnected)return;const f=this.id;qe.log(`Disconnect peer with ID:${f}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=f,this._id=null,this.emit("disconnected",f)}reconnect(){if(this.disconnected&&!this.destroyed)qe.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)qe.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(f=h=>{}){this._api.listAllPeers().then(h=>f(h)).catch(h=>this._abort(Jn.ServerError,h))}}var qm=Uf,uo={},ff={exports:{}},hf,id;function Km(){if(id)return hf;id=1;var p="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return hf=p,hf}var df,ad;function Qm(){if(ad)return df;ad=1;var p=Km();function f(){}function h(){}return h.resetWarningCache=f,df=function(){function g(w,T,N,E,I,D){if(D!==p){var X=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw X.name="Invariant Violation",X}}g.isRequired=g;function y(){return g}var v={array:g,bigint:g,bool:g,func:g,number:g,object:g,string:g,symbol:g,any:g,arrayOf:y,element:g,elementType:g,instanceOf:y,node:g,objectOf:y,oneOf:y,oneOfType:y,shape:y,exact:y,checkPropTypes:h,resetWarningCache:f};return v.PropTypes=v,v},df}var sd;function _g(){return sd||(sd=1,ff.exports=Qm()()),ff.exports}var gf,od;function Ng(){return od||(od=1,gf={L:1,M:0,Q:3,H:2}),gf}var pf,ld;function Rg(){return ld||(ld=1,pf={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),pf}var mf,cd;function Zm(){if(cd)return mf;cd=1;var p=Rg();function f(h){this.mode=p.MODE_8BIT_BYTE,this.data=h}return f.prototype={getLength:function(h){return this.data.length},write:function(h){for(var g=0;g<this.data.length;g++)h.put(this.data.charCodeAt(g),8)}},mf=f,mf}var xf,ud;function Wm(){if(ud)return xf;ud=1;var p=Ng();function f(h,g){this.totalCount=h,this.dataCount=g}return f.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],f.getRSBlocks=function(h,g){var y=f.getRsBlockTable(h,g);if(y==null)throw new Error("bad rs block @ typeNumber:"+h+"/errorCorrectLevel:"+g);for(var v=y.length/3,w=new Array,T=0;T<v;T++)for(var N=y[T*3+0],E=y[T*3+1],I=y[T*3+2],D=0;D<N;D++)w.push(new f(E,I));return w},f.getRsBlockTable=function(h,g){switch(g){case p.L:return f.RS_BLOCK_TABLE[(h-1)*4+0];case p.M:return f.RS_BLOCK_TABLE[(h-1)*4+1];case p.Q:return f.RS_BLOCK_TABLE[(h-1)*4+2];case p.H:return f.RS_BLOCK_TABLE[(h-1)*4+3];default:return}},xf=f,xf}var yf,fd;function Jm(){if(fd)return yf;fd=1;function p(){this.buffer=new Array,this.length=0}return p.prototype={get:function(f){var h=Math.floor(f/8);return(this.buffer[h]>>>7-f%8&1)==1},put:function(f,h){for(var g=0;g<h;g++)this.putBit((f>>>h-g-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(f){var h=Math.floor(this.length/8);this.buffer.length<=h&&this.buffer.push(0),f&&(this.buffer[h]|=128>>>this.length%8),this.length++}},yf=p,yf}var bf,hd;function Og(){if(hd)return bf;hd=1;for(var p={glog:function(h){if(h<1)throw new Error("glog("+h+")");return p.LOG_TABLE[h]},gexp:function(h){for(;h<0;)h+=255;for(;h>=256;)h-=255;return p.EXP_TABLE[h]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},f=0;f<8;f++)p.EXP_TABLE[f]=1<<f;for(var f=8;f<256;f++)p.EXP_TABLE[f]=p.EXP_TABLE[f-4]^p.EXP_TABLE[f-5]^p.EXP_TABLE[f-6]^p.EXP_TABLE[f-8];for(var f=0;f<255;f++)p.LOG_TABLE[p.EXP_TABLE[f]]=f;return bf=p,bf}var vf,dd;function Ig(){if(dd)return vf;dd=1;var p=Og();function f(h,g){if(h.length==null)throw new Error(h.length+"/"+g);for(var y=0;y<h.length&&h[y]==0;)y++;this.num=new Array(h.length-y+g);for(var v=0;v<h.length-y;v++)this.num[v]=h[v+y]}return f.prototype={get:function(h){return this.num[h]},getLength:function(){return this.num.length},multiply:function(h){for(var g=new Array(this.getLength()+h.getLength()-1),y=0;y<this.getLength();y++)for(var v=0;v<h.getLength();v++)g[y+v]^=p.gexp(p.glog(this.get(y))+p.glog(h.get(v)));return new f(g,0)},mod:function(h){if(this.getLength()-h.getLength()<0)return this;for(var g=p.glog(this.get(0))-p.glog(h.get(0)),y=new Array(this.getLength()),v=0;v<this.getLength();v++)y[v]=this.get(v);for(var v=0;v<h.getLength();v++)y[v]^=p.gexp(p.glog(h.get(v))+g);return new f(y,0).mod(h)}},vf=f,vf}var Cf,gd;function $m(){if(gd)return Cf;gd=1;var p=Rg(),f=Ig(),h=Og(),g={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},y={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(v){for(var w=v<<10;y.getBCHDigit(w)-y.getBCHDigit(y.G15)>=0;)w^=y.G15<<y.getBCHDigit(w)-y.getBCHDigit(y.G15);return(v<<10|w)^y.G15_MASK},getBCHTypeNumber:function(v){for(var w=v<<12;y.getBCHDigit(w)-y.getBCHDigit(y.G18)>=0;)w^=y.G18<<y.getBCHDigit(w)-y.getBCHDigit(y.G18);return v<<12|w},getBCHDigit:function(v){for(var w=0;v!=0;)w++,v>>>=1;return w},getPatternPosition:function(v){return y.PATTERN_POSITION_TABLE[v-1]},getMask:function(v,w,T){switch(v){case g.PATTERN000:return(w+T)%2==0;case g.PATTERN001:return w%2==0;case g.PATTERN010:return T%3==0;case g.PATTERN011:return(w+T)%3==0;case g.PATTERN100:return(Math.floor(w/2)+Math.floor(T/3))%2==0;case g.PATTERN101:return w*T%2+w*T%3==0;case g.PATTERN110:return(w*T%2+w*T%3)%2==0;case g.PATTERN111:return(w*T%3+(w+T)%2)%2==0;default:throw new Error("bad maskPattern:"+v)}},getErrorCorrectPolynomial:function(v){for(var w=new f([1],0),T=0;T<v;T++)w=w.multiply(new f([1,h.gexp(T)],0));return w},getLengthInBits:function(v,w){if(1<=w&&w<10)switch(v){case p.MODE_NUMBER:return 10;case p.MODE_ALPHA_NUM:return 9;case p.MODE_8BIT_BYTE:return 8;case p.MODE_KANJI:return 8;default:throw new Error("mode:"+v)}else if(w<27)switch(v){case p.MODE_NUMBER:return 12;case p.MODE_ALPHA_NUM:return 11;case p.MODE_8BIT_BYTE:return 16;case p.MODE_KANJI:return 10;default:throw new Error("mode:"+v)}else if(w<41)switch(v){case p.MODE_NUMBER:return 14;case p.MODE_ALPHA_NUM:return 13;case p.MODE_8BIT_BYTE:return 16;case p.MODE_KANJI:return 12;default:throw new Error("mode:"+v)}else throw new Error("type:"+w)},getLostPoint:function(v){for(var w=v.getModuleCount(),T=0,N=0;N<w;N++)for(var E=0;E<w;E++){for(var I=0,D=v.isDark(N,E),X=-1;X<=1;X++)if(!(N+X<0||w<=N+X))for(var te=-1;te<=1;te++)E+te<0||w<=E+te||X==0&&te==0||D==v.isDark(N+X,E+te)&&I++;I>5&&(T+=3+I-5)}for(var N=0;N<w-1;N++)for(var E=0;E<w-1;E++){var ce=0;v.isDark(N,E)&&ce++,v.isDark(N+1,E)&&ce++,v.isDark(N,E+1)&&ce++,v.isDark(N+1,E+1)&&ce++,(ce==0||ce==4)&&(T+=3)}for(var N=0;N<w;N++)for(var E=0;E<w-6;E++)v.isDark(N,E)&&!v.isDark(N,E+1)&&v.isDark(N,E+2)&&v.isDark(N,E+3)&&v.isDark(N,E+4)&&!v.isDark(N,E+5)&&v.isDark(N,E+6)&&(T+=40);for(var E=0;E<w;E++)for(var N=0;N<w-6;N++)v.isDark(N,E)&&!v.isDark(N+1,E)&&v.isDark(N+2,E)&&v.isDark(N+3,E)&&v.isDark(N+4,E)&&!v.isDark(N+5,E)&&v.isDark(N+6,E)&&(T+=40);for(var ue=0,E=0;E<w;E++)for(var N=0;N<w;N++)v.isDark(N,E)&&ue++;var Le=Math.abs(100*ue/w/w-50)/5;return T+=Le*10,T}};return Cf=y,Cf}var Ef,pd;function ex(){if(pd)return Ef;pd=1;var p=Zm(),f=Wm(),h=Jm(),g=$m(),y=Ig();function v(T,N){this.typeNumber=T,this.errorCorrectLevel=N,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var w=v.prototype;return w.addData=function(T){var N=new p(T);this.dataList.push(N),this.dataCache=null},w.isDark=function(T,N){if(T<0||this.moduleCount<=T||N<0||this.moduleCount<=N)throw new Error(T+","+N);return this.modules[T][N]},w.getModuleCount=function(){return this.moduleCount},w.make=function(){if(this.typeNumber<1){var T=1;for(T=1;T<40;T++){for(var N=f.getRSBlocks(T,this.errorCorrectLevel),E=new h,I=0,D=0;D<N.length;D++)I+=N[D].dataCount;for(var D=0;D<this.dataList.length;D++){var X=this.dataList[D];E.put(X.mode,4),E.put(X.getLength(),g.getLengthInBits(X.mode,T)),X.write(E)}if(E.getLengthInBits()<=I*8)break}this.typeNumber=T}this.makeImpl(!1,this.getBestMaskPattern())},w.makeImpl=function(T,N){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var E=0;E<this.moduleCount;E++){this.modules[E]=new Array(this.moduleCount);for(var I=0;I<this.moduleCount;I++)this.modules[E][I]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(T,N),this.typeNumber>=7&&this.setupTypeNumber(T),this.dataCache==null&&(this.dataCache=v.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,N)},w.setupPositionProbePattern=function(T,N){for(var E=-1;E<=7;E++)if(!(T+E<=-1||this.moduleCount<=T+E))for(var I=-1;I<=7;I++)N+I<=-1||this.moduleCount<=N+I||(0<=E&&E<=6&&(I==0||I==6)||0<=I&&I<=6&&(E==0||E==6)||2<=E&&E<=4&&2<=I&&I<=4?this.modules[T+E][N+I]=!0:this.modules[T+E][N+I]=!1)},w.getBestMaskPattern=function(){for(var T=0,N=0,E=0;E<8;E++){this.makeImpl(!0,E);var I=g.getLostPoint(this);(E==0||T>I)&&(T=I,N=E)}return N},w.createMovieClip=function(T,N,E){var I=T.createEmptyMovieClip(N,E),D=1;this.make();for(var X=0;X<this.modules.length;X++)for(var te=X*D,ce=0;ce<this.modules[X].length;ce++){var ue=ce*D,Le=this.modules[X][ce];Le&&(I.beginFill(0,100),I.moveTo(ue,te),I.lineTo(ue+D,te),I.lineTo(ue+D,te+D),I.lineTo(ue,te+D),I.endFill())}return I},w.setupTimingPattern=function(){for(var T=8;T<this.moduleCount-8;T++)this.modules[T][6]==null&&(this.modules[T][6]=T%2==0);for(var N=8;N<this.moduleCount-8;N++)this.modules[6][N]==null&&(this.modules[6][N]=N%2==0)},w.setupPositionAdjustPattern=function(){for(var T=g.getPatternPosition(this.typeNumber),N=0;N<T.length;N++)for(var E=0;E<T.length;E++){var I=T[N],D=T[E];if(this.modules[I][D]==null)for(var X=-2;X<=2;X++)for(var te=-2;te<=2;te++)X==-2||X==2||te==-2||te==2||X==0&&te==0?this.modules[I+X][D+te]=!0:this.modules[I+X][D+te]=!1}},w.setupTypeNumber=function(T){for(var N=g.getBCHTypeNumber(this.typeNumber),E=0;E<18;E++){var I=!T&&(N>>E&1)==1;this.modules[Math.floor(E/3)][E%3+this.moduleCount-8-3]=I}for(var E=0;E<18;E++){var I=!T&&(N>>E&1)==1;this.modules[E%3+this.moduleCount-8-3][Math.floor(E/3)]=I}},w.setupTypeInfo=function(T,N){for(var E=this.errorCorrectLevel<<3|N,I=g.getBCHTypeInfo(E),D=0;D<15;D++){var X=!T&&(I>>D&1)==1;D<6?this.modules[D][8]=X:D<8?this.modules[D+1][8]=X:this.modules[this.moduleCount-15+D][8]=X}for(var D=0;D<15;D++){var X=!T&&(I>>D&1)==1;D<8?this.modules[8][this.moduleCount-D-1]=X:D<9?this.modules[8][15-D-1+1]=X:this.modules[8][15-D-1]=X}this.modules[this.moduleCount-8][8]=!T},w.mapData=function(T,N){for(var E=-1,I=this.moduleCount-1,D=7,X=0,te=this.moduleCount-1;te>0;te-=2)for(te==6&&te--;;){for(var ce=0;ce<2;ce++)if(this.modules[I][te-ce]==null){var ue=!1;X<T.length&&(ue=(T[X]>>>D&1)==1);var Le=g.getMask(N,I,te-ce);Le&&(ue=!ue),this.modules[I][te-ce]=ue,D--,D==-1&&(X++,D=7)}if(I+=E,I<0||this.moduleCount<=I){I-=E,E=-E;break}}},v.PAD0=236,v.PAD1=17,v.createData=function(T,N,E){for(var I=f.getRSBlocks(T,N),D=new h,X=0;X<E.length;X++){var te=E[X];D.put(te.mode,4),D.put(te.getLength(),g.getLengthInBits(te.mode,T)),te.write(D)}for(var ce=0,X=0;X<I.length;X++)ce+=I[X].dataCount;if(D.getLengthInBits()>ce*8)throw new Error("code length overflow. ("+D.getLengthInBits()+">"+ce*8+")");for(D.getLengthInBits()+4<=ce*8&&D.put(0,4);D.getLengthInBits()%8!=0;)D.putBit(!1);for(;!(D.getLengthInBits()>=ce*8||(D.put(v.PAD0,8),D.getLengthInBits()>=ce*8));)D.put(v.PAD1,8);return v.createBytes(D,I)},v.createBytes=function(T,N){for(var E=0,I=0,D=0,X=new Array(N.length),te=new Array(N.length),ce=0;ce<N.length;ce++){var ue=N[ce].dataCount,Le=N[ce].totalCount-ue;I=Math.max(I,ue),D=Math.max(D,Le),X[ce]=new Array(ue);for(var je=0;je<X[ce].length;je++)X[ce][je]=255&T.buffer[je+E];E+=ue;var Pe=g.getErrorCorrectPolynomial(Le),Oe=new y(X[ce],Pe.getLength()-1),Ge=Oe.mod(Pe);te[ce]=new Array(Pe.getLength()-1);for(var je=0;je<te[ce].length;je++){var Me=je+Ge.getLength()-te[ce].length;te[ce][je]=Me>=0?Ge.get(Me):0}}for(var Ve=0,je=0;je<N.length;je++)Ve+=N[je].totalCount;for(var fe=new Array(Ve),Je=0,je=0;je<I;je++)for(var ce=0;ce<N.length;ce++)je<X[ce].length&&(fe[Je++]=X[ce][je]);for(var je=0;je<D;je++)for(var ce=0;ce<N.length;ce++)je<te[ce].length&&(fe[Je++]=te[ce][je]);return fe},Ef=v,Ef}var sc={},md;function tx(){if(md)return sc;md=1,Object.defineProperty(sc,"__esModule",{value:!0});var p=Object.assign||function(E){for(var I=1;I<arguments.length;I++){var D=arguments[I];for(var X in D)Object.prototype.hasOwnProperty.call(D,X)&&(E[X]=D[X])}return E},f=_g(),h=v(f),g=cl(),y=v(g);function v(E){return E&&E.__esModule?E:{default:E}}function w(E,I){var D={};for(var X in E)I.indexOf(X)>=0||Object.prototype.hasOwnProperty.call(E,X)&&(D[X]=E[X]);return D}var T={bgColor:h.default.oneOfType([h.default.object,h.default.string]).isRequired,bgD:h.default.string.isRequired,fgColor:h.default.oneOfType([h.default.object,h.default.string]).isRequired,fgD:h.default.string.isRequired,size:h.default.number.isRequired,title:h.default.string,viewBoxSize:h.default.number.isRequired,xmlns:h.default.string},N=(0,g.forwardRef)(function(E,I){var D=E.bgColor,X=E.bgD,te=E.fgD,ce=E.fgColor,ue=E.size,Le=E.title,je=E.viewBoxSize,Pe=E.xmlns,Oe=Pe===void 0?"http://www.w3.org/2000/svg":Pe,Ge=w(E,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return y.default.createElement("svg",p({},Ge,{height:ue,ref:I,viewBox:"0 0 "+je+" "+je,width:ue,xmlns:Oe}),Le?y.default.createElement("title",null,Le):null,y.default.createElement("path",{d:X,fill:D}),y.default.createElement("path",{d:te,fill:ce}))});return N.displayName="QRCodeSvg",N.propTypes=T,sc.default=N,sc}var xd;function nx(){if(xd)return uo;xd=1,Object.defineProperty(uo,"__esModule",{value:!0}),uo.QRCode=void 0;var p=Object.assign||function(ue){for(var Le=1;Le<arguments.length;Le++){var je=arguments[Le];for(var Pe in je)Object.prototype.hasOwnProperty.call(je,Pe)&&(ue[Pe]=je[Pe])}return ue},f=_g(),h=D(f),g=Ng(),y=D(g),v=ex(),w=D(v),T=cl(),N=D(T),E=tx(),I=D(E);function D(ue){return ue&&ue.__esModule?ue:{default:ue}}function X(ue,Le){var je={};for(var Pe in ue)Le.indexOf(Pe)>=0||Object.prototype.hasOwnProperty.call(ue,Pe)&&(je[Pe]=ue[Pe]);return je}var te={bgColor:h.default.oneOfType([h.default.object,h.default.string]),fgColor:h.default.oneOfType([h.default.object,h.default.string]),level:h.default.string,size:h.default.number,value:h.default.string.isRequired},ce=(0,T.forwardRef)(function(ue,Le){var je=ue.bgColor,Pe=je===void 0?"#FFFFFF":je,Oe=ue.fgColor,Ge=Oe===void 0?"#000000":Oe,Me=ue.level,Ve=Me===void 0?"L":Me,fe=ue.size,Je=fe===void 0?256:fe,be=ue.value,Nn=X(ue,["bgColor","fgColor","level","size","value"]),Pt=new w.default(-1,y.default[Ve]);Pt.addData(be),Pt.make();var De=Pt.modules;return N.default.createElement(I.default,p({},Nn,{bgColor:Pe,bgD:De.map(function(tt,It){return tt.map(function(re,ie){return re?"":"M "+ie+" "+It+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:Ge,fgD:De.map(function(tt,It){return tt.map(function(re,ie){return re?"M "+ie+" "+It+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:Le,size:Je,viewBoxSize:De.length}))});return uo.QRCode=ce,ce.displayName="QRCode",ce.propTypes=te,uo.default=ce,uo}var rx=nx();const ix=po(rx);var He;(function(p){p[p.QR_CODE=0]="QR_CODE",p[p.AZTEC=1]="AZTEC",p[p.CODABAR=2]="CODABAR",p[p.CODE_39=3]="CODE_39",p[p.CODE_93=4]="CODE_93",p[p.CODE_128=5]="CODE_128",p[p.DATA_MATRIX=6]="DATA_MATRIX",p[p.MAXICODE=7]="MAXICODE",p[p.ITF=8]="ITF",p[p.EAN_13=9]="EAN_13",p[p.EAN_8=10]="EAN_8",p[p.PDF_417=11]="PDF_417",p[p.RSS_14=12]="RSS_14",p[p.RSS_EXPANDED=13]="RSS_EXPANDED",p[p.UPC_A=14]="UPC_A",p[p.UPC_E=15]="UPC_E",p[p.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(He||(He={}));var yd=new Map([[He.QR_CODE,"QR_CODE"],[He.AZTEC,"AZTEC"],[He.CODABAR,"CODABAR"],[He.CODE_39,"CODE_39"],[He.CODE_93,"CODE_93"],[He.CODE_128,"CODE_128"],[He.DATA_MATRIX,"DATA_MATRIX"],[He.MAXICODE,"MAXICODE"],[He.ITF,"ITF"],[He.EAN_13,"EAN_13"],[He.EAN_8,"EAN_8"],[He.PDF_417,"PDF_417"],[He.RSS_14,"RSS_14"],[He.RSS_EXPANDED,"RSS_EXPANDED"],[He.UPC_A,"UPC_A"],[He.UPC_E,"UPC_E"],[He.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),bd;(function(p){p[p.UNKNOWN=0]="UNKNOWN",p[p.URL=1]="URL"})(bd||(bd={}));function ax(p){return Object.values(He).includes(p)}var ps;(function(p){p[p.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",p[p.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ps||(ps={}));var Yi=function(){function p(){}return p.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",p.SCAN_DEFAULT_FPS=2,p.DEFAULT_DISABLE_FLIP=!1,p.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,p.DEFAULT_SUPPORTED_SCAN_TYPE=[ps.SCAN_TYPE_CAMERA,ps.SCAN_TYPE_FILE],p}(),Mg=function(){function p(f,h){this.format=f,this.formatName=h}return p.prototype.toString=function(){return this.formatName},p.create=function(f){if(!yd.has(f))throw"".concat(f," not in html5QrcodeSupportedFormatsTextMap");return new p(f,yd.get(f))},p}(),vd=function(){function p(){}return p.createFromText=function(f){var h={text:f};return{decodedText:f,result:h}},p.createFromQrcodeResult=function(f){return{decodedText:f.text,result:f}},p}(),Df;(function(p){p[p.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",p[p.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",p[p.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Df||(Df={}));var Dg=function(){function p(){}return p.createFrom=function(f){return{errorMessage:f,type:Df.UNKWOWN_ERROR}},p}(),kg=function(){function p(f){this.verbose=f}return p.prototype.log=function(f){this.verbose&&console.log(f)},p.prototype.warn=function(f){this.verbose&&console.warn(f)},p.prototype.logError=function(f,h){(this.verbose||h===!0)&&console.error(f)},p.prototype.logErrors=function(f){if(f.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(f)},p}();function fa(p){return typeof p>"u"||p===null}function sx(p,f,h){return p>h?h:p<f?f:p}var ho=function(){function p(){}return p.codeParseError=function(f){return"QR code parse error, error = ".concat(f)},p.errorGettingUserMedia=function(f){return"Error getting userMedia, error = ".concat(f)},p.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},p.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},p.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},p.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},p.scannerPaused=function(){return"Scanner paused"},p}(),nn=function(){function p(){}return p.scanningStatus=function(){return"Scanning"},p.idleStatus=function(){return"Idle"},p.errorStatus=function(){return"Error"},p.permissionStatus=function(){return"Permission"},p.noCameraFoundErrorStatus=function(){return"No Cameras"},p.lastMatch=function(f){return"Last Match: ".concat(f)},p.codeScannerTitle=function(){return"Code Scanner"},p.cameraPermissionTitle=function(){return"Request Camera Permissions"},p.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},p.noCameraFound=function(){return"No camera found"},p.scanButtonStopScanningText=function(){return"Stop Scanning"},p.scanButtonStartScanningText=function(){return"Start Scanning"},p.torchOnButton=function(){return"Switch On Torch"},p.torchOffButton=function(){return"Switch Off Torch"},p.torchOnFailedMessage=function(){return"Failed to turn on torch"},p.torchOffFailedMessage=function(){return"Failed to turn off torch"},p.scanButtonScanningStarting=function(){return"Launching Camera..."},p.textIfCameraScanSelected=function(){return"Scan an Image File"},p.textIfFileScanSelected=function(){return"Scan using camera directly"},p.selectCamera=function(){return"Select Camera"},p.fileSelectionChooseImage=function(){return"Choose Image"},p.fileSelectionChooseAnother=function(){return"Choose Another"},p.fileSelectionNoImageSelected=function(){return"No image choosen"},p.anonymousCameraPrefix=function(){return"Anonymous Camera"},p.dragAndDropMessage=function(){return"Or drop an image to scan"},p.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},p.zoom=function(){return"zoom"},p.loadingImage=function(){return"Loading image..."},p.cameraScanAltText=function(){return"Camera based scan"},p.fileScanAltText=function(){return"Fule based scan"},p}(),Cd=function(){function p(){}return p.poweredBy=function(){return"Powered by "},p.reportIssues=function(){return"Report issues"},p}(),Bg=function(){function p(){}return p.isMediaStreamConstraintsValid=function(f,h){if(typeof f!="object"){var g=typeof f;return h.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(g,"."),!0),!1}for(var y=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],v=new Set(y),w=Object.keys(f),T=0,N=w;T<N.length;T++){var E=N[T];if(v.has(E))return h.logError("".concat(E," is not supported videoConstaints."),!0),!1}return!0},p}(),sl={exports:{}},ox=sl.exports,Ed;function lx(){return Ed||(Ed=1,function(p,f){(function(h,g){g(f)})(ox,function(h){function g(O){return O==null}var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,t){O.__proto__=t}||function(O,t){for(var i in t)t.hasOwnProperty(i)&&(O[i]=t[i])};function v(O,t){y(O,t);function i(){this.constructor=O}O.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}function w(O,t){var i=Object.setPrototypeOf;i?i(O,t):O.__proto__=t}function T(O,t){t===void 0&&(t=O.constructor);var i=Error.captureStackTrace;i&&i(O,t)}var N=function(O){v(t,O);function t(i){var s=this.constructor,l=O.call(this,i)||this;return Object.defineProperty(l,"name",{value:s.name,enumerable:!1}),w(l,s.prototype),T(l),l}return t}(Error);class E extends N{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}E.kind="Exception";class I extends E{}I.kind="ArgumentException";class D extends E{}D.kind="IllegalArgumentException";class X{constructor(t){if(this.binarizer=t,t===null)throw new D("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,i){return this.binarizer.getBlackRow(t,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,i,s,l){const r=this.binarizer.getLuminanceSource().crop(t,i,s,l);return new X(this.binarizer.createBinarizer(r))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new X(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new X(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class te extends E{static getChecksumInstance(){return new te}}te.kind="ChecksumException";class ce{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class ue{static arraycopy(t,i,s,l,r){for(;r--;)s[l++]=t[i++]}static currentTimeMillis(){return Date.now()}}class Le extends E{}Le.kind="IndexOutOfBoundsException";class je extends Le{constructor(t=void 0,i=void 0){super(i),this.index=t,this.message=i}}je.kind="ArrayIndexOutOfBoundsException";class Pe{static fill(t,i){for(let s=0,l=t.length;s<l;s++)t[s]=i}static fillWithin(t,i,s,l){Pe.rangeCheck(t.length,i,s);for(let r=i;r<s;r++)t[r]=l}static rangeCheck(t,i,s){if(i>s)throw new D("fromIndex("+i+") > toIndex("+s+")");if(i<0)throw new je(i);if(s>t)throw new je(s)}static asList(...t){return t}static create(t,i,s){return Array.from({length:t}).map(r=>Array.from({length:i}).fill(s))}static createInt32Array(t,i,s){return Array.from({length:t}).map(r=>Int32Array.from({length:i}).fill(s))}static equals(t,i){if(!t||!i||!t.length||!i.length||t.length!==i.length)return!1;for(let s=0,l=t.length;s<l;s++)if(t[s]!==i[s])return!1;return!0}static hashCode(t){if(t===null)return 0;let i=1;for(const s of t)i=31*i+s;return i}static fillUint8Array(t,i){for(let s=0;s!==t.length;s++)t[s]=i}static copyOf(t,i){return t.slice(0,i)}static copyOfUint8Array(t,i){if(t.length<=i){const s=new Uint8Array(i);return s.set(t),s}return t.slice(0,i)}static copyOfRange(t,i,s){const l=s-i,r=new Int32Array(l);return ue.arraycopy(t,i,r,0,l),r}static binarySearch(t,i,s){s===void 0&&(s=Pe.numberComparator);let l=0,r=t.length-1;for(;l<=r;){const a=r+l>>1,c=s(i,t[a]);if(c>0)l=a+1;else if(c<0)r=a-1;else return a}return-l-1}static numberComparator(t,i){return t-i}}class Oe{static numberOfTrailingZeros(t){let i;if(t===0)return 32;let s=31;return i=t<<16,i!==0&&(s-=16,t=i),i=t<<8,i!==0&&(s-=8,t=i),i=t<<4,i!==0&&(s-=4,t=i),i=t<<2,i!==0&&(s-=2,t=i),s-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let i=1;return t>>>16||(i+=16,t<<=16),t>>>24||(i+=8,t<<=8),t>>>28||(i+=4,t<<=4),t>>>30||(i+=2,t<<=2),i-=t>>>31,i}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,i){return Math.trunc(t/i)}static parseInt(t,i=void 0){return parseInt(t,i)}}Oe.MIN_VALUE_32_BITS=-2147483648,Oe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ge{constructor(t,i){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,i==null?this.bits=Ge.makeArray(t):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const i=Ge.makeArray(t);ue.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const i=this.size;if(t>=i)return i;const s=this.bits;let l=Math.floor(t/32),r=s[l];r&=~((1<<(t&31))-1);const a=s.length;for(;r===0;){if(++l===a)return i;r=s[l]}const c=l*32+Oe.numberOfTrailingZeros(r);return c>i?i:c}getNextUnset(t){const i=this.size;if(t>=i)return i;const s=this.bits;let l=Math.floor(t/32),r=~s[l];r&=~((1<<(t&31))-1);const a=s.length;for(;r===0;){if(++l===a)return i;r=~s[l]}const c=l*32+Oe.numberOfTrailingZeros(r);return c>i?i:c}setBulk(t,i){this.bits[Math.floor(t/32)]=i}setRange(t,i){if(i<t||t<0||i>this.size)throw new D;if(i===t)return;i--;const s=Math.floor(t/32),l=Math.floor(i/32),r=this.bits;for(let a=s;a<=l;a++){const c=a>s?0:t&31,m=(2<<(a<l?31:i&31))-(1<<c);r[a]|=m}}clear(){const t=this.bits.length,i=this.bits;for(let s=0;s<t;s++)i[s]=0}isRange(t,i,s){if(i<t||t<0||i>this.size)throw new D;if(i===t)return!0;i--;const l=Math.floor(t/32),r=Math.floor(i/32),a=this.bits;for(let c=l;c<=r;c++){const d=c>l?0:t&31,b=(2<<(c<r?31:i&31))-(1<<d)&4294967295;if((a[c]&b)!==(s?b:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,i){if(i<0||i>32)throw new D("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let s=i;s>0;s--)this.appendBit((t>>s-1&1)===1)}appendBitArray(t){const i=t.size;this.ensureCapacity(this.size+i);for(let s=0;s<i;s++)this.appendBit(t.get(s))}xor(t){if(this.size!==t.size)throw new D("Sizes don't match");const i=this.bits;for(let s=0,l=i.length;s<l;s++)i[s]^=t.bits[s]}toBytes(t,i,s,l){for(let r=0;r<l;r++){let a=0;for(let c=0;c<8;c++)this.get(t)&&(a|=1<<7-c),t++;i[s+r]=a}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),s=i+1,l=this.bits;for(let r=0;r<s;r++){let a=l[r];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,t[i-r]=a}if(this.size!==s*32){const r=s*32-this.size;let a=t[0]>>>r;for(let c=1;c<s;c++){const d=t[c];a|=d<<32-r,t[c-1]=a,a=d>>>r}t[s-1]=a}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof Ge))return!1;const i=t;return this.size===i.size&&Pe.equals(this.bits,i.bits)}hashCode(){return 31*this.size+Pe.hashCode(this.bits)}toString(){let t="";for(let i=0,s=this.size;i<s;i++)(i&7)===0&&(t+=" "),t+=this.get(i)?"X":".";return t}clone(){return new Ge(this.size,this.bits.slice())}}var Me;(function(O){O[O.OTHER=0]="OTHER",O[O.PURE_BARCODE=1]="PURE_BARCODE",O[O.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",O[O.TRY_HARDER=3]="TRY_HARDER",O[O.CHARACTER_SET=4]="CHARACTER_SET",O[O.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",O[O.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",O[O.ASSUME_GS1=7]="ASSUME_GS1",O[O.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",O[O.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",O[O.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Me||(Me={}));var Ve=Me;class fe extends E{static getFormatInstance(){return new fe}}fe.kind="FormatException";var Je;(function(O){O[O.Cp437=0]="Cp437",O[O.ISO8859_1=1]="ISO8859_1",O[O.ISO8859_2=2]="ISO8859_2",O[O.ISO8859_3=3]="ISO8859_3",O[O.ISO8859_4=4]="ISO8859_4",O[O.ISO8859_5=5]="ISO8859_5",O[O.ISO8859_6=6]="ISO8859_6",O[O.ISO8859_7=7]="ISO8859_7",O[O.ISO8859_8=8]="ISO8859_8",O[O.ISO8859_9=9]="ISO8859_9",O[O.ISO8859_10=10]="ISO8859_10",O[O.ISO8859_11=11]="ISO8859_11",O[O.ISO8859_13=12]="ISO8859_13",O[O.ISO8859_14=13]="ISO8859_14",O[O.ISO8859_15=14]="ISO8859_15",O[O.ISO8859_16=15]="ISO8859_16",O[O.SJIS=16]="SJIS",O[O.Cp1250=17]="Cp1250",O[O.Cp1251=18]="Cp1251",O[O.Cp1252=19]="Cp1252",O[O.Cp1256=20]="Cp1256",O[O.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",O[O.UTF8=22]="UTF8",O[O.ASCII=23]="ASCII",O[O.Big5=24]="Big5",O[O.GB18030=25]="GB18030",O[O.EUC_KR=26]="EUC_KR"})(Je||(Je={}));class be{constructor(t,i,s,...l){this.valueIdentifier=t,this.name=s,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=l,be.VALUE_IDENTIFIER_TO_ECI.set(t,this),be.NAME_TO_ECI.set(s,this);const r=this.values;for(let a=0,c=r.length;a!==c;a++){const d=r[a];be.VALUES_TO_ECI.set(d,this)}for(const a of l)be.NAME_TO_ECI.set(a,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new fe("incorect value");const i=be.VALUES_TO_ECI.get(t);if(i===void 0)throw new fe("incorect value");return i}static getCharacterSetECIByName(t){const i=be.NAME_TO_ECI.get(t);if(i===void 0)throw new fe("incorect value");return i}equals(t){if(!(t instanceof be))return!1;const i=t;return this.getName()===i.getName()}}be.VALUE_IDENTIFIER_TO_ECI=new Map,be.VALUES_TO_ECI=new Map,be.NAME_TO_ECI=new Map,be.Cp437=new be(Je.Cp437,Int32Array.from([0,2]),"Cp437"),be.ISO8859_1=new be(Je.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),be.ISO8859_2=new be(Je.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),be.ISO8859_3=new be(Je.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),be.ISO8859_4=new be(Je.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),be.ISO8859_5=new be(Je.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),be.ISO8859_6=new be(Je.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),be.ISO8859_7=new be(Je.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),be.ISO8859_8=new be(Je.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),be.ISO8859_9=new be(Je.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),be.ISO8859_10=new be(Je.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),be.ISO8859_11=new be(Je.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),be.ISO8859_13=new be(Je.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),be.ISO8859_14=new be(Je.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),be.ISO8859_15=new be(Je.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),be.ISO8859_16=new be(Je.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),be.SJIS=new be(Je.SJIS,20,"SJIS","Shift_JIS"),be.Cp1250=new be(Je.Cp1250,21,"Cp1250","windows-1250"),be.Cp1251=new be(Je.Cp1251,22,"Cp1251","windows-1251"),be.Cp1252=new be(Je.Cp1252,23,"Cp1252","windows-1252"),be.Cp1256=new be(Je.Cp1256,24,"Cp1256","windows-1256"),be.UnicodeBigUnmarked=new be(Je.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),be.UTF8=new be(Je.UTF8,26,"UTF8","UTF-8"),be.ASCII=new be(Je.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),be.Big5=new be(Je.Big5,28,"Big5"),be.GB18030=new be(Je.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),be.EUC_KR=new be(Je.EUC_KR,30,"EUC_KR","EUC-KR");class Nn extends E{}Nn.kind="UnsupportedOperationException";class Pt{static decode(t,i){const s=this.encodingName(i);return this.customDecoder?this.customDecoder(t,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(t,s):new TextDecoder(s).decode(t)}static shouldDecodeOnFallback(t){return!Pt.isBrowser()&&t==="ISO-8859-1"}static encode(t,i){const s=this.encodingName(i);return this.customEncoder?this.customEncoder(t,s):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof be?t:be.getCharacterSetECIByName(t)}static decodeFallback(t,i){const s=this.encodingCharacterSet(i);if(Pt.isDecodeFallbackSupported(s)){let l="";for(let r=0,a=t.length;r<a;r++){let c=t[r].toString(16);c.length<2&&(c="0"+c),l+="%"+c}return decodeURIComponent(l)}if(s.equals(be.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Nn(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(be.UTF8)||t.equals(be.ISO8859_1)||t.equals(be.ASCII)}static encodeFallback(t){const s=btoa(unescape(encodeURIComponent(t))).split(""),l=[];for(let r=0;r<s.length;r++)l.push(s[r].charCodeAt(0));return new Uint8Array(l)}}class De{static castAsNonUtf8Char(t,i=null){const s=i?i.getName():this.ISO88591;return Pt.decode(new Uint8Array([t]),s)}static guessEncoding(t,i){if(i!=null&&i.get(Ve.CHARACTER_SET)!==void 0)return i.get(Ve.CHARACTER_SET).toString();const s=t.length;let l=!0,r=!0,a=!0,c=0,d=0,m=0,b=0,A=0,S=0,_=0,M=0,B=0,k=0,P=0;const U=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let z=0;z<s&&(l||r||a);z++){const F=t[z]&255;a&&(c>0?(F&128)===0?a=!1:c--:(F&128)!==0&&((F&64)===0?a=!1:(c++,(F&32)===0?d++:(c++,(F&16)===0?m++:(c++,(F&8)===0?b++:a=!1))))),l&&(F>127&&F<160?l=!1:F>159&&(F<192||F===215||F===247)&&P++),r&&(A>0?F<64||F===127||F>252?r=!1:A--:F===128||F===160||F>239?r=!1:F>160&&F<224?(S++,M=0,_++,_>B&&(B=_)):F>127?(A++,_=0,M++,M>k&&(k=M)):(_=0,M=0))}return a&&c>0&&(a=!1),r&&A>0&&(r=!1),a&&(U||d+m+b>0)?De.UTF8:r&&(De.ASSUME_SHIFT_JIS||B>=3||k>=3)?De.SHIFT_JIS:l&&r?B===2&&S===2||P*10>=s?De.SHIFT_JIS:De.ISO88591:l?De.ISO88591:r?De.SHIFT_JIS:a?De.UTF8:De.PLATFORM_DEFAULT_ENCODING}static format(t,...i){let s=-1;function l(a,c,d,m,b,A){if(a==="%%")return"%";if(i[++s]===void 0)return;a=m?parseInt(m.substr(1)):void 0;let S=b?parseInt(b.substr(1)):void 0,_;switch(A){case"s":_=i[s];break;case"c":_=i[s][0];break;case"f":_=parseFloat(i[s]).toFixed(a);break;case"p":_=parseFloat(i[s]).toPrecision(a);break;case"e":_=parseFloat(i[s]).toExponential(a);break;case"x":_=parseInt(i[s]).toString(S||16);break;case"d":_=parseFloat(parseInt(i[s],S||10).toPrecision(a)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(S);let M=parseInt(d),B=d&&d[0]+""=="0"?"0":" ";for(;_.length<M;)_=c!==void 0?_+B:B+_;return _}let r=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(r,l)}static getBytes(t,i){return Pt.encode(t,i)}static getCharCode(t,i=0){return t.charCodeAt(i)}static getCharAt(t){return String.fromCharCode(t)}}De.SHIFT_JIS=be.SJIS.getName(),De.GB2312="GB2312",De.ISO88591=be.ISO8859_1.getName(),De.EUC_JP="EUC_JP",De.UTF8=be.UTF8.getName(),De.PLATFORM_DEFAULT_ENCODING=De.UTF8,De.ASSUME_SHIFT_JIS=!1;class tt{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=De.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,i,s){for(let l=i;i<i+s;l++)this.append(t[l]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+1)}substring(t,i){return this.value.substring(t,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+i.length)}}class It{constructor(t,i,s,l){if(this.width=t,this.height=i,this.rowSize=s,this.bits=l,i==null&&(i=t),this.height=i,t<1||i<1)throw new D("Both dimensions must be greater than 0");s==null&&(s=Math.floor((t+31)/32)),this.rowSize=s,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const i=t.length,s=t[0].length,l=new It(s,i);for(let r=0;r<i;r++){const a=t[r];for(let c=0;c<s;c++)a[c]&&l.set(c,r)}return l}static parseFromString(t,i,s){if(t===null)throw new D("stringRepresentation cannot be null");const l=new Array(t.length);let r=0,a=0,c=-1,d=0,m=0;for(;m<t.length;)if(t.charAt(m)===`
`||t.charAt(m)==="\r"){if(r>a){if(c===-1)c=r-a;else if(r-a!==c)throw new D("row lengths do not match");a=r,d++}m++}else if(t.substring(m,m+i.length)===i)m+=i.length,l[r]=!0,r++;else if(t.substring(m,m+s.length)===s)m+=s.length,l[r]=!1,r++;else throw new D("illegal character encountered: "+t.substring(m));if(r>a){if(c===-1)c=r-a;else if(r-a!==c)throw new D("row lengths do not match");d++}const b=new It(c,d);for(let A=0;A<r;A++)l[A]&&b.set(Math.floor(A%c),Math.floor(A/c));return b}get(t,i){const s=i*this.rowSize+Math.floor(t/32);return(this.bits[s]>>>(t&31)&1)!==0}set(t,i){const s=i*this.rowSize+Math.floor(t/32);this.bits[s]|=1<<(t&31)&4294967295}unset(t,i){const s=i*this.rowSize+Math.floor(t/32);this.bits[s]&=~(1<<(t&31)&4294967295)}flip(t,i){const s=i*this.rowSize+Math.floor(t/32);this.bits[s]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new D("input matrix dimensions do not match");const i=new Ge(Math.floor(this.width/32)+1),s=this.rowSize,l=this.bits;for(let r=0,a=this.height;r<a;r++){const c=r*s,d=t.getRow(r,i).getBitArray();for(let m=0;m<s;m++)l[c+m]^=d[m]}}clear(){const t=this.bits,i=t.length;for(let s=0;s<i;s++)t[s]=0}setRegion(t,i,s,l){if(i<0||t<0)throw new D("Left and top must be nonnegative");if(l<1||s<1)throw new D("Height and width must be at least 1");const r=t+s,a=i+l;if(a>this.height||r>this.width)throw new D("The region must fit inside the matrix");const c=this.rowSize,d=this.bits;for(let m=i;m<a;m++){const b=m*c;for(let A=t;A<r;A++)d[b+Math.floor(A/32)]|=1<<(A&31)&4294967295}}getRow(t,i){i==null||i.getSize()<this.width?i=new Ge(this.width):i.clear();const s=this.rowSize,l=this.bits,r=t*s;for(let a=0;a<s;a++)i.setBulk(a*32,l[r+a]);return i}setRow(t,i){ue.arraycopy(i.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),i=this.getHeight();let s=new Ge(t),l=new Ge(t);for(let r=0,a=Math.floor((i+1)/2);r<a;r++)s=this.getRow(r,s),l=this.getRow(i-1-r,l),s.reverse(),l.reverse(),this.setRow(r,l),this.setRow(i-1-r,s)}getEnclosingRectangle(){const t=this.width,i=this.height,s=this.rowSize,l=this.bits;let r=t,a=i,c=-1,d=-1;for(let m=0;m<i;m++)for(let b=0;b<s;b++){const A=l[m*s+b];if(A!==0){if(m<a&&(a=m),m>d&&(d=m),b*32<r){let S=0;for(;(A<<31-S&4294967295)===0;)S++;b*32+S<r&&(r=b*32+S)}if(b*32+31>c){let S=31;for(;!(A>>>S);)S--;b*32+S>c&&(c=b*32+S)}}}return c<r||d<a?null:Int32Array.from([r,a,c-r+1,d-a+1])}getTopLeftOnBit(){const t=this.rowSize,i=this.bits;let s=0;for(;s<i.length&&i[s]===0;)s++;if(s===i.length)return null;const l=s/t;let r=s%t*32;const a=i[s];let c=0;for(;(a<<31-c&4294967295)===0;)c++;return r+=c,Int32Array.from([r,l])}getBottomRightOnBit(){const t=this.rowSize,i=this.bits;let s=i.length-1;for(;s>=0&&i[s]===0;)s--;if(s<0)return null;const l=Math.floor(s/t);let r=Math.floor(s%t)*32;const a=i[s];let c=31;for(;!(a>>>c);)c--;return r+=c,Int32Array.from([r,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof It))return!1;const i=t;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&Pe.equals(this.bits,i.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+Pe.hashCode(this.bits),t}toString(t="X ",i="  ",s=`
`){return this.buildToString(t,i,s)}buildToString(t,i,s){let l=new tt;for(let r=0,a=this.height;r<a;r++){for(let c=0,d=this.width;c<d;c++)l.append(this.get(c,r)?t:i);l.append(s)}return l.toString()}clone(){return new It(this.width,this.height,this.rowSize,this.bits.slice())}}class re extends E{static getNotFoundInstance(){return new re}}re.kind="NotFoundException";class ie extends ce{constructor(t){super(t),this.luminances=ie.EMPTY,this.buckets=new Int32Array(ie.LUMINANCE_BUCKETS)}getBlackRow(t,i){const s=this.getLuminanceSource(),l=s.getWidth();i==null||i.getSize()<l?i=new Ge(l):i.clear(),this.initArrays(l);const r=s.getRow(t,this.luminances),a=this.buckets;for(let d=0;d<l;d++)a[(r[d]&255)>>ie.LUMINANCE_SHIFT]++;const c=ie.estimateBlackPoint(a);if(l<3)for(let d=0;d<l;d++)(r[d]&255)<c&&i.set(d);else{let d=r[0]&255,m=r[1]&255;for(let b=1;b<l-1;b++){const A=r[b+1]&255;(m*4-d-A)/2<c&&i.set(b),d=m,m=A}}return i}getBlackMatrix(){const t=this.getLuminanceSource(),i=t.getWidth(),s=t.getHeight(),l=new It(i,s);this.initArrays(i);const r=this.buckets;for(let d=1;d<5;d++){const m=Math.floor(s*d/5),b=t.getRow(m,this.luminances),A=Math.floor(i*4/5);for(let S=Math.floor(i/5);S<A;S++){const _=b[S]&255;r[_>>ie.LUMINANCE_SHIFT]++}}const a=ie.estimateBlackPoint(r),c=t.getMatrix();for(let d=0;d<s;d++){const m=d*i;for(let b=0;b<i;b++)(c[m+b]&255)<a&&l.set(b,d)}return l}createBinarizer(t){return new ie(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const i=this.buckets;for(let s=0;s<ie.LUMINANCE_BUCKETS;s++)i[s]=0}static estimateBlackPoint(t){const i=t.length;let s=0,l=0,r=0;for(let b=0;b<i;b++)t[b]>r&&(l=b,r=t[b]),t[b]>s&&(s=t[b]);let a=0,c=0;for(let b=0;b<i;b++){const A=b-l,S=t[b]*A*A;S>c&&(a=b,c=S)}if(l>a){const b=l;l=a,a=b}if(a-l<=i/16)throw new re;let d=a-1,m=-1;for(let b=a-1;b>l;b--){const A=b-l,S=A*A*(a-b)*(s-t[b]);S>m&&(d=b,m=S)}return d<<ie.LUMINANCE_SHIFT}}ie.LUMINANCE_BITS=5,ie.LUMINANCE_SHIFT=8-ie.LUMINANCE_BITS,ie.LUMINANCE_BUCKETS=1<<ie.LUMINANCE_BITS,ie.EMPTY=Uint8ClampedArray.from([0]);class Q extends ie{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),i=t.getWidth(),s=t.getHeight();if(i>=Q.MINIMUM_DIMENSION&&s>=Q.MINIMUM_DIMENSION){const l=t.getMatrix();let r=i>>Q.BLOCK_SIZE_POWER;(i&Q.BLOCK_SIZE_MASK)!==0&&r++;let a=s>>Q.BLOCK_SIZE_POWER;(s&Q.BLOCK_SIZE_MASK)!==0&&a++;const c=Q.calculateBlackPoints(l,r,a,i,s),d=new It(i,s);Q.calculateThresholdForBlock(l,r,a,i,s,c,d),this.matrix=d}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new Q(t)}static calculateThresholdForBlock(t,i,s,l,r,a,c){const d=r-Q.BLOCK_SIZE,m=l-Q.BLOCK_SIZE;for(let b=0;b<s;b++){let A=b<<Q.BLOCK_SIZE_POWER;A>d&&(A=d);const S=Q.cap(b,2,s-3);for(let _=0;_<i;_++){let M=_<<Q.BLOCK_SIZE_POWER;M>m&&(M=m);const B=Q.cap(_,2,i-3);let k=0;for(let U=-2;U<=2;U++){const z=a[S+U];k+=z[B-2]+z[B-1]+z[B]+z[B+1]+z[B+2]}const P=k/25;Q.thresholdBlock(t,M,A,P,l,c)}}}static cap(t,i,s){return t<i?i:t>s?s:t}static thresholdBlock(t,i,s,l,r,a){for(let c=0,d=s*r+i;c<Q.BLOCK_SIZE;c++,d+=r)for(let m=0;m<Q.BLOCK_SIZE;m++)(t[d+m]&255)<=l&&a.set(i+m,s+c)}static calculateBlackPoints(t,i,s,l,r){const a=r-Q.BLOCK_SIZE,c=l-Q.BLOCK_SIZE,d=new Array(s);for(let m=0;m<s;m++){d[m]=new Int32Array(i);let b=m<<Q.BLOCK_SIZE_POWER;b>a&&(b=a);for(let A=0;A<i;A++){let S=A<<Q.BLOCK_SIZE_POWER;S>c&&(S=c);let _=0,M=255,B=0;for(let P=0,U=b*l+S;P<Q.BLOCK_SIZE;P++,U+=l){for(let z=0;z<Q.BLOCK_SIZE;z++){const F=t[U+z]&255;_+=F,F<M&&(M=F),F>B&&(B=F)}if(B-M>Q.MIN_DYNAMIC_RANGE)for(P++,U+=l;P<Q.BLOCK_SIZE;P++,U+=l)for(let z=0;z<Q.BLOCK_SIZE;z++)_+=t[U+z]&255}let k=_>>Q.BLOCK_SIZE_POWER*2;if(B-M<=Q.MIN_DYNAMIC_RANGE&&(k=M/2,m>0&&A>0)){const P=(d[m-1][A]+2*d[m][A-1]+d[m-1][A-1])/4;M<P&&(k=P)}d[m][A]=k}}return d}}Q.BLOCK_SIZE_POWER=3,Q.BLOCK_SIZE=1<<Q.BLOCK_SIZE_POWER,Q.BLOCK_SIZE_MASK=Q.BLOCK_SIZE-1,Q.MINIMUM_DIMENSION=Q.BLOCK_SIZE*5,Q.MIN_DYNAMIC_RANGE=24;class Ee{constructor(t,i){this.width=t,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,i,s,l){throw new Nn("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Nn("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Nn("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let i=new tt;for(let s=0;s<this.height;s++){const l=this.getRow(s,t);for(let r=0;r<this.width;r++){const a=l[r]&255;let c;a<64?c="#":a<128?c="+":a<192?c=".":c=" ",i.append(c)}i.append(`
`)}return i.toString()}}class Ke extends Ee{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,i){const s=this.delegate.getRow(t,i),l=this.getWidth();for(let r=0;r<l;r++)s[r]=255-(s[r]&255);return s}getMatrix(){const t=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(i);for(let l=0;l<i;l++)s[l]=255-(t[l]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(t,i,s,l){return new Ke(this.delegate.crop(t,i,s,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ke(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ke(this.delegate.rotateCounterClockwise45())}}class Y extends Ee{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=Y.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const i=t.getContext("2d").getImageData(0,0,t.width,t.height);return Y.toGrayscaleBuffer(i.data,t.width,t.height)}static toGrayscaleBuffer(t,i,s){const l=new Uint8ClampedArray(i*s);for(let r=0,a=0,c=t.length;r<c;r+=4,a++){let d;if(t[r+3]===0)d=255;else{const b=t[r],A=t[r+1],S=t[r+2];d=306*b+601*A+117*S+512>>10}l[a]=d}return l}getRow(t,i){if(t<0||t>=this.getHeight())throw new D("Requested row is outside the image: "+t);const s=this.getWidth(),l=t*s;return i===null?i=this.buffer.slice(l,l+s):(i.length<s&&(i=new Uint8ClampedArray(s)),i.set(this.buffer.slice(l,l+s))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,i,s,l){return super.crop(t,i,s,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const i=this.getTempCanvasElement(),s=i.getContext("2d"),l=t*Y.DEGREE_TO_RADIANS,r=this.canvas.width,a=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(l))*r+Math.abs(Math.sin(l))*a),d=Math.ceil(Math.abs(Math.sin(l))*r+Math.abs(Math.cos(l))*a);return i.width=c,i.height=d,s.translate(c/2,d/2),s.rotate(l),s.drawImage(this.canvas,r/-2,a/-2),this.buffer=Y.makeBufferFromCanvasImageData(i),this}invert(){return new Ke(this)}}Y.DEGREE_TO_RADIANS=Math.PI/180;class me{constructor(t,i,s){this.deviceId=t,this.label=i,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var we=(globalThis||il||self||window||void 0)&&(globalThis||il||self||window||void 0).__awaiter||function(O,t,i,s){function l(r){return r instanceof i?r:new i(function(a){a(r)})}return new(i||(i=Promise))(function(r,a){function c(b){try{m(s.next(b))}catch(A){a(A)}}function d(b){try{m(s.throw(b))}catch(A){a(A)}}function m(b){b.done?r(b.value):l(b.value).then(c,d)}m((s=s.apply(O,t||[])).next())})};class _e{constructor(t,i=500,s){this.reader=t,this.timeBetweenScansMillis=i,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return we(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const s of t){const l=s.kind==="video"?"videoinput":s.kind;if(l!=="videoinput")continue;const r=s.deviceId||s.id,a=s.label||`Video device ${i.length+1}`,c=s.groupId,d={deviceId:r,label:a,kind:l,groupId:c};i.push(d)}return i})}getVideoInputDevices(){return we(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new me(i.deviceId,i.label))})}findDeviceById(t){return we(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(s=>s.deviceId===t):null})}decodeFromInputVideoDevice(t,i){return we(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,i)})}decodeOnceFromVideoDevice(t,i){return we(this,void 0,void 0,function*(){this.reset();let s;t?s={deviceId:{exact:t}}:s={facingMode:"environment"};const l={video:s};return yield this.decodeOnceFromConstraints(l,i)})}decodeOnceFromConstraints(t,i){return we(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(s,i)})}decodeOnceFromStream(t,i){return we(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(t,i);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(t,i,s){return we(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,i,s)})}decodeFromVideoDevice(t,i,s){return we(this,void 0,void 0,function*(){let l;t?l={deviceId:{exact:t}}:l={facingMode:"environment"};const r={video:l};return yield this.decodeFromConstraints(r,i,s)})}decodeFromConstraints(t,i,s){return we(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(l,i,s)})}decodeFromStream(t,i,s){return we(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(t,i);return yield this.decodeContinuously(l,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,i){return we(this,void 0,void 0,function*(){const s=this.prepareVideoElement(i);return this.addVideoSource(s,t),this.videoElement=s,this.stream=t,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(t){return new Promise((i,s)=>this.playVideoOnLoad(t,()=>i()))}playVideoOnLoad(t,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",i),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return we(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,i){const s=document.getElementById(t);if(!s)throw new I(`element with id '${t}' not found`);if(s.nodeName.toLowerCase()!==i.toLowerCase())throw new I(`element with id '${t}' must be an ${i} element`);return s}decodeFromImage(t,i){if(!t&&!i)throw new I("either imageElement with a src set or an url must be provided");return i&&!t?this.decodeFromImageUrl(i):this.decodeFromImageElement(t)}decodeFromVideo(t,i){if(!t&&!i)throw new I("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,i,s){if(t===void 0&&i===void 0)throw new I("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrlContinuously(i,s):this.decodeFromVideoElementContinuously(t,s)}decodeFromImageElement(t){if(!t)throw new I("An image element must be provided.");this.reset();const i=this.prepareImageElement(t);this.imageElement=i;let s;return this.isImageLoaded(i)?s=this.decodeOnce(i,!1,!0):s=this._decodeOnLoadImage(i),s}decodeFromVideoElement(t){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(t,i){const s=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(s,i)}_decodeFromVideoElementSetup(t){if(!t)throw new I("A video element must be provided.");this.reset();const i=this.prepareVideoElement(t);return this.videoElement=i,i}decodeFromImageUrl(t){if(!t)throw new I("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const s=this._decodeOnLoadImage(i);return i.src=t,s}decodeFromVideoUrl(t){if(!t)throw new I("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),s=this.decodeFromVideoElement(i);return i.src=t,s}decodeFromVideoUrlContinuously(t,i){if(!t)throw new I("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(s,i);return s.src=t,l}_decodeOnLoadImage(t){return new Promise((i,s)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(i,s),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return we(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,i){return we(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,i)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let i;return typeof t>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(i=t),i}prepareVideoElement(t){let i;return!t&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(i=t),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(t,i=!0,s=!0){this._stopAsyncDecode=!1;const l=(r,a)=>{if(this._stopAsyncDecode){a(new re("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const c=this.decode(t);r(c)}catch(c){const d=i&&c instanceof re,b=(c instanceof te||c instanceof fe)&&s;if(d||b)return setTimeout(l,this._timeBetweenDecodingAttempts,r,a);a(c)}};return new Promise((r,a)=>l(r,a))}decodeContinuously(t,i){this._stopContinuousDecode=!1;const s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(t);i(l,null),setTimeout(s,this.timeBetweenScansMillis)}catch(l){i(null,l);const r=l instanceof te||l instanceof fe,a=l instanceof re;(r||a)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(t){const i=this.createBinaryBitmap(t);return this.decodeBitmap(i)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,i,s){i||(i={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(t,i,s=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const i=this.getCaptureCanvas(t),s=new Y(i),l=new Q(s);return new X(l)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const s=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const i=this.createCaptureCanvas(t);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let s,l;return typeof t<"u"&&(t instanceof HTMLVideoElement?(s=t.videoWidth,l=t.videoHeight):t instanceof HTMLImageElement&&(s=t.naturalWidth||t.width,l=t.naturalHeight||t.height)),i.style.width=s+"px",i.style.height=l+"px",i.width=s,i.height=l,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,i){try{t.srcObject=i}catch{t.src=URL.createObjectURL(i)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class ze{constructor(t,i,s=i==null?0:8*i.length,l,r,a=ue.currentTimeMillis()){this.text=t,this.rawBytes=i,this.numBits=s,this.resultPoints=l,this.format=r,this.timestamp=a,this.text=t,this.rawBytes=i,s==null?this.numBits=i==null?0:8*i.length:this.numBits=s,this.resultPoints=l,this.format=r,this.resultMetadata=null,a==null?this.timestamp=ue.currentTimeMillis():this.timestamp=a}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,i)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const i=this.resultPoints;if(i===null)this.resultPoints=t;else if(t!==null&&t.length>0){const s=new Array(i.length+t.length);ue.arraycopy(i,0,s,0,i.length),ue.arraycopy(t,0,s,i.length,t.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var pt;(function(O){O[O.AZTEC=0]="AZTEC",O[O.CODABAR=1]="CODABAR",O[O.CODE_39=2]="CODE_39",O[O.CODE_93=3]="CODE_93",O[O.CODE_128=4]="CODE_128",O[O.DATA_MATRIX=5]="DATA_MATRIX",O[O.EAN_8=6]="EAN_8",O[O.EAN_13=7]="EAN_13",O[O.ITF=8]="ITF",O[O.MAXICODE=9]="MAXICODE",O[O.PDF_417=10]="PDF_417",O[O.QR_CODE=11]="QR_CODE",O[O.RSS_14=12]="RSS_14",O[O.RSS_EXPANDED=13]="RSS_EXPANDED",O[O.UPC_A=14]="UPC_A",O[O.UPC_E=15]="UPC_E",O[O.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(pt||(pt={}));var ve=pt,Bn;(function(O){O[O.OTHER=0]="OTHER",O[O.ORIENTATION=1]="ORIENTATION",O[O.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",O[O.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",O[O.ISSUE_NUMBER=4]="ISSUE_NUMBER",O[O.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",O[O.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",O[O.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",O[O.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",O[O.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",O[O.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Bn||(Bn={}));var ht=Bn;class Fe{constructor(t,i,s,l,r=-1,a=-1){this.rawBytes=t,this.text=i,this.byteSegments=s,this.ecLevel=l,this.structuredAppendSequenceNumber=r,this.structuredAppendParity=a,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class fi{exp(t){return this.expTable[t]}log(t){if(t===0)throw new D;return this.logTable[t]}static addOrSubtract(t,i){return t^i}}class yn{constructor(t,i){if(i.length===0)throw new D;this.field=t;const s=i.length;if(s>1&&i[0]===0){let l=1;for(;l<s&&i[l]===0;)l++;l===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-l),ue.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const i=this.coefficients;let s;if(t===1){s=0;for(let a=0,c=i.length;a!==c;a++){const d=i[a];s=fi.addOrSubtract(s,d)}return s}s=i[0];const l=i.length,r=this.field;for(let a=1;a<l;a++)s=fi.addOrSubtract(r.multiply(t,s),i[a]);return s}addOrSubtract(t){if(!this.field.equals(t.field))throw new D("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,s=t.coefficients;if(i.length>s.length){const a=i;i=s,s=a}let l=new Int32Array(s.length);const r=s.length-i.length;ue.arraycopy(s,0,l,0,r);for(let a=r;a<s.length;a++)l[a]=fi.addOrSubtract(i[a-r],s[a]);return new yn(this.field,l)}multiply(t){if(!this.field.equals(t.field))throw new D("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const i=this.coefficients,s=i.length,l=t.coefficients,r=l.length,a=new Int32Array(s+r-1),c=this.field;for(let d=0;d<s;d++){const m=i[d];for(let b=0;b<r;b++)a[d+b]=fi.addOrSubtract(a[d+b],c.multiply(m,l[b]))}return new yn(c,a)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const i=this.coefficients.length,s=this.field,l=new Int32Array(i),r=this.coefficients;for(let a=0;a<i;a++)l[a]=s.multiply(r[a],t);return new yn(s,l)}multiplyByMonomial(t,i){if(t<0)throw new D;if(i===0)return this.field.getZero();const s=this.coefficients,l=s.length,r=new Int32Array(l+t),a=this.field;for(let c=0;c<l;c++)r[c]=a.multiply(s[c],i);return new yn(a,r)}divide(t){if(!this.field.equals(t.field))throw new D("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new D("Divide by 0");const i=this.field;let s=i.getZero(),l=this;const r=t.getCoefficient(t.getDegree()),a=i.inverse(r);for(;l.getDegree()>=t.getDegree()&&!l.isZero();){const c=l.getDegree()-t.getDegree(),d=i.multiply(l.getCoefficient(l.getDegree()),a),m=t.multiplyByMonomial(c,d),b=i.buildMonomial(c,d);s=s.addOrSubtract(b),l=l.addOrSubtract(m)}return[s,l]}toString(){let t="";for(let i=this.getDegree();i>=0;i--){let s=this.getCoefficient(i);if(s!==0){if(s<0?(t+=" - ",s=-s):t.length>0&&(t+=" + "),i===0||s!==1){const l=this.field.log(s);l===0?t+="1":l===1?t+="a":(t+="a^",t+=l)}i!==0&&(i===1?t+="x":(t+="x^",t+=i))}}return t}}class Nt extends E{}Nt.kind="ArithmeticException";class mt extends fi{constructor(t,i,s){super(),this.primitive=t,this.size=i,this.generatorBase=s;const l=new Int32Array(i);let r=1;for(let c=0;c<i;c++)l[c]=r,r*=2,r>=i&&(r^=t,r&=i-1);this.expTable=l;const a=new Int32Array(i);for(let c=0;c<i-1;c++)a[l[c]]=c;this.logTable=a,this.zero=new yn(this,Int32Array.from([0])),this.one=new yn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new D;if(i===0)return this.zero;const s=new Int32Array(t+1);return s[0]=i,new yn(this,s)}inverse(t){if(t===0)throw new Nt;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+Oe.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}mt.AZTEC_DATA_12=new mt(4201,4096,1),mt.AZTEC_DATA_10=new mt(1033,1024,1),mt.AZTEC_DATA_6=new mt(67,64,1),mt.AZTEC_PARAM=new mt(19,16,1),mt.QR_CODE_FIELD_256=new mt(285,256,0),mt.DATA_MATRIX_FIELD_256=new mt(301,256,1),mt.AZTEC_DATA_8=mt.DATA_MATRIX_FIELD_256,mt.MAXICODE_FIELD_64=mt.AZTEC_DATA_6;class hi extends E{}hi.kind="ReedSolomonException";class Vn extends E{}Vn.kind="IllegalStateException";class ha{constructor(t){this.field=t}decode(t,i){const s=this.field,l=new yn(s,t),r=new Int32Array(i);let a=!0;for(let _=0;_<i;_++){const M=l.evaluateAt(s.exp(_+s.getGeneratorBase()));r[r.length-1-_]=M,M!==0&&(a=!1)}if(a)return;const c=new yn(s,r),d=this.runEuclideanAlgorithm(s.buildMonomial(i,1),c,i),m=d[0],b=d[1],A=this.findErrorLocations(m),S=this.findErrorMagnitudes(b,A);for(let _=0;_<A.length;_++){const M=t.length-1-s.log(A[_]);if(M<0)throw new hi("Bad error location");t[M]=mt.addOrSubtract(t[M],S[_])}}runEuclideanAlgorithm(t,i,s){if(t.getDegree()<i.getDegree()){const _=t;t=i,i=_}const l=this.field;let r=t,a=i,c=l.getZero(),d=l.getOne();for(;a.getDegree()>=(s/2|0);){let _=r,M=c;if(r=a,c=d,r.isZero())throw new hi("r_{i-1} was zero");a=_;let B=l.getZero();const k=r.getCoefficient(r.getDegree()),P=l.inverse(k);for(;a.getDegree()>=r.getDegree()&&!a.isZero();){const U=a.getDegree()-r.getDegree(),z=l.multiply(a.getCoefficient(a.getDegree()),P);B=B.addOrSubtract(l.buildMonomial(U,z)),a=a.addOrSubtract(r.multiplyByMonomial(U,z))}if(d=B.multiply(c).addOrSubtract(M),a.getDegree()>=r.getDegree())throw new Vn("Division algorithm failed to reduce polynomial?")}const m=d.getCoefficient(0);if(m===0)throw new hi("sigmaTilde(0) was zero");const b=l.inverse(m),A=d.multiplyScalar(b),S=a.multiplyScalar(b);return[A,S]}findErrorLocations(t){const i=t.getDegree();if(i===1)return Int32Array.from([t.getCoefficient(1)]);const s=new Int32Array(i);let l=0;const r=this.field;for(let a=1;a<r.getSize()&&l<i;a++)t.evaluateAt(a)===0&&(s[l]=r.inverse(a),l++);if(l!==i)throw new hi("Error locator degree does not match number of roots");return s}findErrorMagnitudes(t,i){const s=i.length,l=new Int32Array(s),r=this.field;for(let a=0;a<s;a++){const c=r.inverse(i[a]);let d=1;for(let m=0;m<s;m++)if(a!==m){const b=r.multiply(i[m],c),A=(b&1)===0?b|1:b&-2;d=r.multiply(d,A)}l[a]=r.multiply(t.evaluateAt(c),r.inverse(d)),r.getGeneratorBase()!==0&&(l[a]=r.multiply(l[a],c))}return l}}var Qt;(function(O){O[O.UPPER=0]="UPPER",O[O.LOWER=1]="LOWER",O[O.MIXED=2]="MIXED",O[O.DIGIT=3]="DIGIT",O[O.PUNCT=4]="PUNCT",O[O.BINARY=5]="BINARY"})(Qt||(Qt={}));class Zt{decode(t){this.ddata=t;let i=t.getBits(),s=this.extractBits(i),l=this.correctBits(s),r=Zt.convertBoolArrayToByteArray(l),a=Zt.getEncodedData(l),c=new Fe(r,a,null,null);return c.setNumBits(l.length),c}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let i=t.length,s=Qt.UPPER,l=Qt.UPPER,r="",a=0;for(;a<i;)if(l===Qt.BINARY){if(i-a<5)break;let c=Zt.readCode(t,a,5);if(a+=5,c===0){if(i-a<11)break;c=Zt.readCode(t,a,11)+31,a+=11}for(let d=0;d<c;d++){if(i-a<8){a=i;break}const m=Zt.readCode(t,a,8);r+=De.castAsNonUtf8Char(m),a+=8}l=s}else{let c=l===Qt.DIGIT?4:5;if(i-a<c)break;let d=Zt.readCode(t,a,c);a+=c;let m=Zt.getCharacter(l,d);m.startsWith("CTRL_")?(s=l,l=Zt.getTable(m.charAt(5)),m.charAt(6)==="L"&&(s=l)):(r+=m,l=s)}return r}static getTable(t){switch(t){case"L":return Qt.LOWER;case"P":return Qt.PUNCT;case"M":return Qt.MIXED;case"D":return Qt.DIGIT;case"B":return Qt.BINARY;case"U":default:return Qt.UPPER}}static getCharacter(t,i){switch(t){case Qt.UPPER:return Zt.UPPER_TABLE[i];case Qt.LOWER:return Zt.LOWER_TABLE[i];case Qt.MIXED:return Zt.MIXED_TABLE[i];case Qt.PUNCT:return Zt.PUNCT_TABLE[i];case Qt.DIGIT:return Zt.DIGIT_TABLE[i];default:throw new Vn("Bad table")}}correctBits(t){let i,s;this.ddata.getNbLayers()<=2?(s=6,i=mt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(s=8,i=mt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(s=10,i=mt.AZTEC_DATA_10):(s=12,i=mt.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),r=t.length/s;if(r<l)throw new fe;let a=t.length%s,c=new Int32Array(r);for(let S=0;S<r;S++,a+=s)c[S]=Zt.readCode(t,a,s);try{new ha(i).decode(c,r-l)}catch(S){throw new fe(S)}let d=(1<<s)-1,m=0;for(let S=0;S<l;S++){let _=c[S];if(_===0||_===d)throw new fe;(_===1||_===d-1)&&m++}let b=new Array(l*s-m),A=0;for(let S=0;S<l;S++){let _=c[S];if(_===1||_===d-1)b.fill(_>1,A,A+s-1),A+=s-1;else for(let M=s-1;M>=0;--M)b[A++]=(_&1<<M)!==0}return b}extractBits(t){let i=this.ddata.isCompact(),s=this.ddata.getNbLayers(),l=(i?11:14)+s*4,r=new Int32Array(l),a=new Array(this.totalBitsInLayer(s,i));if(i)for(let c=0;c<r.length;c++)r[c]=c;else{let c=l+1+2*Oe.truncDivision(Oe.truncDivision(l,2)-1,15),d=l/2,m=Oe.truncDivision(c,2);for(let b=0;b<d;b++){let A=b+Oe.truncDivision(b,15);r[d-b-1]=m-A-1,r[d+b]=m+A+1}}for(let c=0,d=0;c<s;c++){let m=(s-c)*4+(i?9:12),b=c*2,A=l-1-b;for(let S=0;S<m;S++){let _=S*2;for(let M=0;M<2;M++)a[d+_+M]=t.get(r[b+M],r[b+S]),a[d+2*m+_+M]=t.get(r[b+S],r[A-M]),a[d+4*m+_+M]=t.get(r[A-M],r[A-S]),a[d+6*m+_+M]=t.get(r[A-S],r[b+M])}d+=m*8}return a}static readCode(t,i,s){let l=0;for(let r=i;r<i+s;r++)l<<=1,t[r]&&(l|=1);return l}static readByte(t,i){let s=t.length-i;return s>=8?Zt.readCode(t,i,8):Zt.readCode(t,i,s)<<8-s}static convertBoolArrayToByteArray(t){let i=new Uint8Array((t.length+7)/8);for(let s=0;s<i.length;s++)i[s]=Zt.readByte(t,8*s);return i}totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}Zt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Zt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Zt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Zt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Zt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class wt{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,i,s,l){const r=t-s,a=i-l;return Math.sqrt(r*r+a*a)}static sum(t){let i=0;for(let s=0,l=t.length;s!==l;s++){const r=t[s];i+=r}return i}}class Ti{static floatToIntBits(t){return t}}Ti.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ke{constructor(t,i){this.x=t,this.y=i}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof ke){const i=t;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Ti.floatToIntBits(this.x)+Ti.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const i=this.distance(t[0],t[1]),s=this.distance(t[1],t[2]),l=this.distance(t[0],t[2]);let r,a,c;if(s>=i&&s>=l?(a=t[0],r=t[1],c=t[2]):l>=s&&l>=i?(a=t[1],r=t[0],c=t[2]):(a=t[2],r=t[0],c=t[1]),this.crossProductZ(r,a,c)<0){const d=r;r=c,c=d}t[0]=r,t[1]=a,t[2]=c}static distance(t,i){return wt.distance(t.x,t.y,i.x,i.y)}static crossProductZ(t,i,s){const l=i.x,r=i.y;return(s.x-l)*(t.y-r)-(s.y-r)*(t.x-l)}}class da{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class _i extends da{constructor(t,i,s,l,r){super(t,i),this.compact=s,this.nbDatablocks=l,this.nbLayers=r}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Br{constructor(t,i,s,l){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),i==null&&(i=Br.INIT_SIZE),s==null&&(s=t.getWidth()/2|0),l==null&&(l=t.getHeight()/2|0);const r=i/2|0;if(this.leftInit=s-r,this.rightInit=s+r,this.upInit=l-r,this.downInit=l+r,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new re}detect(){let t=this.leftInit,i=this.rightInit,s=this.upInit,l=this.downInit,r=!1,a=!0,c=!1,d=!1,m=!1,b=!1,A=!1;const S=this.width,_=this.height;for(;a;){a=!1;let M=!0;for(;(M||!d)&&i<S;)M=this.containsBlackPoint(s,l,i,!1),M?(i++,a=!0,d=!0):d||i++;if(i>=S){r=!0;break}let B=!0;for(;(B||!m)&&l<_;)B=this.containsBlackPoint(t,i,l,!0),B?(l++,a=!0,m=!0):m||l++;if(l>=_){r=!0;break}let k=!0;for(;(k||!b)&&t>=0;)k=this.containsBlackPoint(s,l,t,!1),k?(t--,a=!0,b=!0):b||t--;if(t<0){r=!0;break}let P=!0;for(;(P||!A)&&s>=0;)P=this.containsBlackPoint(t,i,s,!0),P?(s--,a=!0,A=!0):A||s--;if(s<0){r=!0;break}a&&(c=!0)}if(!r&&c){const M=i-t;let B=null;for(let z=1;B===null&&z<M;z++)B=this.getBlackPointOnSegment(t,l-z,t+z,l);if(B==null)throw new re;let k=null;for(let z=1;k===null&&z<M;z++)k=this.getBlackPointOnSegment(t,s+z,t+z,s);if(k==null)throw new re;let P=null;for(let z=1;P===null&&z<M;z++)P=this.getBlackPointOnSegment(i,s+z,i-z,s);if(P==null)throw new re;let U=null;for(let z=1;U===null&&z<M;z++)U=this.getBlackPointOnSegment(i,l-z,i-z,l);if(U==null)throw new re;return this.centerEdges(U,B,P,k)}else throw new re}getBlackPointOnSegment(t,i,s,l){const r=wt.round(wt.distance(t,i,s,l)),a=(s-t)/r,c=(l-i)/r,d=this.image;for(let m=0;m<r;m++){const b=wt.round(t+m*a),A=wt.round(i+m*c);if(d.get(b,A))return new ke(b,A)}return null}centerEdges(t,i,s,l){const r=t.getX(),a=t.getY(),c=i.getX(),d=i.getY(),m=s.getX(),b=s.getY(),A=l.getX(),S=l.getY(),_=Br.CORR;return r<this.width/2?[new ke(A-_,S+_),new ke(c+_,d+_),new ke(m-_,b-_),new ke(r+_,a-_)]:[new ke(A+_,S+_),new ke(c+_,d-_),new ke(m-_,b+_),new ke(r-_,a-_)]}containsBlackPoint(t,i,s,l){const r=this.image;if(l){for(let a=t;a<=i;a++)if(r.get(a,s))return!0}else for(let a=t;a<=i;a++)if(r.get(s,a))return!0;return!1}}Br.INIT_SIZE=10,Br.CORR=1;class Ni{static checkAndNudgePoints(t,i){const s=t.getWidth(),l=t.getHeight();let r=!0;for(let a=0;a<i.length&&r;a+=2){const c=Math.floor(i[a]),d=Math.floor(i[a+1]);if(c<-1||c>s||d<-1||d>l)throw new re;r=!1,c===-1?(i[a]=0,r=!0):c===s&&(i[a]=s-1,r=!0),d===-1?(i[a+1]=0,r=!0):d===l&&(i[a+1]=l-1,r=!0)}r=!0;for(let a=i.length-2;a>=0&&r;a-=2){const c=Math.floor(i[a]),d=Math.floor(i[a+1]);if(c<-1||c>s||d<-1||d>l)throw new re;r=!1,c===-1?(i[a]=0,r=!0):c===s&&(i[a]=s-1,r=!0),d===-1?(i[a+1]=0,r=!0):d===l&&(i[a+1]=l-1,r=!0)}}}class gn{constructor(t,i,s,l,r,a,c,d,m){this.a11=t,this.a21=i,this.a31=s,this.a12=l,this.a22=r,this.a32=a,this.a13=c,this.a23=d,this.a33=m}static quadrilateralToQuadrilateral(t,i,s,l,r,a,c,d,m,b,A,S,_,M,B,k){const P=gn.quadrilateralToSquare(t,i,s,l,r,a,c,d);return gn.squareToQuadrilateral(m,b,A,S,_,M,B,k).times(P)}transformPoints(t){const i=t.length,s=this.a11,l=this.a12,r=this.a13,a=this.a21,c=this.a22,d=this.a23,m=this.a31,b=this.a32,A=this.a33;for(let S=0;S<i;S+=2){const _=t[S],M=t[S+1],B=r*_+d*M+A;t[S]=(s*_+a*M+m)/B,t[S+1]=(l*_+c*M+b)/B}}transformPointsWithValues(t,i){const s=this.a11,l=this.a12,r=this.a13,a=this.a21,c=this.a22,d=this.a23,m=this.a31,b=this.a32,A=this.a33,S=t.length;for(let _=0;_<S;_++){const M=t[_],B=i[_],k=r*M+d*B+A;t[_]=(s*M+a*B+m)/k,i[_]=(l*M+c*B+b)/k}}static squareToQuadrilateral(t,i,s,l,r,a,c,d){const m=t-s+r-c,b=i-l+a-d;if(m===0&&b===0)return new gn(s-t,r-s,t,l-i,a-l,i,0,0,1);{const A=s-r,S=c-r,_=l-a,M=d-a,B=A*M-S*_,k=(m*M-S*b)/B,P=(A*b-m*_)/B;return new gn(s-t+k*s,c-t+P*c,t,l-i+k*l,d-i+P*d,i,k,P,1)}}static quadrilateralToSquare(t,i,s,l,r,a,c,d){return gn.squareToQuadrilateral(t,i,s,l,r,a,c,d).buildAdjoint()}buildAdjoint(){return new gn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new gn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class bn extends Ni{sampleGrid(t,i,s,l,r,a,c,d,m,b,A,S,_,M,B,k,P,U,z){const F=gn.quadrilateralToQuadrilateral(l,r,a,c,d,m,b,A,S,_,M,B,k,P,U,z);return this.sampleGridWithTransform(t,i,s,F)}sampleGridWithTransform(t,i,s,l){if(i<=0||s<=0)throw new re;const r=new It(i,s),a=new Float32Array(2*i);for(let c=0;c<s;c++){const d=a.length,m=c+.5;for(let b=0;b<d;b+=2)a[b]=b/2+.5,a[b+1]=m;l.transformPoints(a),Ni.checkAndNudgePoints(t,a);try{for(let b=0;b<d;b+=2)t.get(Math.floor(a[b]),Math.floor(a[b+1]))&&r.set(b/2,c)}catch{throw new re}}return r}}class Ln{static setGridSampler(t){Ln.gridSampler=t}static getInstance(){return Ln.gridSampler}}Ln.gridSampler=new bn;class jt{constructor(t,i){this.x=t,this.y=i}toResultPoint(){return new ke(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class La{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let i=this.getMatrixCenter(),s=this.getBullsEyeCorners(i);if(t){let a=s[0];s[0]=s[2],s[2]=a}this.extractParameters(s);let l=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),r=this.getMatrixCornerPoints(s);return new _i(l,r,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new re;let i=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(t[0],t[1],i),this.sampleLine(t[1],t[2],i),this.sampleLine(t[2],t[3],i),this.sampleLine(t[3],t[0],i)]);this.shift=this.getRotation(s,i);let l=0;for(let a=0;a<4;a++){let c=s[(this.shift+a)%4];this.compact?(l<<=7,l+=c>>1&127):(l<<=10,l+=(c>>2&992)+(c>>1&31))}let r=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(r>>6)+1,this.nbDataBlocks=(r&63)+1):(this.nbLayers=(r>>11)+1,this.nbDataBlocks=(r&2047)+1)}getRotation(t,i){let s=0;t.forEach((l,r,a)=>{let c=(l>>i-2<<1)+(l&1);s=(s<<3)+c}),s=((s&1)<<11)+(s>>1);for(let l=0;l<4;l++)if(Oe.bitCount(s^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new re}getCorrectedParameterData(t,i){let s,l;i?(s=7,l=2):(s=10,l=4);let r=s-l,a=new Int32Array(s);for(let d=s-1;d>=0;--d)a[d]=t&15,t>>=4;try{new ha(mt.AZTEC_PARAM).decode(a,r)}catch{throw new re}let c=0;for(let d=0;d<l;d++)c=(c<<4)+a[d];return c}getBullsEyeCorners(t){let i=t,s=t,l=t,r=t,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let A=this.getFirstDifferent(i,a,1,-1),S=this.getFirstDifferent(s,a,1,1),_=this.getFirstDifferent(l,a,-1,1),M=this.getFirstDifferent(r,a,-1,-1);if(this.nbCenterLayers>2){let B=this.distancePoint(M,A)*this.nbCenterLayers/(this.distancePoint(r,i)*(this.nbCenterLayers+2));if(B<.75||B>1.25||!this.isWhiteOrBlackRectangle(A,S,_,M))break}i=A,s=S,l=_,r=M,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new re;this.compact=this.nbCenterLayers===5;let c=new ke(i.getX()+.5,i.getY()-.5),d=new ke(s.getX()+.5,s.getY()+.5),m=new ke(l.getX()-.5,l.getY()+.5),b=new ke(r.getX()-.5,r.getY()-.5);return this.expandSquare([c,d,m,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,i,s,l;try{let c=new Br(this.image).detect();t=c[0],i=c[1],s=c[2],l=c[3]}catch{let d=this.image.getWidth()/2,m=this.image.getHeight()/2;t=this.getFirstDifferent(new jt(d+7,m-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new jt(d+7,m+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new jt(d-7,m+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new jt(d-7,m-7),!1,-1,-1).toResultPoint()}let r=wt.round((t.getX()+l.getX()+i.getX()+s.getX())/4),a=wt.round((t.getY()+l.getY()+i.getY()+s.getY())/4);try{let c=new Br(this.image,15,r,a).detect();t=c[0],i=c[1],s=c[2],l=c[3]}catch{t=this.getFirstDifferent(new jt(r+7,a-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new jt(r+7,a+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new jt(r-7,a+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new jt(r-7,a-7),!1,-1,-1).toResultPoint()}return r=wt.round((t.getX()+l.getX()+i.getX()+s.getX())/4),a=wt.round((t.getY()+l.getY()+i.getY()+s.getY())/4),new jt(r,a)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,i,s,l,r){let a=Ln.getInstance(),c=this.getDimension(),d=c/2-this.nbCenterLayers,m=c/2+this.nbCenterLayers;return a.sampleGrid(t,c,c,d,d,m,d,m,m,d,m,i.getX(),i.getY(),s.getX(),s.getY(),l.getX(),l.getY(),r.getX(),r.getY())}sampleLine(t,i,s){let l=0,r=this.distanceResultPoint(t,i),a=r/s,c=t.getX(),d=t.getY(),m=a*(i.getX()-t.getX())/r,b=a*(i.getY()-t.getY())/r;for(let A=0;A<s;A++)this.image.get(wt.round(c+A*m),wt.round(d+A*b))&&(l|=1<<s-A-1);return l}isWhiteOrBlackRectangle(t,i,s,l){let r=3;t=new jt(t.getX()-r,t.getY()+r),i=new jt(i.getX()-r,i.getY()-r),s=new jt(s.getX()+r,s.getY()-r),l=new jt(l.getX()+r,l.getY()+r);let a=this.getColor(l,t);if(a===0)return!1;let c=this.getColor(t,i);return c!==a||(c=this.getColor(i,s),c!==a)?!1:(c=this.getColor(s,l),c===a)}getColor(t,i){let s=this.distancePoint(t,i),l=(i.getX()-t.getX())/s,r=(i.getY()-t.getY())/s,a=0,c=t.getX(),d=t.getY(),m=this.image.get(t.getX(),t.getY()),b=Math.ceil(s);for(let S=0;S<b;S++)c+=l,d+=r,this.image.get(wt.round(c),wt.round(d))!==m&&a++;let A=a/s;return A>.1&&A<.9?0:A<=.1===m?1:-1}getFirstDifferent(t,i,s,l){let r=t.getX()+s,a=t.getY()+l;for(;this.isValid(r,a)&&this.image.get(r,a)===i;)r+=s,a+=l;for(r-=s,a-=l;this.isValid(r,a)&&this.image.get(r,a)===i;)r+=s;for(r-=s;this.isValid(r,a)&&this.image.get(r,a)===i;)a+=l;return a-=l,new jt(r,a)}expandSquare(t,i,s){let l=s/(2*i),r=t[0].getX()-t[2].getX(),a=t[0].getY()-t[2].getY(),c=(t[0].getX()+t[2].getX())/2,d=(t[0].getY()+t[2].getY())/2,m=new ke(c+l*r,d+l*a),b=new ke(c-l*r,d-l*a);r=t[1].getX()-t[3].getX(),a=t[1].getY()-t[3].getY(),c=(t[1].getX()+t[3].getX())/2,d=(t[1].getY()+t[3].getY())/2;let A=new ke(c+l*r,d+l*a),S=new ke(c-l*r,d-l*a);return[m,A,b,S]}isValid(t,i){return t>=0&&t<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(t){let i=wt.round(t.getX()),s=wt.round(t.getY());return this.isValid(i,s)}distancePoint(t,i){return wt.distance(t.getX(),t.getY(),i.getX(),i.getY())}distanceResultPoint(t,i){return wt.distance(t.getX(),t.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Oe.truncDivision(this.nbLayers-4,8)+1)+15}}class Ri{decode(t,i=null){let s=null,l=new La(t.getBlackMatrix()),r=null,a=null;try{let b=l.detectMirror(!1);r=b.getPoints(),this.reportFoundResultPoints(i,r),a=new Zt().decode(b)}catch(b){s=b}if(a==null)try{let b=l.detectMirror(!0);r=b.getPoints(),this.reportFoundResultPoints(i,r),a=new Zt().decode(b)}catch(b){throw s??b}let c=new ze(a.getText(),a.getRawBytes(),a.getNumBits(),r,ve.AZTEC,ue.currentTimeMillis()),d=a.getByteSegments();d!=null&&c.putMetadata(ht.BYTE_SEGMENTS,d);let m=a.getECLevel();return m!=null&&c.putMetadata(ht.ERROR_CORRECTION_LEVEL,m),c}reportFoundResultPoints(t,i){if(t!=null){let s=t.get(Ve.NEED_RESULT_POINT_CALLBACK);s!=null&&i.forEach((l,r,a)=>{s.foundPossibleResultPoint(l)})}}reset(){}}class Oi extends _e{constructor(t=500){super(new Ri,t)}}class Wt{decode(t,i){try{return this.doDecode(t,i)}catch{if(i&&i.get(Ve.TRY_HARDER)===!0&&t.isRotateSupported()){const r=t.rotateCounterClockwise(),a=this.doDecode(r,i),c=a.getResultMetadata();let d=270;c!==null&&c.get(ht.ORIENTATION)===!0&&(d=d+c.get(ht.ORIENTATION)%360),a.putMetadata(ht.ORIENTATION,d);const m=a.getResultPoints();if(m!==null){const b=r.getHeight();for(let A=0;A<m.length;A++)m[A]=new ke(b-m[A].getY()-1,m[A].getX())}return a}else throw new re}}reset(){}doDecode(t,i){const s=t.getWidth(),l=t.getHeight();let r=new Ge(s);const a=i&&i.get(Ve.TRY_HARDER)===!0,c=Math.max(1,l>>(a?8:5));let d;a?d=l:d=15;const m=Math.trunc(l/2);for(let b=0;b<d;b++){const A=Math.trunc((b+1)/2),S=(b&1)===0,_=m+c*(S?A:-A);if(_<0||_>=l)break;try{r=t.getBlackRow(_,r)}catch{continue}for(let M=0;M<2;M++){if(M===1&&(r.reverse(),i&&i.get(Ve.NEED_RESULT_POINT_CALLBACK)===!0)){const B=new Map;i.forEach((k,P)=>B.set(P,k)),B.delete(Ve.NEED_RESULT_POINT_CALLBACK),i=B}try{const B=this.decodeRow(_,r,i);if(M===1){B.putMetadata(ht.ORIENTATION,180);const k=B.getResultPoints();k!==null&&(k[0]=new ke(s-k[0].getX()-1,k[0].getY()),k[1]=new ke(s-k[1].getX()-1,k[1].getY()))}return B}catch{}}}throw new re}static recordPattern(t,i,s){const l=s.length;for(let m=0;m<l;m++)s[m]=0;const r=t.getSize();if(i>=r)throw new re;let a=!t.get(i),c=0,d=i;for(;d<r;){if(t.get(d)!==a)s[c]++;else{if(++c===l)break;s[c]=1,a=!a}d++}if(!(c===l||c===l-1&&d===r))throw new re}static recordPatternInReverse(t,i,s){let l=s.length,r=t.get(i);for(;i>0&&l>=0;)t.get(--i)!==r&&(l--,r=!r);if(l>=0)throw new re;Wt.recordPattern(t,i+1,s)}static patternMatchVariance(t,i,s){const l=t.length;let r=0,a=0;for(let m=0;m<l;m++)r+=t[m],a+=i[m];if(r<a)return Number.POSITIVE_INFINITY;const c=r/a;s*=c;let d=0;for(let m=0;m<l;m++){const b=t[m],A=i[m]*c,S=b>A?b-A:A-b;if(S>s)return Number.POSITIVE_INFINITY;d+=S}return d/r}}class Ne extends Wt{static findStartPattern(t){const i=t.getSize(),s=t.getNextSet(0);let l=0,r=Int32Array.from([0,0,0,0,0,0]),a=s,c=!1;const d=6;for(let m=s;m<i;m++)if(t.get(m)!==c)r[l]++;else{if(l===d-1){let b=Ne.MAX_AVG_VARIANCE,A=-1;for(let S=Ne.CODE_START_A;S<=Ne.CODE_START_C;S++){const _=Wt.patternMatchVariance(r,Ne.CODE_PATTERNS[S],Ne.MAX_INDIVIDUAL_VARIANCE);_<b&&(b=_,A=S)}if(A>=0&&t.isRange(Math.max(0,a-(m-a)/2),a,!1))return Int32Array.from([a,m,A]);a+=r[0]+r[1],r=r.slice(2,r.length-1),r[l-1]=0,r[l]=0,l--}else l++;r[l]=1,c=!c}throw new re}static decodeCode(t,i,s){Wt.recordPattern(t,s,i);let l=Ne.MAX_AVG_VARIANCE,r=-1;for(let a=0;a<Ne.CODE_PATTERNS.length;a++){const c=Ne.CODE_PATTERNS[a],d=this.patternMatchVariance(i,c,Ne.MAX_INDIVIDUAL_VARIANCE);d<l&&(l=d,r=a)}if(r>=0)return r;throw new re}decodeRow(t,i,s){const l=s&&s.get(Ve.ASSUME_GS1)===!0,r=Ne.findStartPattern(i),a=r[2];let c=0;const d=new Uint8Array(20);d[c++]=a;let m;switch(a){case Ne.CODE_START_A:m=Ne.CODE_CODE_A;break;case Ne.CODE_START_B:m=Ne.CODE_CODE_B;break;case Ne.CODE_START_C:m=Ne.CODE_CODE_C;break;default:throw new fe}let b=!1,A=!1,S="",_=r[0],M=r[1];const B=Int32Array.from([0,0,0,0,0,0]);let k=0,P=0,U=a,z=0,F=!0,V=!1,K=!1;for(;!b;){const Re=A;switch(A=!1,k=P,P=Ne.decodeCode(i,B,M),d[c++]=P,P!==Ne.CODE_STOP&&(F=!0),P!==Ne.CODE_STOP&&(z++,U+=z*P),_=M,M+=B.reduce((Se,Ue)=>Se+Ue,0),P){case Ne.CODE_START_A:case Ne.CODE_START_B:case Ne.CODE_START_C:throw new fe}switch(m){case Ne.CODE_CODE_A:if(P<64)K===V?S+=String.fromCharCode(32+P):S+=String.fromCharCode(32+P+128),K=!1;else if(P<96)K===V?S+=String.fromCharCode(P-64):S+=String.fromCharCode(P+64),K=!1;else switch(P!==Ne.CODE_STOP&&(F=!1),P){case Ne.CODE_FNC_1:l&&(S.length===0?S+="]C1":S+="");break;case Ne.CODE_FNC_2:case Ne.CODE_FNC_3:break;case Ne.CODE_FNC_4_A:!V&&K?(V=!0,K=!1):V&&K?(V=!1,K=!1):K=!0;break;case Ne.CODE_SHIFT:A=!0,m=Ne.CODE_CODE_B;break;case Ne.CODE_CODE_B:m=Ne.CODE_CODE_B;break;case Ne.CODE_CODE_C:m=Ne.CODE_CODE_C;break;case Ne.CODE_STOP:b=!0;break}break;case Ne.CODE_CODE_B:if(P<96)K===V?S+=String.fromCharCode(32+P):S+=String.fromCharCode(32+P+128),K=!1;else switch(P!==Ne.CODE_STOP&&(F=!1),P){case Ne.CODE_FNC_1:l&&(S.length===0?S+="]C1":S+="");break;case Ne.CODE_FNC_2:case Ne.CODE_FNC_3:break;case Ne.CODE_FNC_4_B:!V&&K?(V=!0,K=!1):V&&K?(V=!1,K=!1):K=!0;break;case Ne.CODE_SHIFT:A=!0,m=Ne.CODE_CODE_A;break;case Ne.CODE_CODE_A:m=Ne.CODE_CODE_A;break;case Ne.CODE_CODE_C:m=Ne.CODE_CODE_C;break;case Ne.CODE_STOP:b=!0;break}break;case Ne.CODE_CODE_C:if(P<100)P<10&&(S+="0"),S+=P;else switch(P!==Ne.CODE_STOP&&(F=!1),P){case Ne.CODE_FNC_1:l&&(S.length===0?S+="]C1":S+="");break;case Ne.CODE_CODE_A:m=Ne.CODE_CODE_A;break;case Ne.CODE_CODE_B:m=Ne.CODE_CODE_B;break;case Ne.CODE_STOP:b=!0;break}break}Re&&(m=m===Ne.CODE_CODE_A?Ne.CODE_CODE_B:Ne.CODE_CODE_A)}const $=M-_;if(M=i.getNextUnset(M),!i.isRange(M,Math.min(i.getSize(),M+(M-_)/2),!1))throw new re;if(U-=z*k,U%103!==k)throw new te;const ne=S.length;if(ne===0)throw new re;ne>0&&F&&(m===Ne.CODE_CODE_C?S=S.substring(0,ne-2):S=S.substring(0,ne-1));const le=(r[1]+r[0])/2,de=_+$/2,Ce=d.length,ye=new Uint8Array(Ce);for(let Re=0;Re<Ce;Re++)ye[Re]=d[Re];const Ae=[new ke(le,t),new ke(de,t)];return new ze(S,ye,0,Ae,ve.CODE_128,new Date().getTime())}}Ne.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ne.MAX_AVG_VARIANCE=.25,Ne.MAX_INDIVIDUAL_VARIANCE=.7,Ne.CODE_SHIFT=98,Ne.CODE_CODE_C=99,Ne.CODE_CODE_B=100,Ne.CODE_CODE_A=101,Ne.CODE_FNC_1=102,Ne.CODE_FNC_2=97,Ne.CODE_FNC_3=96,Ne.CODE_FNC_4_A=101,Ne.CODE_FNC_4_B=100,Ne.CODE_START_A=103,Ne.CODE_START_B=104,Ne.CODE_START_C=105,Ne.CODE_STOP=106;class Mt extends Wt{constructor(t=!1,i=!1){super(),this.usingCheckDigit=t,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,i,s){let l=this.counters;l.fill(0),this.decodeRowResult="";let r=Mt.findAsteriskPattern(i,l),a=i.getNextSet(r[1]),c=i.getSize(),d,m;do{Mt.recordPattern(i,a,l);let B=Mt.toNarrowWidePattern(l);if(B<0)throw new re;d=Mt.patternToChar(B),this.decodeRowResult+=d,m=a;for(let k of l)a+=k;a=i.getNextSet(a)}while(d!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let b=0;for(let B of l)b+=B;let A=a-m-b;if(a!==c&&A*2<b)throw new re;if(this.usingCheckDigit){let B=this.decodeRowResult.length-1,k=0;for(let P=0;P<B;P++)k+=Mt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(P));if(this.decodeRowResult.charAt(B)!==Mt.ALPHABET_STRING.charAt(k%43))throw new te;this.decodeRowResult=this.decodeRowResult.substring(0,B)}if(this.decodeRowResult.length===0)throw new re;let S;this.extendedMode?S=Mt.decodeExtended(this.decodeRowResult):S=this.decodeRowResult;let _=(r[1]+r[0])/2,M=m+b/2;return new ze(S,null,0,[new ke(_,t),new ke(M,t)],ve.CODE_39,new Date().getTime())}static findAsteriskPattern(t,i){let s=t.getSize(),l=t.getNextSet(0),r=0,a=l,c=!1,d=i.length;for(let m=l;m<s;m++)if(t.get(m)!==c)i[r]++;else{if(r===d-1){if(this.toNarrowWidePattern(i)===Mt.ASTERISK_ENCODING&&t.isRange(Math.max(0,a-Math.floor((m-a)/2)),a,!1))return[a,m];a+=i[0]+i[1],i.copyWithin(0,2,2+r-1),i[r-1]=0,i[r]=0,r--}else r++;i[r]=1,c=!c}throw new re}static toNarrowWidePattern(t){let i=t.length,s=0,l;do{let r=2147483647;for(let d of t)d<r&&d>s&&(r=d);s=r,l=0;let a=0,c=0;for(let d=0;d<i;d++){let m=t[d];m>s&&(c|=1<<i-1-d,l++,a+=m)}if(l===3){for(let d=0;d<i&&l>0;d++){let m=t[d];if(m>s&&(l--,m*2>=a))return-1}return c}}while(l>3);return-1}static patternToChar(t){for(let i=0;i<Mt.CHARACTER_ENCODINGS.length;i++)if(Mt.CHARACTER_ENCODINGS[i]===t)return Mt.ALPHABET_STRING.charAt(i);if(t===Mt.ASTERISK_ENCODING)return"*";throw new re}static decodeExtended(t){let i=t.length,s="";for(let l=0;l<i;l++){let r=t.charAt(l);if(r==="+"||r==="$"||r==="%"||r==="/"){let a=t.charAt(l+1),c="\0";switch(r){case"+":if(a>="A"&&a<="Z")c=String.fromCharCode(a.charCodeAt(0)+32);else throw new fe;break;case"$":if(a>="A"&&a<="Z")c=String.fromCharCode(a.charCodeAt(0)-64);else throw new fe;break;case"%":if(a>="A"&&a<="E")c=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")c=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")c=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")c=String.fromCharCode(a.charCodeAt(0)+43);else if(a==="U")c="\0";else if(a==="V")c="@";else if(a==="W")c="`";else if(a==="X"||a==="Y"||a==="Z")c="";else throw new fe;break;case"/":if(a>="A"&&a<="O")c=String.fromCharCode(a.charCodeAt(0)-32);else if(a==="Z")c=":";else throw new fe;break}s+=c,l++}else s+=r}return s}}Mt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Mt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Mt.ASTERISK_ENCODING=148;class Te extends Wt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,i,s){let l=this.decodeStart(i),r=this.decodeEnd(i),a=new tt;Te.decodeMiddle(i,l[1],r[0],a);let c=a.toString(),d=null;s!=null&&(d=s.get(Ve.ALLOWED_LENGTHS)),d==null&&(d=Te.DEFAULT_ALLOWED_LENGTHS);let m=c.length,b=!1,A=0;for(let M of d){if(m===M){b=!0;break}M>A&&(A=M)}if(!b&&m>A&&(b=!0),!b)throw new fe;const S=[new ke(l[1],t),new ke(r[0],t)];return new ze(c,null,0,S,ve.ITF,new Date().getTime())}static decodeMiddle(t,i,s,l){let r=new Int32Array(10),a=new Int32Array(5),c=new Int32Array(5);for(r.fill(0),a.fill(0),c.fill(0);i<s;){Wt.recordPattern(t,i,r);for(let m=0;m<5;m++){let b=2*m;a[m]=r[b],c[m]=r[b+1]}let d=Te.decodeDigit(a);l.append(d.toString()),d=this.decodeDigit(c),l.append(d.toString()),r.forEach(function(m){i+=m})}}decodeStart(t){let i=Te.skipWhiteSpace(t),s=Te.findGuardPattern(t,i,Te.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(t,s[0]),s}validateQuietZone(t,i){let s=this.narrowLineWidth*10;s=s<i?s:i;for(let l=i-1;s>0&&l>=0&&!t.get(l);l--)s--;if(s!==0)throw new re}static skipWhiteSpace(t){const i=t.getSize(),s=t.getNextSet(0);if(s===i)throw new re;return s}decodeEnd(t){t.reverse();try{let i=Te.skipWhiteSpace(t),s;try{s=Te.findGuardPattern(t,i,Te.END_PATTERN_REVERSED[0])}catch(r){r instanceof re&&(s=Te.findGuardPattern(t,i,Te.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,s[0]);let l=s[0];return s[0]=t.getSize()-s[1],s[1]=t.getSize()-l,s}finally{t.reverse()}}static findGuardPattern(t,i,s){let l=s.length,r=new Int32Array(l),a=t.getSize(),c=!1,d=0,m=i;r.fill(0);for(let b=i;b<a;b++)if(t.get(b)!==c)r[d]++;else{if(d===l-1){if(Wt.patternMatchVariance(r,s,Te.MAX_INDIVIDUAL_VARIANCE)<Te.MAX_AVG_VARIANCE)return[m,b];m+=r[0]+r[1],ue.arraycopy(r,2,r,0,d-1),r[d-1]=0,r[d]=0,d--}else d++;r[d]=1,c=!c}throw new re}static decodeDigit(t){let i=Te.MAX_AVG_VARIANCE,s=-1,l=Te.PATTERNS.length;for(let r=0;r<l;r++){let a=Te.PATTERNS[r],c=Wt.patternMatchVariance(t,a,Te.MAX_INDIVIDUAL_VARIANCE);c<i?(i=c,s=r):c===i&&(s=-1)}if(s>=0)return s%10;throw new re}}Te.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Te.MAX_AVG_VARIANCE=.38,Te.MAX_INDIVIDUAL_VARIANCE=.5,Te.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Te.START_PATTERN=Int32Array.from([1,1,1,1]),Te.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class zt extends Wt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let i=!1,s,l=0,r=Int32Array.from([0,0,0]);for(;!i;){r=Int32Array.from([0,0,0]),s=zt.findGuardPattern(t,l,!1,this.START_END_PATTERN,r);let a=s[0];l=s[1];let c=a-(l-a);c>=0&&(i=t.isRange(c,a,!1))}return s}static checkChecksum(t){return zt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let s=parseInt(t.charAt(i-1),10);return zt.getStandardUPCEANChecksum(t.substring(0,i-1))===s}static getStandardUPCEANChecksum(t){let i=t.length,s=0;for(let l=i-1;l>=0;l-=2){let r=t.charAt(l).charCodeAt(0)-48;if(r<0||r>9)throw new fe;s+=r}s*=3;for(let l=i-2;l>=0;l-=2){let r=t.charAt(l).charCodeAt(0)-48;if(r<0||r>9)throw new fe;s+=r}return(1e3-s)%10}static decodeEnd(t,i){return zt.findGuardPattern(t,i,!1,zt.START_END_PATTERN,new Int32Array(zt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,i,s,l){return this.findGuardPattern(t,i,s,l,new Int32Array(l.length))}static findGuardPattern(t,i,s,l,r){let a=t.getSize();i=s?t.getNextUnset(i):t.getNextSet(i);let c=0,d=i,m=l.length,b=s;for(let A=i;A<a;A++)if(t.get(A)!==b)r[c]++;else{if(c===m-1){if(Wt.patternMatchVariance(r,l,zt.MAX_INDIVIDUAL_VARIANCE)<zt.MAX_AVG_VARIANCE)return Int32Array.from([d,A]);d+=r[0]+r[1];let S=r.slice(2,r.length-1);for(let _=0;_<c-1;_++)r[_]=S[_];r[c-1]=0,r[c]=0,c--}else c++;r[c]=1,b=!b}throw new re}static decodeDigit(t,i,s,l){this.recordPattern(t,s,i);let r=this.MAX_AVG_VARIANCE,a=-1,c=l.length;for(let d=0;d<c;d++){let m=l[d],b=Wt.patternMatchVariance(i,m,zt.MAX_INDIVIDUAL_VARIANCE);b<r&&(r=b,a=d)}if(a>=0)return a;throw new re}}zt.MAX_AVG_VARIANCE=.48,zt.MAX_INDIVIDUAL_VARIANCE=.7,zt.START_END_PATTERN=Int32Array.from([1,1,1]),zt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),zt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),zt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Nr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,s){let l=this.decodeRowStringBuffer,r=this.decodeMiddle(i,s,l),a=l.toString(),c=Nr.parseExtensionString(a),d=[new ke((s[0]+s[1])/2,t),new ke(r,t)],m=new ze(a,null,0,d,ve.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&m.putAllMetadata(c),m}decodeMiddle(t,i,s){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let r=t.getSize(),a=i[1],c=0;for(let m=0;m<5&&a<r;m++){let b=zt.decodeDigit(t,l,a,zt.L_AND_G_PATTERNS);s+=String.fromCharCode(48+b%10);for(let A of l)a+=A;b>=10&&(c|=1<<4-m),m!==4&&(a=t.getNextSet(a),a=t.getNextUnset(a))}if(s.length!==5)throw new re;let d=this.determineCheckDigit(c);if(Nr.extensionChecksum(s.toString())!==d)throw new re;return a}static extensionChecksum(t){let i=t.length,s=0;for(let l=i-2;l>=0;l-=2)s+=t.charAt(l).charCodeAt(0)-48;s*=3;for(let l=i-1;l>=0;l-=2)s+=t.charAt(l).charCodeAt(0)-48;return s*=3,s%10}determineCheckDigit(t){for(let i=0;i<10;i++)if(t===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new re}static parseExtensionString(t){if(t.length!==5)return null;let i=Nr.parseExtension5String(t);return i==null?null:new Map([[ht.SUGGESTED_PRICE,i]])}static parseExtension5String(t){let i;switch(t.charAt(0)){case"0":i="£";break;case"5":i="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let s=parseInt(t.substring(1)),l=(s/100).toString(),r=s%100,a=r<10?"0"+r:r.toString();return i+l+"."+a}}class Ii{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,s){let l=this.decodeRowStringBuffer,r=this.decodeMiddle(i,s,l),a=l.toString(),c=Ii.parseExtensionString(a),d=[new ke((s[0]+s[1])/2,t),new ke(r,t)],m=new ze(a,null,0,d,ve.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&m.putAllMetadata(c),m}decodeMiddle(t,i,s){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let r=t.getSize(),a=i[1],c=0;for(let d=0;d<2&&a<r;d++){let m=zt.decodeDigit(t,l,a,zt.L_AND_G_PATTERNS);s+=String.fromCharCode(48+m%10);for(let b of l)a+=b;m>=10&&(c|=1<<1-d),d!==1&&(a=t.getNextSet(a),a=t.getNextUnset(a))}if(s.length!==2)throw new re;if(parseInt(s.toString())%4!==c)throw new re;return a}static parseExtensionString(t){return t.length!==2?null:new Map([[ht.ISSUE_NUMBER,parseInt(t)]])}}class Ie{static decodeRow(t,i,s){let l=zt.findGuardPattern(i,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Nr().decodeRow(t,i,l)}catch{return new Ii().decodeRow(t,i,l)}}}Ie.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Et extends zt{constructor(){super(),this.decodeRowStringBuffer="",Et.L_AND_G_PATTERNS=Et.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let i=Et.L_PATTERNS[t-10],s=new Int32Array(i.length);for(let l=0;l<i.length;l++)s[l]=i[i.length-l-1];Et.L_AND_G_PATTERNS[t]=s}}decodeRow(t,i,s){let l=Et.findStartGuardPattern(i),r=s==null?null:s.get(Ve.NEED_RESULT_POINT_CALLBACK);if(r!=null){const F=new ke((l[0]+l[1])/2,t);r.foundPossibleResultPoint(F)}let a=this.decodeMiddle(i,l,this.decodeRowStringBuffer),c=a.rowOffset,d=a.resultString;if(r!=null){const F=new ke(c,t);r.foundPossibleResultPoint(F)}let m=this.decodeEnd(i,c);if(r!=null){const F=new ke((m[0]+m[1])/2,t);r.foundPossibleResultPoint(F)}let b=m[1],A=b+(b-m[0]);if(A>=i.getSize()||!i.isRange(b,A,!1))throw new re;let S=d.toString();if(S.length<8)throw new fe;if(!Et.checkChecksum(S))throw new te;let _=(l[1]+l[0])/2,M=(m[1]+m[0])/2,B=this.getBarcodeFormat(),k=[new ke(_,t),new ke(M,t)],P=new ze(S,null,0,k,B,new Date().getTime()),U=0;try{let F=Ie.decodeRow(t,i,m[1]);P.putMetadata(ht.UPC_EAN_EXTENSION,F.getText()),P.putAllMetadata(F.getResultMetadata()),P.addResultPoints(F.getResultPoints()),U=F.getText().length}catch{}let z=s==null?null:s.get(Ve.ALLOWED_EAN_EXTENSIONS);if(z!=null){let F=!1;for(let V in z)if(U.toString()===V){F=!0;break}if(!F)throw new re}return P}decodeEnd(t,i){return Et.findGuardPattern(t,i,!1,Et.START_END_PATTERN,new Int32Array(Et.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return Et.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let s=parseInt(t.charAt(i-1),10);return Et.getStandardUPCEANChecksum(t.substring(0,i-1))===s}static getStandardUPCEANChecksum(t){let i=t.length,s=0;for(let l=i-1;l>=0;l-=2){let r=t.charAt(l).charCodeAt(0)-48;if(r<0||r>9)throw new fe;s+=r}s*=3;for(let l=i-2;l>=0;l-=2){let r=t.charAt(l).charCodeAt(0)-48;if(r<0||r>9)throw new fe;s+=r}return(1e3-s)%10}}class yr extends Et{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,s){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let r=t.getSize(),a=i[1],c=0;for(let m=0;m<6&&a<r;m++){let b=Et.decodeDigit(t,l,a,Et.L_AND_G_PATTERNS);s+=String.fromCharCode(48+b%10);for(let A of l)a+=A;b>=10&&(c|=1<<5-m)}s=yr.determineFirstDigit(s,c),a=Et.findGuardPattern(t,a,!0,Et.MIDDLE_PATTERN,new Int32Array(Et.MIDDLE_PATTERN.length).fill(0))[1];for(let m=0;m<6&&a<r;m++){let b=Et.decodeDigit(t,l,a,Et.L_PATTERNS);s+=String.fromCharCode(48+b);for(let A of l)a+=A}return{rowOffset:a,resultString:s}}getBarcodeFormat(){return ve.EAN_13}static determineFirstDigit(t,i){for(let s=0;s<10;s++)if(i===this.FIRST_DIGIT_ENCODINGS[s])return t=String.fromCharCode(48+s)+t,t;throw new re}}yr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Pa extends Et{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,s){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let r=t.getSize(),a=i[1];for(let d=0;d<4&&a<r;d++){let m=Et.decodeDigit(t,l,a,Et.L_PATTERNS);s+=String.fromCharCode(48+m);for(let b of l)a+=b}a=Et.findGuardPattern(t,a,!0,Et.MIDDLE_PATTERN,new Int32Array(Et.MIDDLE_PATTERN.length).fill(0))[1];for(let d=0;d<4&&a<r;d++){let m=Et.decodeDigit(t,l,a,Et.L_PATTERNS);s+=String.fromCharCode(48+m);for(let b of l)a+=b}return{rowOffset:a,resultString:s}}getBarcodeFormat(){return ve.EAN_8}}class ja extends Et{constructor(){super(...arguments),this.ean13Reader=new yr}getBarcodeFormat(){return ve.UPC_A}decode(t,i){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,i,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,i,s))}decodeMiddle(t,i,s){return this.ean13Reader.decodeMiddle(t,i,s)}maybeReturnResult(t){let i=t.getText();if(i.charAt(0)==="0"){let s=new ze(i.substring(1),null,null,t.getResultPoints(),ve.UPC_A);return t.getResultMetadata()!=null&&s.putAllMetadata(t.getResultMetadata()),s}else throw new re}reset(){this.ean13Reader.reset()}}class ir extends Et{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,i,s){const l=this.decodeMiddleCounters.map(m=>m);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const r=t.getSize();let a=i[1],c=0;for(let m=0;m<6&&a<r;m++){const b=ir.decodeDigit(t,l,a,ir.L_AND_G_PATTERNS);s+=String.fromCharCode(48+b%10);for(let A of l)a+=A;b>=10&&(c|=1<<5-m)}let d=ir.determineNumSysAndCheckDigit(s,c);return{rowOffset:a,resultString:d}}decodeEnd(t,i){return ir.findGuardPatternWithoutCounters(t,i,!0,ir.MIDDLE_END_PATTERN)}checkChecksum(t){return Et.checkChecksum(ir.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,i){for(let s=0;s<=1;s++)for(let l=0;l<10;l++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][l]){let r=String.fromCharCode(48+s),a=String.fromCharCode(48+l);return r+t+a}throw re.getNotFoundInstance()}getBarcodeFormat(){return ve.UPC_E}static convertUPCEtoUPCA(t){const i=t.slice(1,7).split("").map(r=>r.charCodeAt(0)),s=new tt;s.append(t.charAt(0));let l=i[5];switch(l){case 0:case 1:case 2:s.appendChars(i,0,2),s.append(l),s.append("0000"),s.appendChars(i,2,3);break;case 3:s.appendChars(i,0,3),s.append("00000"),s.appendChars(i,3,2);break;case 4:s.appendChars(i,0,4),s.append("00000"),s.append(i[4]);break;default:s.appendChars(i,0,5),s.append("0000"),s.append(l);break}return t.length>=8&&s.append(t.charAt(7)),s.toString()}}ir.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ir.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ga extends Wt{constructor(t){super();let i=t==null?null:t.get(Ve.POSSIBLE_FORMATS),s=[];g(i)?(s.push(new yr),s.push(new ja),s.push(new Pa),s.push(new ir)):(i.indexOf(ve.EAN_13)>-1&&s.push(new yr),i.indexOf(ve.UPC_A)>-1&&s.push(new ja),i.indexOf(ve.EAN_8)>-1&&s.push(new Pa),i.indexOf(ve.UPC_E)>-1&&s.push(new ir)),this.readers=s}decodeRow(t,i,s){for(let l of this.readers)try{const r=l.decodeRow(t,i,s),a=r.getBarcodeFormat()===ve.EAN_13&&r.getText().charAt(0)==="0",c=s==null?null:s.get(Ve.POSSIBLE_FORMATS),d=c==null||c.includes(ve.UPC_A);if(a&&d){const m=r.getRawBytes(),b=new ze(r.getText().substring(1),m,m?m.length:null,r.getResultPoints(),ve.UPC_A);return b.putAllMetadata(r.getResultMetadata()),b}return r}catch{}throw new re}reset(){for(let t of this.readers)t.reset()}}class Rn extends Wt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,i){for(let s=0;s<i.length;s++)if(Wt.patternMatchVariance(t,i[s],Rn.MAX_INDIVIDUAL_VARIANCE)<Rn.MAX_AVG_VARIANCE)return s;throw new re}static count(t){return wt.sum(new Int32Array(t))}static increment(t,i){let s=0,l=i[0];for(let r=1;r<t.length;r++)i[r]>l&&(l=i[r],s=r);t[s]++}static decrement(t,i){let s=0,l=i[0];for(let r=1;r<t.length;r++)i[r]<l&&(l=i[r],s=r);t[s]--}static isFinderPattern(t){let i=t[0]+t[1],s=i+t[2]+t[3],l=i/s;if(l>=Rn.MIN_FINDER_PATTERN_RATIO&&l<=Rn.MAX_FINDER_PATTERN_RATIO){let r=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;for(let c of t)c>a&&(a=c),c<r&&(r=c);return a<10*r}return!1}}Rn.MAX_AVG_VARIANCE=.2,Rn.MAX_INDIVIDUAL_VARIANCE=.45,Rn.MIN_FINDER_PATTERN_RATIO=9.5/12,Rn.MAX_FINDER_PATTERN_RATIO=12.5/14;class br{constructor(t,i){this.value=t,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof br))return!1;const i=t;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class qr{constructor(t,i,s,l,r){this.value=t,this.startEnd=i,this.value=t,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new ke(s,r)),this.resultPoints.push(new ke(l,r))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof qr))return!1;const i=t;return this.value===i.value}hashCode(){return this.value}}class An{constructor(){}static getRSSvalue(t,i,s){let l=0;for(let d of t)l+=d;let r=0,a=0,c=t.length;for(let d=0;d<c-1;d++){let m;for(m=1,a|=1<<d;m<t[d];m++,a&=~(1<<d)){let b=An.combins(l-m-1,c-d-2);if(s&&a===0&&l-m-(c-d-1)>=c-d-1&&(b-=An.combins(l-m-(c-d),c-d-2)),c-d-1>1){let A=0;for(let S=l-m-(c-d-2);S>i;S--)A+=An.combins(l-m-S-1,c-d-3);b-=A*(c-1-d)}else l-m>i&&b--;r+=b}l-=m}return r}static combins(t,i){let s,l;t-i>i?(l=i,s=t-i):(l=t-i,s=i);let r=1,a=1;for(let c=t;c>s;c--)r*=c,a<=l&&(r/=a,a++);for(;a<=l;)r/=a,a++;return r}}class Sn{static buildBitArray(t){let i=t.length*2-1;t[t.length-1].getRightChar()==null&&(i-=1);let s=12*i,l=new Ge(s),r=0,c=t[0].getRightChar().getValue();for(let d=11;d>=0;--d)(c&1<<d)!=0&&l.set(r),r++;for(let d=1;d<t.length;++d){let m=t[d],b=m.getLeftChar().getValue();for(let A=11;A>=0;--A)(b&1<<A)!=0&&l.set(r),r++;if(m.getRightChar()!=null){let A=m.getRightChar().getValue();for(let S=11;S>=0;--S)(A&1<<S)!=0&&l.set(r),r++}}return l}}class lt{constructor(t,i){i?this.decodedInformation=null:(this.finished=t,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class $t{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Yn extends $t{constructor(t,i){super(t),this.value=i}getValue(){return this.value}isFNC1(){return this.value===Yn.FNC1}}Yn.FNC1="$";class Lr extends $t{constructor(t,i,s){super(t),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class $n extends $t{constructor(t,i,s){if(super(t),i<0||i>10||s<0||s>10)throw new fe;this.firstDigit=i,this.secondDigit=s}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===$n.FNC1}isSecondDigitFNC1(){return this.secondDigit===$n.FNC1}isAnyFNC1(){return this.firstDigit===$n.FNC1||this.secondDigit===$n.FNC1}}$n.FNC1=10;class Be{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new re;let i=t.substring(0,2);for(let r of Be.TWO_DIGIT_DATA_LENGTH)if(r[0]===i)return r[1]===Be.VARIABLE_LENGTH?Be.processVariableAI(2,r[2],t):Be.processFixedAI(2,r[1],t);if(t.length<3)throw new re;let s=t.substring(0,3);for(let r of Be.THREE_DIGIT_DATA_LENGTH)if(r[0]===s)return r[1]===Be.VARIABLE_LENGTH?Be.processVariableAI(3,r[2],t):Be.processFixedAI(3,r[1],t);for(let r of Be.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(r[0]===s)return r[1]===Be.VARIABLE_LENGTH?Be.processVariableAI(4,r[2],t):Be.processFixedAI(4,r[1],t);if(t.length<4)throw new re;let l=t.substring(0,4);for(let r of Be.FOUR_DIGIT_DATA_LENGTH)if(r[0]===l)return r[1]===Be.VARIABLE_LENGTH?Be.processVariableAI(4,r[2],t):Be.processFixedAI(4,r[1],t);throw new re}static processFixedAI(t,i,s){if(s.length<t)throw new re;let l=s.substring(0,t);if(s.length<t+i)throw new re;let r=s.substring(t,t+i),a=s.substring(t+i),c="("+l+")"+r,d=Be.parseFieldsInGeneralPurpose(a);return d==null?c:c+d}static processVariableAI(t,i,s){let l=s.substring(0,t),r;s.length<t+i?r=s.length:r=t+i;let a=s.substring(t,r),c=s.substring(r),d="("+l+")"+a,m=Be.parseFieldsInGeneralPurpose(c);return m==null?d:d+m}}Be.VARIABLE_LENGTH=[],Be.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Be.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Be.VARIABLE_LENGTH,20],["22",Be.VARIABLE_LENGTH,29],["30",Be.VARIABLE_LENGTH,8],["37",Be.VARIABLE_LENGTH,8],["90",Be.VARIABLE_LENGTH,30],["91",Be.VARIABLE_LENGTH,30],["92",Be.VARIABLE_LENGTH,30],["93",Be.VARIABLE_LENGTH,30],["94",Be.VARIABLE_LENGTH,30],["95",Be.VARIABLE_LENGTH,30],["96",Be.VARIABLE_LENGTH,30],["97",Be.VARIABLE_LENGTH,3],["98",Be.VARIABLE_LENGTH,30],["99",Be.VARIABLE_LENGTH,30]],Be.THREE_DIGIT_DATA_LENGTH=[["240",Be.VARIABLE_LENGTH,30],["241",Be.VARIABLE_LENGTH,30],["242",Be.VARIABLE_LENGTH,6],["250",Be.VARIABLE_LENGTH,30],["251",Be.VARIABLE_LENGTH,30],["253",Be.VARIABLE_LENGTH,17],["254",Be.VARIABLE_LENGTH,20],["400",Be.VARIABLE_LENGTH,30],["401",Be.VARIABLE_LENGTH,30],["402",17],["403",Be.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Be.VARIABLE_LENGTH,20],["421",Be.VARIABLE_LENGTH,15],["422",3],["423",Be.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Be.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Be.VARIABLE_LENGTH,15],["391",Be.VARIABLE_LENGTH,18],["392",Be.VARIABLE_LENGTH,15],["393",Be.VARIABLE_LENGTH,18],["703",Be.VARIABLE_LENGTH,30]],Be.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Be.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Be.VARIABLE_LENGTH,20],["8003",Be.VARIABLE_LENGTH,30],["8004",Be.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Be.VARIABLE_LENGTH,30],["8008",Be.VARIABLE_LENGTH,12],["8018",18],["8020",Be.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Be.VARIABLE_LENGTH,70],["8200",Be.VARIABLE_LENGTH,70]];class Pr{constructor(t){this.buffer=new tt,this.information=t}decodeAllCodes(t,i){let s=i,l=null;do{let r=this.decodeGeneralPurposeField(s,l),a=Be.parseFieldsInGeneralPurpose(r.getNewString());if(a!=null&&t.append(a),r.isRemaining()?l=""+r.getRemainingValue():l=null,s===r.getNewPosition())break;s=r.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let i=t;i<t+3;++i)if(this.information.get(i))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let r=this.extractNumericValueFromBitArray(t,4);return r===0?new $n(this.information.getSize(),$n.FNC1,$n.FNC1):new $n(this.information.getSize(),r-1,$n.FNC1)}let i=this.extractNumericValueFromBitArray(t,7),s=(i-8)/11,l=(i-8)%11;return new $n(t+7,s,l)}extractNumericValueFromBitArray(t,i){return Pr.extractNumericValueFromBitArray(this.information,t,i)}static extractNumericValueFromBitArray(t,i,s){let l=0;for(let r=0;r<s;++r)t.get(i+r)&&(l|=1<<s-r-1);return l}decodeGeneralPurposeField(t,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(t);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new Lr(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new Lr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,i;do{let s=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),t=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),t=i.isFinished()):(i=this.parseNumericBlock(),t=i.isFinished()),!(s!==this.current.getPosition())&&!t)break}while(!t);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let i;return t.isSecondDigitFNC1()?i=new Lr(this.current.getPosition(),this.buffer.toString()):i=new Lr(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new lt(!0,i)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let i=new Lr(this.current.getPosition(),this.buffer.toString());return new lt(!0,i)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new lt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new Lr(this.current.getPosition(),this.buffer.toString());return new lt(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new lt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new Lr(this.current.getPosition(),this.buffer.toString());return new lt(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new lt(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,7);if(s>=64&&s<116)return!0;if(t+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(t,8);return l>=232&&l<253}decodeIsoIec646(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new Yn(t+5,Yn.FNC1);if(i>=5&&i<15)return new Yn(t+5,"0"+(i-5));let s=this.extractNumericValueFromBitArray(t,7);if(s>=64&&s<90)return new Yn(t+7,""+(s+1));if(s>=90&&s<116)return new Yn(t+7,""+(s+7));let l=this.extractNumericValueFromBitArray(t,8),r;switch(l){case 232:r="!";break;case 233:r='"';break;case 234:r="%";break;case 235:r="&";break;case 236:r="'";break;case 237:r="(";break;case 238:r=")";break;case 239:r="*";break;case 240:r="+";break;case 241:r=",";break;case 242:r="-";break;case 243:r=".";break;case 244:r="/";break;case 245:r=":";break;case 246:r=";";break;case 247:r="<";break;case 248:r="=";break;case 249:r=">";break;case 250:r="?";break;case 251:r="_";break;case 252:r=" ";break;default:throw new fe}return new Yn(t+8,r)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,6);return s>=16&&s<63}decodeAlphanumeric(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new Yn(t+5,Yn.FNC1);if(i>=5&&i<15)return new Yn(t+5,"0"+(i-5));let s=this.extractNumericValueFromBitArray(t,6);if(s>=32&&s<58)return new Yn(t+6,""+(s+33));let l;switch(s){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new Vn("Decoding invalid alphanumeric value: "+s)}return new Yn(t+6,l)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<5&&i+t<this.information.getSize();++i)if(i===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+i))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let i=t;i<t+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<4&&i+t<this.information.getSize();++i)if(this.information.get(t+i))return!1;return!0}}class vr{constructor(t){this.information=t,this.generalDecoder=new Pr(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class rn extends vr{constructor(t){super(t)}encodeCompressedGtin(t,i){t.append("(01)");let s=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,i,s)}encodeCompressedGtinWithoutAI(t,i,s){for(let l=0;l<4;++l){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*l,10);r/100===0&&t.append("0"),r/10===0&&t.append("0"),t.append(r)}rn.appendCheckDigit(t,s)}static appendCheckDigit(t,i){let s=0;for(let l=0;l<13;l++){let r=t.charAt(l+i).charCodeAt(0)-48;s+=(l&1)===0?3*r:r}s=10-s%10,s===10&&(s=0),t.append(s)}}rn.GTIN_SIZE=40;class On extends rn{constructor(t){super(t)}parseInformation(){let t=new tt;t.append("(01)");let i=t.length(),s=this.getGeneralDecoder().extractNumericValueFromBitArray(On.HEADER_SIZE,4);return t.append(s),this.encodeCompressedGtinWithoutAI(t,On.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(t,On.HEADER_SIZE+44)}}On.HEADER_SIZE=4;class Rr extends vr{constructor(t){super(t)}parseInformation(){let t=new tt;return this.getGeneralDecoder().decodeAllCodes(t,Rr.HEADER_SIZE)}}Rr.HEADER_SIZE=5;class Kr extends rn{constructor(t){super(t)}encodeCompressedWeight(t,i,s){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i,s);this.addWeightCode(t,l);let r=this.checkWeight(l),a=1e5;for(let c=0;c<5;++c)r/a===0&&t.append("0"),a/=10;t.append(r)}}class Tt extends Kr{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Tt.HEADER_SIZE+Kr.GTIN_SIZE+Tt.WEIGHT_SIZE)throw new re;let t=new tt;return this.encodeCompressedGtin(t,Tt.HEADER_SIZE),this.encodeCompressedWeight(t,Tt.HEADER_SIZE+Kr.GTIN_SIZE,Tt.WEIGHT_SIZE),t.toString()}}Tt.HEADER_SIZE=5,Tt.WEIGHT_SIZE=15;class ms extends Tt{constructor(t){super(t)}addWeightCode(t,i){t.append("(3103)")}checkWeight(t){return t}}class di extends Tt{constructor(t){super(t)}addWeightCode(t,i){i<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Pn extends rn{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Pn.HEADER_SIZE+rn.GTIN_SIZE)throw new re;let t=new tt;this.encodeCompressedGtin(t,Pn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Pn.HEADER_SIZE+rn.GTIN_SIZE,Pn.LAST_DIGIT_SIZE);t.append("(392"),t.append(i),t.append(")");let s=this.getGeneralDecoder().decodeGeneralPurposeField(Pn.HEADER_SIZE+rn.GTIN_SIZE+Pn.LAST_DIGIT_SIZE,null);return t.append(s.getNewString()),t.toString()}}Pn.HEADER_SIZE=8,Pn.LAST_DIGIT_SIZE=2;class fn extends rn{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<fn.HEADER_SIZE+rn.GTIN_SIZE)throw new re;let t=new tt;this.encodeCompressedGtin(t,fn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(fn.HEADER_SIZE+rn.GTIN_SIZE,fn.LAST_DIGIT_SIZE);t.append("(393"),t.append(i),t.append(")");let s=this.getGeneralDecoder().extractNumericValueFromBitArray(fn.HEADER_SIZE+rn.GTIN_SIZE+fn.LAST_DIGIT_SIZE,fn.FIRST_THREE_DIGITS_SIZE);s/100==0&&t.append("0"),s/10==0&&t.append("0"),t.append(s);let l=this.getGeneralDecoder().decodeGeneralPurposeField(fn.HEADER_SIZE+rn.GTIN_SIZE+fn.LAST_DIGIT_SIZE+fn.FIRST_THREE_DIGITS_SIZE,null);return t.append(l.getNewString()),t.toString()}}fn.HEADER_SIZE=8,fn.LAST_DIGIT_SIZE=2,fn.FIRST_THREE_DIGITS_SIZE=10;class at extends Kr{constructor(t,i,s){super(t),this.dateCode=s,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=at.HEADER_SIZE+at.GTIN_SIZE+at.WEIGHT_SIZE+at.DATE_SIZE)throw new re;let t=new tt;return this.encodeCompressedGtin(t,at.HEADER_SIZE),this.encodeCompressedWeight(t,at.HEADER_SIZE+at.GTIN_SIZE,at.WEIGHT_SIZE),this.encodeCompressedDate(t,at.HEADER_SIZE+at.GTIN_SIZE+at.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,i){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(i,at.DATE_SIZE);if(s==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let l=s%32;s/=32;let r=s%12+1;s/=12;let a=s;a/10==0&&t.append("0"),t.append(a),r/10==0&&t.append("0"),t.append(r),l/10==0&&t.append("0"),t.append(l)}addWeightCode(t,i){t.append("("),t.append(this.firstAIdigits),t.append(i/1e5),t.append(")")}checkWeight(t){return t%1e5}}at.HEADER_SIZE=8,at.WEIGHT_SIZE=20,at.DATE_SIZE=16;function Qr(O){try{if(O.get(1))return new On(O);if(!O.get(2))return new Rr(O);switch(Pr.extractNumericValueFromBitArray(O,1,4)){case 4:return new ms(O);case 5:return new di(O)}switch(Pr.extractNumericValueFromBitArray(O,1,5)){case 12:return new Pn(O);case 13:return new fn(O)}switch(Pr.extractNumericValueFromBitArray(O,1,7)){case 56:return new at(O,"310","11");case 57:return new at(O,"320","11");case 58:return new at(O,"310","13");case 59:return new at(O,"320","13");case 60:return new at(O,"310","15");case 61:return new at(O,"320","15");case 62:return new at(O,"310","17");case 63:return new at(O,"320","17")}}catch(t){throw console.log(t),new Vn("unknown decoder: "+O)}}class jn{constructor(t,i,s,l){this.leftchar=t,this.rightchar=i,this.finderpattern=s,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,i){return t instanceof jn?jn.equalsOrNull(t.leftchar,i.leftchar)&&jn.equalsOrNull(t.rightchar,i.rightchar)&&jn.equalsOrNull(t.finderpattern,i.finderpattern):!1}static equalsOrNull(t,i){return t===null?i===null:jn.equals(t,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ua{constructor(t,i,s){this.pairs=t,this.rowNumber=i,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,i){return t instanceof Ua?this.checkEqualitity(t,i)&&t.wasReversed===i.wasReversed:!1}checkEqualitity(t,i){if(!t||!i)return;let s;return t.forEach((l,r)=>{i.forEach(a=>{l.getLeftChar().getValue()===a.getLeftChar().getValue()&&l.getRightChar().getValue()===a.getRightChar().getValue()&&l.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(s=!0)})}),s}}class ge extends Rn{constructor(t){super(...arguments),this.pairs=new Array(ge.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,i,s){this.pairs.length=0,this.startFromEven=!1;try{return ge.constructResult(this.decodeRow2pairs(t,i))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,ge.constructResult(this.decodeRow2pairs(t,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,i){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,t))}catch(r){if(r instanceof re){if(!this.pairs.length)throw new re;s=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(t,!1),l){let r=this.checkRowsBoolean(!1);if(r!=null||(r=this.checkRowsBoolean(!0),r!=null))return r}throw new re}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return t&&(this.rows=this.rows.reverse()),i}checkRows(t,i){for(let s=i;s<this.rows.length;s++){let l=this.rows[s];this.pairs.length=0;for(let a of t)this.pairs.push(a.getPairs());if(this.pairs.push(l.getPairs()),!ge.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let r=new Array(t);r.push(l);try{return this.checkRows(r,s+1)}catch(a){this.verbose&&console.log(a)}}throw new re}static isValidSequence(t){for(let i of ge.FINDER_PATTERN_SEQUENCES){if(t.length>i.length)continue;let s=!0;for(let l=0;l<t.length;l++)if(t[l].getFinderPattern().getValue()!=i[l]){s=!1;break}if(s)return!0}return!1}storeRow(t,i){let s=0,l=!1,r=!1;for(;s<this.rows.length;){let a=this.rows[s];if(a.getRowNumber()>t){r=a.isEquivalent(this.pairs);break}l=a.isEquivalent(this.pairs),s++}r||l||ge.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new Ua(this.pairs,t,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,i){for(let s of i)if(s.getPairs().length!==t.length){for(let l of s.getPairs())for(let r of t)if(jn.equals(l,r))break}}static isPartialRow(t,i){for(let s of i){let l=!0;for(let r of t){let a=!1;for(let c of s.getPairs())if(r.equals(c)){a=!0;break}if(!a){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(t){let i=Sn.buildBitArray(t),l=Qr(i).parseInformation(),r=t[0].getFinderPattern().getResultPoints(),a=t[t.length-1].getFinderPattern().getResultPoints(),c=[r[0],r[1],a[0],a[1]];return new ze(l,null,null,c,ve.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),i=t.getLeftChar(),s=t.getRightChar();if(s==null)return!1;let l=s.getChecksumPortion(),r=2;for(let c=1;c<this.pairs.size();++c){let d=this.pairs.get(c);l+=d.getLeftChar().getChecksumPortion(),r++;let m=d.getRightChar();m!=null&&(l+=m.getChecksumPortion(),r++)}return l%=211,211*(r-4)+l==i.getValue()}static getNextSecondBar(t,i){let s;return t.get(i)?(s=t.getNextUnset(i),s=t.getNextSet(s)):(s=t.getNextSet(i),s=t.getNextUnset(s)),s}retrieveNextPair(t,i,s){let l=i.length%2==0;this.startFromEven&&(l=!l);let r,a=!0,c=-1;do this.findNextPair(t,i,c),r=this.parseFoundFinderPattern(t,s,l),r==null?c=ge.getNextSecondBar(t,this.startEnd[0]):a=!1;while(a);let d=this.decodeDataCharacter(t,r,l,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new re;let m;try{m=this.decodeDataCharacter(t,r,l,!1)}catch(b){m=null,this.verbose&&console.log(b)}return new jn(d,m,r,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,i,s){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let r=t.getSize(),a;s>=0?a=s:this.isEmptyPair(i)?a=0:a=i[i.length-1].getFinderPattern().getStartEnd()[1];let c=i.length%2!=0;this.startFromEven&&(c=!c);let d=!1;for(;a<r&&(d=!t.get(a),!!d);)a++;let m=0,b=a;for(let A=a;A<r;A++)if(t.get(A)!=d)l[m]++;else{if(m==3){if(c&&ge.reverseCounters(l),ge.isFinderPattern(l)){this.startEnd[0]=b,this.startEnd[1]=A;return}c&&ge.reverseCounters(l),b+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,m--}else m++;l[m]=1,d=!d}throw new re}static reverseCounters(t){let i=t.length;for(let s=0;s<i/2;++s){let l=t[s];t[s]=t[i-s-1],t[i-s-1]=l}}parseFoundFinderPattern(t,i,s){let l,r,a;if(s){let m=this.startEnd[0]-1;for(;m>=0&&!t.get(m);)m--;m++,l=this.startEnd[0]-m,r=m,a=this.startEnd[1]}else r=this.startEnd[0],a=t.getNextUnset(this.startEnd[1]+1),l=a-this.startEnd[1];let c=this.getDecodeFinderCounters();ue.arraycopy(c,0,c,1,c.length-1),c[0]=l;let d;try{d=this.parseFinderValue(c,ge.FINDER_PATTERNS)}catch{return null}return new qr(d,[r,a],r,a,i)}decodeDataCharacter(t,i,s,l){let r=this.getDataCharacterCounters();for(let de=0;de<r.length;de++)r[de]=0;if(l)ge.recordPatternInReverse(t,i.getStartEnd()[0],r);else{ge.recordPattern(t,i.getStartEnd()[1],r);for(let de=0,Ce=r.length-1;de<Ce;de++,Ce--){let ye=r[de];r[de]=r[Ce],r[Ce]=ye}}let a=17,c=wt.sum(new Int32Array(r))/a,d=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(c-d)/d>.3)throw new re;let m=this.getOddCounts(),b=this.getEvenCounts(),A=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let de=0;de<r.length;de++){let Ce=1*r[de]/c,ye=Ce+.5;if(ye<1){if(Ce<.3)throw new re;ye=1}else if(ye>8){if(Ce>8.7)throw new re;ye=8}let Ae=de/2;(de&1)==0?(m[Ae]=ye,A[Ae]=Ce-ye):(b[Ae]=ye,S[Ae]=Ce-ye)}this.adjustOddEvenCounts(a);let _=4*i.getValue()+(s?0:2)+(l?0:1)-1,M=0,B=0;for(let de=m.length-1;de>=0;de--){if(ge.isNotA1left(i,s,l)){let Ce=ge.WEIGHTS[_][2*de];B+=m[de]*Ce}M+=m[de]}let k=0;for(let de=b.length-1;de>=0;de--)if(ge.isNotA1left(i,s,l)){let Ce=ge.WEIGHTS[_][2*de+1];k+=b[de]*Ce}let P=B+k;if((M&1)!=0||M>13||M<4)throw new re;let U=(13-M)/2,z=ge.SYMBOL_WIDEST[U],F=9-z,V=An.getRSSvalue(m,z,!0),K=An.getRSSvalue(b,F,!1),$=ge.EVEN_TOTAL_SUBSET[U],ne=ge.GSUM[U],le=V*$+K+ne;return new br(le,P)}static isNotA1left(t,i,s){return!(t.getValue()==0&&i&&s)}adjustOddEvenCounts(t){let i=wt.sum(new Int32Array(this.getOddCounts())),s=wt.sum(new Int32Array(this.getEvenCounts())),l=!1,r=!1;i>13?r=!0:i<4&&(l=!0);let a=!1,c=!1;s>13?c=!0:s<4&&(a=!0);let d=i+s-t,m=(i&1)==1,b=(s&1)==0;if(d==1)if(m){if(b)throw new re;r=!0}else{if(!b)throw new re;c=!0}else if(d==-1)if(m){if(b)throw new re;l=!0}else{if(!b)throw new re;a=!0}else if(d==0){if(m){if(!b)throw new re;i<s?(l=!0,c=!0):(r=!0,a=!0)}else if(b)throw new re}else throw new re;if(l){if(r)throw new re;ge.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(r&&ge.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(c)throw new re;ge.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&ge.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ge.SYMBOL_WIDEST=[7,5,4,3,1],ge.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ge.GSUM=[0,348,1388,2948,3988],ge.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ge.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ge.FINDER_PAT_A=0,ge.FINDER_PAT_B=1,ge.FINDER_PAT_C=2,ge.FINDER_PAT_D=3,ge.FINDER_PAT_E=4,ge.FINDER_PAT_F=5,ge.FINDER_PATTERN_SEQUENCES=[[ge.FINDER_PAT_A,ge.FINDER_PAT_A],[ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B],[ge.FINDER_PAT_A,ge.FINDER_PAT_C,ge.FINDER_PAT_B,ge.FINDER_PAT_D],[ge.FINDER_PAT_A,ge.FINDER_PAT_E,ge.FINDER_PAT_B,ge.FINDER_PAT_D,ge.FINDER_PAT_C],[ge.FINDER_PAT_A,ge.FINDER_PAT_E,ge.FINDER_PAT_B,ge.FINDER_PAT_D,ge.FINDER_PAT_D,ge.FINDER_PAT_F],[ge.FINDER_PAT_A,ge.FINDER_PAT_E,ge.FINDER_PAT_B,ge.FINDER_PAT_D,ge.FINDER_PAT_E,ge.FINDER_PAT_F,ge.FINDER_PAT_F],[ge.FINDER_PAT_A,ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B,ge.FINDER_PAT_C,ge.FINDER_PAT_C,ge.FINDER_PAT_D,ge.FINDER_PAT_D],[ge.FINDER_PAT_A,ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B,ge.FINDER_PAT_C,ge.FINDER_PAT_C,ge.FINDER_PAT_D,ge.FINDER_PAT_E,ge.FINDER_PAT_E],[ge.FINDER_PAT_A,ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B,ge.FINDER_PAT_C,ge.FINDER_PAT_C,ge.FINDER_PAT_D,ge.FINDER_PAT_E,ge.FINDER_PAT_F,ge.FINDER_PAT_F],[ge.FINDER_PAT_A,ge.FINDER_PAT_A,ge.FINDER_PAT_B,ge.FINDER_PAT_B,ge.FINDER_PAT_C,ge.FINDER_PAT_D,ge.FINDER_PAT_D,ge.FINDER_PAT_E,ge.FINDER_PAT_E,ge.FINDER_PAT_F,ge.FINDER_PAT_F]],ge.MAX_PAIRS=11;class Mi extends br{constructor(t,i,s){super(t,i),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Dt extends Rn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,i,s){const l=this.decodePair(i,!1,t,s);Dt.addOrTally(this.possibleLeftPairs,l),i.reverse();let r=this.decodePair(i,!0,t,s);Dt.addOrTally(this.possibleRightPairs,r),i.reverse();for(let a of this.possibleLeftPairs)if(a.getCount()>1){for(let c of this.possibleRightPairs)if(c.getCount()>1&&Dt.checkChecksum(a,c))return Dt.constructResult(a,c)}throw new re}static addOrTally(t,i){if(i==null)return;let s=!1;for(let l of t)if(l.getValue()===i.getValue()){l.incrementCount(),s=!0;break}s||t.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,i){let s=4537077*t.getValue()+i.getValue(),l=new String(s).toString(),r=new tt;for(let m=13-l.length;m>0;m--)r.append("0");r.append(l);let a=0;for(let m=0;m<13;m++){let b=r.charAt(m).charCodeAt(0)-48;a+=(m&1)===0?3*b:b}a=10-a%10,a===10&&(a=0),r.append(a.toString());let c=t.getFinderPattern().getResultPoints(),d=i.getFinderPattern().getResultPoints();return new ze(r.toString(),null,0,[c[0],c[1],d[0],d[1]],ve.RSS_14,new Date().getTime())}static checkChecksum(t,i){let s=(t.getChecksumPortion()+16*i.getChecksumPortion())%79,l=9*t.getFinderPattern().getValue()+i.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,s===l}decodePair(t,i,s,l){try{let r=this.findFinderPattern(t,i),a=this.parseFoundFinderPattern(t,s,i,r),c=l==null?null:l.get(Ve.NEED_RESULT_POINT_CALLBACK);if(c!=null){let b=(r[0]+r[1])/2;i&&(b=t.getSize()-1-b),c.foundPossibleResultPoint(new ke(b,s))}let d=this.decodeDataCharacter(t,a,!0),m=this.decodeDataCharacter(t,a,!1);return new Mi(1597*d.getValue()+m.getValue(),d.getChecksumPortion()+4*m.getChecksumPortion(),a)}catch{return null}}decodeDataCharacter(t,i,s){let l=this.getDataCharacterCounters();for(let k=0;k<l.length;k++)l[k]=0;if(s)Wt.recordPatternInReverse(t,i.getStartEnd()[0],l);else{Wt.recordPattern(t,i.getStartEnd()[1]+1,l);for(let k=0,P=l.length-1;k<P;k++,P--){let U=l[k];l[k]=l[P],l[P]=U}}let r=s?16:15,a=wt.sum(new Int32Array(l))/r,c=this.getOddCounts(),d=this.getEvenCounts(),m=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(let k=0;k<l.length;k++){let P=l[k]/a,U=Math.floor(P+.5);U<1?U=1:U>8&&(U=8);let z=Math.floor(k/2);(k&1)===0?(c[z]=U,m[z]=P-U):(d[z]=U,b[z]=P-U)}this.adjustOddEvenCounts(s,r);let A=0,S=0;for(let k=c.length-1;k>=0;k--)S*=9,S+=c[k],A+=c[k];let _=0,M=0;for(let k=d.length-1;k>=0;k--)_*=9,_+=d[k],M+=d[k];let B=S+3*_;if(s){if((A&1)!==0||A>12||A<4)throw new re;let k=(12-A)/2,P=Dt.OUTSIDE_ODD_WIDEST[k],U=9-P,z=An.getRSSvalue(c,P,!1),F=An.getRSSvalue(d,U,!0),V=Dt.OUTSIDE_EVEN_TOTAL_SUBSET[k],K=Dt.OUTSIDE_GSUM[k];return new br(z*V+F+K,B)}else{if((M&1)!==0||M>10||M<4)throw new re;let k=(10-M)/2,P=Dt.INSIDE_ODD_WIDEST[k],U=9-P,z=An.getRSSvalue(c,P,!0),F=An.getRSSvalue(d,U,!1),V=Dt.INSIDE_ODD_TOTAL_SUBSET[k],K=Dt.INSIDE_GSUM[k];return new br(F*V+z+K,B)}}findFinderPattern(t,i){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),r=!1,a=0;for(;a<l&&(r=!t.get(a),i!==r);)a++;let c=0,d=a;for(let m=a;m<l;m++)if(t.get(m)!==r)s[c]++;else{if(c===3){if(Rn.isFinderPattern(s))return[d,m];d+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,c--}else c++;s[c]=1,r=!r}throw new re}parseFoundFinderPattern(t,i,s,l){let r=t.get(l[0]),a=l[0]-1;for(;a>=0&&r!==t.get(a);)a--;a++;const c=l[0]-a,d=this.getDecodeFinderCounters(),m=new Int32Array(d.length);ue.arraycopy(d,0,m,1,d.length-1),m[0]=c;const b=this.parseFinderValue(m,Dt.FINDER_PATTERNS);let A=a,S=l[1];return s&&(A=t.getSize()-1-A,S=t.getSize()-1-S),new qr(b,[a,l[1]],A,S,i)}adjustOddEvenCounts(t,i){let s=wt.sum(new Int32Array(this.getOddCounts())),l=wt.sum(new Int32Array(this.getEvenCounts())),r=!1,a=!1,c=!1,d=!1;t?(s>12?a=!0:s<4&&(r=!0),l>12?d=!0:l<4&&(c=!0)):(s>11?a=!0:s<5&&(r=!0),l>10?d=!0:l<4&&(c=!0));let m=s+l-i,b=(s&1)===(t?1:0),A=(l&1)===1;if(m===1)if(b){if(A)throw new re;a=!0}else{if(!A)throw new re;d=!0}else if(m===-1)if(b){if(A)throw new re;r=!0}else{if(!A)throw new re;c=!0}else if(m===0){if(b){if(!A)throw new re;s<l?(r=!0,d=!0):(a=!0,c=!0)}else if(A)throw new re}else throw new re;if(r){if(a)throw new re;Rn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&Rn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(d)throw new re;Rn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&Rn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Dt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Dt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Dt.OUTSIDE_GSUM=[0,161,961,2015,2715],Dt.INSIDE_GSUM=[0,336,1036,1516],Dt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Dt.INSIDE_ODD_WIDEST=[2,4,6,8],Dt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class jr extends Wt{constructor(t,i){super(),this.readers=[],this.verbose=i===!0;const s=t?t.get(Ve.POSSIBLE_FORMATS):null,l=t&&t.get(Ve.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(ve.EAN_13)||s.includes(ve.UPC_A)||s.includes(ve.EAN_8)||s.includes(ve.UPC_E))&&this.readers.push(new ga(t)),s.includes(ve.CODE_39)&&this.readers.push(new Mt(l)),s.includes(ve.CODE_128)&&this.readers.push(new Ne),s.includes(ve.ITF)&&this.readers.push(new Te),s.includes(ve.RSS_14)&&this.readers.push(new Dt),s.includes(ve.RSS_EXPANDED)&&this.readers.push(new ge(this.verbose))):(this.readers.push(new ga(t)),this.readers.push(new Mt),this.readers.push(new ga(t)),this.readers.push(new Ne),this.readers.push(new Te),this.readers.push(new Dt),this.readers.push(new ge(this.verbose)))}decodeRow(t,i,s){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(t,i,s)}catch{}throw new re}reset(){this.readers.forEach(t=>t.reset())}}class gi extends _e{constructor(t=500,i){super(new jr(i),t,i)}}class bt{constructor(t,i,s){this.ecCodewords=t,this.ecBlocks=[i],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class vt{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class gt{constructor(t,i,s,l,r,a){this.versionNumber=t,this.symbolSizeRows=i,this.symbolSizeColumns=s,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=r,this.ecBlocks=a;let c=0;const d=a.getECCodewords(),m=a.getECBlocks();for(let b of m)c+=b.getCount()*(b.getDataCodewords()+d);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,i){if((t&1)!==0||(i&1)!==0)throw new fe;for(let s of gt.VERSIONS)if(s.symbolSizeRows===t&&s.symbolSizeColumns===i)return s;throw new fe}toString(){return""+this.versionNumber}static buildVersions(){return[new gt(1,10,10,8,8,new bt(5,new vt(1,3))),new gt(2,12,12,10,10,new bt(7,new vt(1,5))),new gt(3,14,14,12,12,new bt(10,new vt(1,8))),new gt(4,16,16,14,14,new bt(12,new vt(1,12))),new gt(5,18,18,16,16,new bt(14,new vt(1,18))),new gt(6,20,20,18,18,new bt(18,new vt(1,22))),new gt(7,22,22,20,20,new bt(20,new vt(1,30))),new gt(8,24,24,22,22,new bt(24,new vt(1,36))),new gt(9,26,26,24,24,new bt(28,new vt(1,44))),new gt(10,32,32,14,14,new bt(36,new vt(1,62))),new gt(11,36,36,16,16,new bt(42,new vt(1,86))),new gt(12,40,40,18,18,new bt(48,new vt(1,114))),new gt(13,44,44,20,20,new bt(56,new vt(1,144))),new gt(14,48,48,22,22,new bt(68,new vt(1,174))),new gt(15,52,52,24,24,new bt(42,new vt(2,102))),new gt(16,64,64,14,14,new bt(56,new vt(2,140))),new gt(17,72,72,16,16,new bt(36,new vt(4,92))),new gt(18,80,80,18,18,new bt(48,new vt(4,114))),new gt(19,88,88,20,20,new bt(56,new vt(4,144))),new gt(20,96,96,22,22,new bt(68,new vt(4,174))),new gt(21,104,104,24,24,new bt(56,new vt(6,136))),new gt(22,120,120,18,18,new bt(68,new vt(6,175))),new gt(23,132,132,20,20,new bt(62,new vt(8,163))),new gt(24,144,144,22,22,new bt(62,new vt(8,156),new vt(2,155))),new gt(25,8,18,6,16,new bt(7,new vt(1,5))),new gt(26,8,32,6,14,new bt(11,new vt(1,10))),new gt(27,12,26,10,24,new bt(14,new vt(1,16))),new gt(28,12,36,10,16,new bt(18,new vt(1,22))),new gt(29,16,36,14,16,new bt(24,new vt(1,32))),new gt(30,16,48,14,22,new bt(28,new vt(1,49)))]}}gt.VERSIONS=gt.buildVersions();class xt{constructor(t){const i=t.getHeight();if(i<8||i>144||(i&1)!==0)throw new fe;this.version=xt.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new It(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const i=t.getHeight(),s=t.getWidth();return gt.getVersionForDimensions(i,s)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let i=0,s=4,l=0;const r=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth();let c=!1,d=!1,m=!1,b=!1;do if(s===r&&l===0&&!c)t[i++]=this.readCorner1(r,a)&255,s-=2,l+=2,c=!0;else if(s===r-2&&l===0&&(a&3)!==0&&!d)t[i++]=this.readCorner2(r,a)&255,s-=2,l+=2,d=!0;else if(s===r+4&&l===2&&(a&7)===0&&!m)t[i++]=this.readCorner3(r,a)&255,s-=2,l+=2,m=!0;else if(s===r-2&&l===0&&(a&7)===4&&!b)t[i++]=this.readCorner4(r,a)&255,s-=2,l+=2,b=!0;else{do s<r&&l>=0&&!this.readMappingMatrix.get(l,s)&&(t[i++]=this.readUtah(s,l,r,a)&255),s-=2,l+=2;while(s>=0&&l<a);s+=1,l+=3;do s>=0&&l<a&&!this.readMappingMatrix.get(l,s)&&(t[i++]=this.readUtah(s,l,r,a)&255),s+=2,l-=2;while(s<r&&l>=0);s+=3,l+=1}while(s<r||l<a);if(i!==this.version.getTotalCodewords())throw new fe;return t}readModule(t,i,s,l){return t<0&&(t+=s,i+=4-(s+4&7)),i<0&&(i+=l,t+=4-(l+4&7)),this.readMappingMatrix.set(i,t),this.mappingBitMatrix.get(i,t)}readUtah(t,i,s,l){let r=0;return this.readModule(t-2,i-2,s,l)&&(r|=1),r<<=1,this.readModule(t-2,i-1,s,l)&&(r|=1),r<<=1,this.readModule(t-1,i-2,s,l)&&(r|=1),r<<=1,this.readModule(t-1,i-1,s,l)&&(r|=1),r<<=1,this.readModule(t-1,i,s,l)&&(r|=1),r<<=1,this.readModule(t,i-2,s,l)&&(r|=1),r<<=1,this.readModule(t,i-1,s,l)&&(r|=1),r<<=1,this.readModule(t,i,s,l)&&(r|=1),r}readCorner1(t,i){let s=0;return this.readModule(t-1,0,t,i)&&(s|=1),s<<=1,this.readModule(t-1,1,t,i)&&(s|=1),s<<=1,this.readModule(t-1,2,t,i)&&(s|=1),s<<=1,this.readModule(0,i-2,t,i)&&(s|=1),s<<=1,this.readModule(0,i-1,t,i)&&(s|=1),s<<=1,this.readModule(1,i-1,t,i)&&(s|=1),s<<=1,this.readModule(2,i-1,t,i)&&(s|=1),s<<=1,this.readModule(3,i-1,t,i)&&(s|=1),s}readCorner2(t,i){let s=0;return this.readModule(t-3,0,t,i)&&(s|=1),s<<=1,this.readModule(t-2,0,t,i)&&(s|=1),s<<=1,this.readModule(t-1,0,t,i)&&(s|=1),s<<=1,this.readModule(0,i-4,t,i)&&(s|=1),s<<=1,this.readModule(0,i-3,t,i)&&(s|=1),s<<=1,this.readModule(0,i-2,t,i)&&(s|=1),s<<=1,this.readModule(0,i-1,t,i)&&(s|=1),s<<=1,this.readModule(1,i-1,t,i)&&(s|=1),s}readCorner3(t,i){let s=0;return this.readModule(t-1,0,t,i)&&(s|=1),s<<=1,this.readModule(t-1,i-1,t,i)&&(s|=1),s<<=1,this.readModule(0,i-3,t,i)&&(s|=1),s<<=1,this.readModule(0,i-2,t,i)&&(s|=1),s<<=1,this.readModule(0,i-1,t,i)&&(s|=1),s<<=1,this.readModule(1,i-3,t,i)&&(s|=1),s<<=1,this.readModule(1,i-2,t,i)&&(s|=1),s<<=1,this.readModule(1,i-1,t,i)&&(s|=1),s}readCorner4(t,i){let s=0;return this.readModule(t-3,0,t,i)&&(s|=1),s<<=1,this.readModule(t-2,0,t,i)&&(s|=1),s<<=1,this.readModule(t-1,0,t,i)&&(s|=1),s<<=1,this.readModule(0,i-2,t,i)&&(s|=1),s<<=1,this.readModule(0,i-1,t,i)&&(s|=1),s<<=1,this.readModule(1,i-1,t,i)&&(s|=1),s<<=1,this.readModule(2,i-1,t,i)&&(s|=1),s<<=1,this.readModule(3,i-1,t,i)&&(s|=1),s}extractDataRegion(t){const i=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(t.getHeight()!==i)throw new D("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),r=this.version.getDataRegionSizeColumns(),a=i/l|0,c=s/r|0,d=a*l,m=c*r,b=new It(m,d);for(let A=0;A<a;++A){const S=A*l;for(let _=0;_<c;++_){const M=_*r;for(let B=0;B<l;++B){const k=A*(l+2)+1+B,P=S+B;for(let U=0;U<r;++U){const z=_*(r+2)+1+U;if(t.get(z,k)){const F=M+U;b.set(F,P)}}}}}return b}}class pa{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i){const s=i.getECBlocks();let l=0;const r=s.getECBlocks();for(let B of r)l+=B.getCount();const a=new Array(l);let c=0;for(let B of r)for(let k=0;k<B.getCount();k++){const P=B.getDataCodewords(),U=s.getECCodewords()+P;a[c++]=new pa(P,new Uint8Array(U))}const m=a[0].codewords.length-s.getECCodewords(),b=m-1;let A=0;for(let B=0;B<b;B++)for(let k=0;k<c;k++)a[k].codewords[B]=t[A++];const S=i.getVersionNumber()===24,_=S?8:c;for(let B=0;B<_;B++)a[B].codewords[m-1]=t[A++];const M=a[0].codewords.length;for(let B=m;B<M;B++)for(let k=0;k<c;k++){const P=S?(k+8)%c:k,U=S&&P>7?B-1:B;a[P].codewords[U]=t[A++]}if(A!==t.length)throw new D;return a}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class er{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new D(""+t);let i=0,s=this.bitOffset,l=this.byteOffset;const r=this.bytes;if(s>0){const a=8-s,c=t<a?t:a,d=a-c,m=255>>8-c<<d;i=(r[l]&m)>>d,t-=c,s+=c,s===8&&(s=0,l++)}if(t>0){for(;t>=8;)i=i<<8|r[l]&255,l++,t-=8;if(t>0){const a=8-t,c=255>>a<<a;i=i<<t|(r[l]&c)>>a,s+=t}}return this.bitOffset=s,this.byteOffset=l,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var pn;(function(O){O[O.PAD_ENCODE=0]="PAD_ENCODE",O[O.ASCII_ENCODE=1]="ASCII_ENCODE",O[O.C40_ENCODE=2]="C40_ENCODE",O[O.TEXT_ENCODE=3]="TEXT_ENCODE",O[O.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",O[O.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",O[O.BASE256_ENCODE=6]="BASE256_ENCODE"})(pn||(pn={}));class kt{static decode(t){const i=new er(t),s=new tt,l=new tt,r=new Array;let a=pn.ASCII_ENCODE;do if(a===pn.ASCII_ENCODE)a=this.decodeAsciiSegment(i,s,l);else{switch(a){case pn.C40_ENCODE:this.decodeC40Segment(i,s);break;case pn.TEXT_ENCODE:this.decodeTextSegment(i,s);break;case pn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,s);break;case pn.EDIFACT_ENCODE:this.decodeEdifactSegment(i,s);break;case pn.BASE256_ENCODE:this.decodeBase256Segment(i,s,r);break;default:throw new fe}a=pn.ASCII_ENCODE}while(a!==pn.PAD_ENCODE&&i.available()>0);return l.length()>0&&s.append(l.toString()),new Fe(t,s.toString(),r.length===0?null:r,null)}static decodeAsciiSegment(t,i,s){let l=!1;do{let r=t.readBits(8);if(r===0)throw new fe;if(r<=128)return l&&(r+=128),i.append(String.fromCharCode(r-1)),pn.ASCII_ENCODE;if(r===129)return pn.PAD_ENCODE;if(r<=229){const a=r-130;a<10&&i.append("0"),i.append(""+a)}else switch(r){case 230:return pn.C40_ENCODE;case 231:return pn.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:i.append("[)>05"),s.insert(0,"");break;case 237:i.append("[)>06"),s.insert(0,"");break;case 238:return pn.ANSIX12_ENCODE;case 239:return pn.TEXT_ENCODE;case 240:return pn.EDIFACT_ENCODE;case 241:break;default:if(r!==254||t.available()!==0)throw new fe;break}}while(t.available()>0);return pn.ASCII_ENCODE}static decodeC40Segment(t,i){let s=!1;const l=[];let r=0;do{if(t.available()===8)return;const a=t.readBits(8);if(a===254)return;this.parseTwoBytes(a,t.readBits(8),l);for(let c=0;c<3;c++){const d=l[c];switch(r){case 0:if(d<3)r=d+1;else if(d<this.C40_BASIC_SET_CHARS.length){const m=this.C40_BASIC_SET_CHARS[d];s?(i.append(String.fromCharCode(m.charCodeAt(0)+128)),s=!1):i.append(m)}else throw new fe;break;case 1:s?(i.append(String.fromCharCode(d+128)),s=!1):i.append(String.fromCharCode(d)),r=0;break;case 2:if(d<this.C40_SHIFT2_SET_CHARS.length){const m=this.C40_SHIFT2_SET_CHARS[d];s?(i.append(String.fromCharCode(m.charCodeAt(0)+128)),s=!1):i.append(m)}else switch(d){case 27:i.append("");break;case 30:s=!0;break;default:throw new fe}r=0;break;case 3:s?(i.append(String.fromCharCode(d+224)),s=!1):i.append(String.fromCharCode(d+96)),r=0;break;default:throw new fe}}}while(t.available()>0)}static decodeTextSegment(t,i){let s=!1,l=[],r=0;do{if(t.available()===8)return;const a=t.readBits(8);if(a===254)return;this.parseTwoBytes(a,t.readBits(8),l);for(let c=0;c<3;c++){const d=l[c];switch(r){case 0:if(d<3)r=d+1;else if(d<this.TEXT_BASIC_SET_CHARS.length){const m=this.TEXT_BASIC_SET_CHARS[d];s?(i.append(String.fromCharCode(m.charCodeAt(0)+128)),s=!1):i.append(m)}else throw new fe;break;case 1:s?(i.append(String.fromCharCode(d+128)),s=!1):i.append(String.fromCharCode(d)),r=0;break;case 2:if(d<this.TEXT_SHIFT2_SET_CHARS.length){const m=this.TEXT_SHIFT2_SET_CHARS[d];s?(i.append(String.fromCharCode(m.charCodeAt(0)+128)),s=!1):i.append(m)}else switch(d){case 27:i.append("");break;case 30:s=!0;break;default:throw new fe}r=0;break;case 3:if(d<this.TEXT_SHIFT3_SET_CHARS.length){const m=this.TEXT_SHIFT3_SET_CHARS[d];s?(i.append(String.fromCharCode(m.charCodeAt(0)+128)),s=!1):i.append(m),r=0}else throw new fe;break;default:throw new fe}}}while(t.available()>0)}static decodeAnsiX12Segment(t,i){const s=[];do{if(t.available()===8)return;const l=t.readBits(8);if(l===254)return;this.parseTwoBytes(l,t.readBits(8),s);for(let r=0;r<3;r++){const a=s[r];switch(a){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(a<14)i.append(String.fromCharCode(a+44));else if(a<40)i.append(String.fromCharCode(a+51));else throw new fe;break}}}while(t.available()>0)}static parseTwoBytes(t,i,s){let l=(t<<8)+i-1,r=Math.floor(l/1600);s[0]=r,l-=r*1600,r=Math.floor(l/40),s[1]=r,s[2]=l-r*40}static decodeEdifactSegment(t,i){do{if(t.available()<=16)return;for(let s=0;s<4;s++){let l=t.readBits(6);if(l===31){const r=8-t.getBitOffset();r!==8&&t.readBits(r);return}(l&32)===0&&(l|=64),i.append(String.fromCharCode(l))}}while(t.available()>0)}static decodeBase256Segment(t,i,s){let l=1+t.getByteOffset();const r=this.unrandomize255State(t.readBits(8),l++);let a;if(r===0?a=t.available()/8|0:r<250?a=r:a=250*(r-249)+this.unrandomize255State(t.readBits(8),l++),a<0)throw new fe;const c=new Uint8Array(a);for(let d=0;d<a;d++){if(t.available()<8)throw new fe;c[d]=this.unrandomize255State(t.readBits(8),l++)}s.push(c);try{i.append(Pt.decode(c,De.ISO88591))}catch(d){throw new Vn("Platform does not support required encoding: "+d.message)}}static unrandomize255State(t,i){const s=149*i%255+1,l=t-s;return l>=0?l:l+256}}kt.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],kt.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],kt.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],kt.TEXT_SHIFT2_SET_CHARS=kt.C40_SHIFT2_SET_CHARS,kt.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class pi{constructor(){this.rsDecoder=new ha(mt.DATA_MATRIX_FIELD_256)}decode(t){const i=new xt(t),s=i.getVersion(),l=i.readCodewords(),r=pa.getDataBlocks(l,s);let a=0;for(let m of r)a+=m.getNumDataCodewords();const c=new Uint8Array(a),d=r.length;for(let m=0;m<d;m++){const b=r[m],A=b.getCodewords(),S=b.getNumDataCodewords();this.correctErrors(A,S);for(let _=0;_<S;_++)c[_*d+m]=A[_]}return kt.decode(c)}correctErrors(t,i){const s=new Int32Array(t);try{this.rsDecoder.decode(s,t.length-i)}catch{throw new te}for(let l=0;l<i;l++)t[l]=s[l]}}class Jt{constructor(t){this.image=t,this.rectangleDetector=new Br(this.image)}detect(){const t=this.rectangleDetector.detect();let i=this.detectSolid1(t);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new re;i=this.shiftToModuleCenter(i);const s=i[0],l=i[1],r=i[2],a=i[3];let c=this.transitionsBetween(s,a)+1,d=this.transitionsBetween(r,a)+1;(c&1)===1&&(c+=1),(d&1)===1&&(d+=1),4*c<7*d&&4*d<7*c&&(c=d=Math.max(c,d));let m=Jt.sampleGrid(this.image,s,l,r,a,c,d);return new da(m,[s,l,r,a])}static shiftPoint(t,i,s){let l=(i.getX()-t.getX())/(s+1),r=(i.getY()-t.getY())/(s+1);return new ke(t.getX()+l,t.getY()+r)}static moveAway(t,i,s){let l=t.getX(),r=t.getY();return l<i?l-=1:l+=1,r<s?r-=1:r+=1,new ke(l,r)}detectSolid1(t){let i=t[0],s=t[1],l=t[3],r=t[2],a=this.transitionsBetween(i,s),c=this.transitionsBetween(s,l),d=this.transitionsBetween(l,r),m=this.transitionsBetween(r,i),b=a,A=[r,i,s,l];return b>c&&(b=c,A[0]=i,A[1]=s,A[2]=l,A[3]=r),b>d&&(b=d,A[0]=s,A[1]=l,A[2]=r,A[3]=i),b>m&&(A[0]=l,A[1]=r,A[2]=i,A[3]=s),A}detectSolid2(t){let i=t[0],s=t[1],l=t[2],r=t[3],a=this.transitionsBetween(i,r),c=Jt.shiftPoint(s,l,(a+1)*4),d=Jt.shiftPoint(l,s,(a+1)*4),m=this.transitionsBetween(c,i),b=this.transitionsBetween(d,r);return m<b?(t[0]=i,t[1]=s,t[2]=l,t[3]=r):(t[0]=s,t[1]=l,t[2]=r,t[3]=i),t}correctTopRight(t){let i=t[0],s=t[1],l=t[2],r=t[3],a=this.transitionsBetween(i,r),c=this.transitionsBetween(s,r),d=Jt.shiftPoint(i,s,(c+1)*4),m=Jt.shiftPoint(l,s,(a+1)*4);a=this.transitionsBetween(d,r),c=this.transitionsBetween(m,r);let b=new ke(r.getX()+(l.getX()-s.getX())/(a+1),r.getY()+(l.getY()-s.getY())/(a+1)),A=new ke(r.getX()+(i.getX()-s.getX())/(c+1),r.getY()+(i.getY()-s.getY())/(c+1));if(!this.isValid(b))return this.isValid(A)?A:null;if(!this.isValid(A))return b;let S=this.transitionsBetween(d,b)+this.transitionsBetween(m,b),_=this.transitionsBetween(d,A)+this.transitionsBetween(m,A);return S>_?b:A}shiftToModuleCenter(t){let i=t[0],s=t[1],l=t[2],r=t[3],a=this.transitionsBetween(i,r)+1,c=this.transitionsBetween(l,r)+1,d=Jt.shiftPoint(i,s,c*4),m=Jt.shiftPoint(l,s,a*4);a=this.transitionsBetween(d,r)+1,c=this.transitionsBetween(m,r)+1,(a&1)===1&&(a+=1),(c&1)===1&&(c+=1);let b=(i.getX()+s.getX()+l.getX()+r.getX())/4,A=(i.getY()+s.getY()+l.getY()+r.getY())/4;i=Jt.moveAway(i,b,A),s=Jt.moveAway(s,b,A),l=Jt.moveAway(l,b,A),r=Jt.moveAway(r,b,A);let S,_;return d=Jt.shiftPoint(i,s,c*4),d=Jt.shiftPoint(d,r,a*4),S=Jt.shiftPoint(s,i,c*4),S=Jt.shiftPoint(S,l,a*4),m=Jt.shiftPoint(l,r,c*4),m=Jt.shiftPoint(m,s,a*4),_=Jt.shiftPoint(r,l,c*4),_=Jt.shiftPoint(_,i,a*4),[d,S,m,_]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,i,s,l,r,a,c){return Ln.getInstance().sampleGrid(t,a,c,.5,.5,a-.5,.5,a-.5,c-.5,.5,c-.5,i.getX(),i.getY(),r.getX(),r.getY(),l.getX(),l.getY(),s.getX(),s.getY())}transitionsBetween(t,i){let s=Math.trunc(t.getX()),l=Math.trunc(t.getY()),r=Math.trunc(i.getX()),a=Math.trunc(i.getY()),c=Math.abs(a-l)>Math.abs(r-s);if(c){let B=s;s=l,l=B,B=r,r=a,a=B}let d=Math.abs(r-s),m=Math.abs(a-l),b=-d/2,A=l<a?1:-1,S=s<r?1:-1,_=0,M=this.image.get(c?l:s,c?s:l);for(let B=s,k=l;B!==r;B+=S){let P=this.image.get(c?k:B,c?B:k);if(P!==M&&(_++,M=P),b+=m,b>0){if(k===a)break;k+=A,b-=d}}return _}}class Xn{constructor(){this.decoder=new pi}decode(t,i=null){let s,l;if(i!=null&&i.has(Ve.PURE_BARCODE)){const m=Xn.extractPureBits(t.getBlackMatrix());s=this.decoder.decode(m),l=Xn.NO_POINTS}else{const m=new Jt(t.getBlackMatrix()).detect();s=this.decoder.decode(m.getBits()),l=m.getPoints()}const r=s.getRawBytes(),a=new ze(s.getText(),r,8*r.length,l,ve.DATA_MATRIX,ue.currentTimeMillis()),c=s.getByteSegments();c!=null&&a.putMetadata(ht.BYTE_SEGMENTS,c);const d=s.getECLevel();return d!=null&&a.putMetadata(ht.ERROR_CORRECTION_LEVEL,d),a}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),s=t.getBottomRightOnBit();if(i==null||s==null)throw new re;const l=this.moduleSize(i,t);let r=i[1];const a=s[1];let c=i[0];const m=(s[0]-c+1)/l,b=(a-r+1)/l;if(m<=0||b<=0)throw new re;const A=l/2;r+=A,c+=A;const S=new It(m,b);for(let _=0;_<b;_++){const M=r+_*l;for(let B=0;B<m;B++)t.get(c+B*l,M)&&S.set(B,_)}return S}static moduleSize(t,i){const s=i.getWidth();let l=t[0];const r=t[1];for(;l<s&&i.get(l,r);)l++;if(l===s)throw new re;const a=l-t[0];if(a===0)throw new re;return a}}Xn.NO_POINTS=[];class xs extends _e{constructor(t=500){super(new Xn,t)}}var wn;(function(O){O[O.L=0]="L",O[O.M=1]="M",O[O.Q=2]="Q",O[O.H=3]="H"})(wn||(wn={}));class Ut{constructor(t,i,s){this.value=t,this.stringValue=i,this.bits=s,Ut.FOR_BITS.set(s,this),Ut.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return Ut.L;case"M":return Ut.M;case"Q":return Ut.Q;case"H":return Ut.H;default:throw new I(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof Ut))return!1;const i=t;return this.value===i.value}static forBits(t){if(t<0||t>=Ut.FOR_BITS.size)throw new D;return Ut.FOR_BITS.get(t)}}Ut.FOR_BITS=new Map,Ut.FOR_VALUE=new Map,Ut.L=new Ut(wn.L,"L",1),Ut.M=new Ut(wn.M,"M",0),Ut.Q=new Ut(wn.Q,"Q",3),Ut.H=new Ut(wn.H,"H",2);class In{constructor(t){this.errorCorrectionLevel=Ut.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,i){return Oe.bitCount(t^i)}static decodeFormatInformation(t,i){const s=In.doDecodeFormatInformation(t,i);return s!==null?s:In.doDecodeFormatInformation(t^In.FORMAT_INFO_MASK_QR,i^In.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,i){let s=Number.MAX_SAFE_INTEGER,l=0;for(const r of In.FORMAT_INFO_DECODE_LOOKUP){const a=r[0];if(a===t||a===i)return new In(r[1]);let c=In.numBitsDiffering(t,a);c<s&&(l=r[1],s=c),t!==i&&(c=In.numBitsDiffering(i,a),c<s&&(l=r[1],s=c))}return s<=3?new In(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof In))return!1;const i=t;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}In.FORMAT_INFO_MASK_QR=21522,In.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class W{constructor(t,...i){this.ecCodewordsPerBlock=t,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const i=this.ecBlocks;for(const s of i)t+=s.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class j{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ye{constructor(t,i,...s){this.versionNumber=t,this.alignmentPatternCenters=i,this.ecBlocks=s;let l=0;const r=s[0].getECCodewordsPerBlock(),a=s[0].getECBlocks();for(const c of a)l+=c.getCount()*(c.getDataCodewords()+r);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new fe;try{return this.getVersionForNumber((t-17)/4)}catch{throw new fe}}static getVersionForNumber(t){if(t<1||t>40)throw new D;return Ye.VERSIONS[t-1]}static decodeVersionInformation(t){let i=Number.MAX_SAFE_INTEGER,s=0;for(let l=0;l<Ye.VERSION_DECODE_INFO.length;l++){const r=Ye.VERSION_DECODE_INFO[l];if(r===t)return Ye.getVersionForNumber(l+7);const a=In.numBitsDiffering(t,r);a<i&&(s=l+7,i=a)}return i<=3?Ye.getVersionForNumber(s):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),i=new It(t);i.setRegion(0,0,9,9),i.setRegion(t-8,0,8,9),i.setRegion(0,t-8,9,8);const s=this.alignmentPatternCenters.length;for(let l=0;l<s;l++){const r=this.alignmentPatternCenters[l]-2;for(let a=0;a<s;a++)l===0&&(a===0||a===s-1)||l===s-1&&a===0||i.setRegion(this.alignmentPatternCenters[a]-2,r,5,5)}return i.setRegion(6,9,1,t-17),i.setRegion(9,6,t-17,1),this.versionNumber>6&&(i.setRegion(t-11,0,3,6),i.setRegion(0,t-11,6,3)),i}toString(){return""+this.versionNumber}}Ye.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ye.VERSIONS=[new Ye(1,new Int32Array(0),new W(7,new j(1,19)),new W(10,new j(1,16)),new W(13,new j(1,13)),new W(17,new j(1,9))),new Ye(2,Int32Array.from([6,18]),new W(10,new j(1,34)),new W(16,new j(1,28)),new W(22,new j(1,22)),new W(28,new j(1,16))),new Ye(3,Int32Array.from([6,22]),new W(15,new j(1,55)),new W(26,new j(1,44)),new W(18,new j(2,17)),new W(22,new j(2,13))),new Ye(4,Int32Array.from([6,26]),new W(20,new j(1,80)),new W(18,new j(2,32)),new W(26,new j(2,24)),new W(16,new j(4,9))),new Ye(5,Int32Array.from([6,30]),new W(26,new j(1,108)),new W(24,new j(2,43)),new W(18,new j(2,15),new j(2,16)),new W(22,new j(2,11),new j(2,12))),new Ye(6,Int32Array.from([6,34]),new W(18,new j(2,68)),new W(16,new j(4,27)),new W(24,new j(4,19)),new W(28,new j(4,15))),new Ye(7,Int32Array.from([6,22,38]),new W(20,new j(2,78)),new W(18,new j(4,31)),new W(18,new j(2,14),new j(4,15)),new W(26,new j(4,13),new j(1,14))),new Ye(8,Int32Array.from([6,24,42]),new W(24,new j(2,97)),new W(22,new j(2,38),new j(2,39)),new W(22,new j(4,18),new j(2,19)),new W(26,new j(4,14),new j(2,15))),new Ye(9,Int32Array.from([6,26,46]),new W(30,new j(2,116)),new W(22,new j(3,36),new j(2,37)),new W(20,new j(4,16),new j(4,17)),new W(24,new j(4,12),new j(4,13))),new Ye(10,Int32Array.from([6,28,50]),new W(18,new j(2,68),new j(2,69)),new W(26,new j(4,43),new j(1,44)),new W(24,new j(6,19),new j(2,20)),new W(28,new j(6,15),new j(2,16))),new Ye(11,Int32Array.from([6,30,54]),new W(20,new j(4,81)),new W(30,new j(1,50),new j(4,51)),new W(28,new j(4,22),new j(4,23)),new W(24,new j(3,12),new j(8,13))),new Ye(12,Int32Array.from([6,32,58]),new W(24,new j(2,92),new j(2,93)),new W(22,new j(6,36),new j(2,37)),new W(26,new j(4,20),new j(6,21)),new W(28,new j(7,14),new j(4,15))),new Ye(13,Int32Array.from([6,34,62]),new W(26,new j(4,107)),new W(22,new j(8,37),new j(1,38)),new W(24,new j(8,20),new j(4,21)),new W(22,new j(12,11),new j(4,12))),new Ye(14,Int32Array.from([6,26,46,66]),new W(30,new j(3,115),new j(1,116)),new W(24,new j(4,40),new j(5,41)),new W(20,new j(11,16),new j(5,17)),new W(24,new j(11,12),new j(5,13))),new Ye(15,Int32Array.from([6,26,48,70]),new W(22,new j(5,87),new j(1,88)),new W(24,new j(5,41),new j(5,42)),new W(30,new j(5,24),new j(7,25)),new W(24,new j(11,12),new j(7,13))),new Ye(16,Int32Array.from([6,26,50,74]),new W(24,new j(5,98),new j(1,99)),new W(28,new j(7,45),new j(3,46)),new W(24,new j(15,19),new j(2,20)),new W(30,new j(3,15),new j(13,16))),new Ye(17,Int32Array.from([6,30,54,78]),new W(28,new j(1,107),new j(5,108)),new W(28,new j(10,46),new j(1,47)),new W(28,new j(1,22),new j(15,23)),new W(28,new j(2,14),new j(17,15))),new Ye(18,Int32Array.from([6,30,56,82]),new W(30,new j(5,120),new j(1,121)),new W(26,new j(9,43),new j(4,44)),new W(28,new j(17,22),new j(1,23)),new W(28,new j(2,14),new j(19,15))),new Ye(19,Int32Array.from([6,30,58,86]),new W(28,new j(3,113),new j(4,114)),new W(26,new j(3,44),new j(11,45)),new W(26,new j(17,21),new j(4,22)),new W(26,new j(9,13),new j(16,14))),new Ye(20,Int32Array.from([6,34,62,90]),new W(28,new j(3,107),new j(5,108)),new W(26,new j(3,41),new j(13,42)),new W(30,new j(15,24),new j(5,25)),new W(28,new j(15,15),new j(10,16))),new Ye(21,Int32Array.from([6,28,50,72,94]),new W(28,new j(4,116),new j(4,117)),new W(26,new j(17,42)),new W(28,new j(17,22),new j(6,23)),new W(30,new j(19,16),new j(6,17))),new Ye(22,Int32Array.from([6,26,50,74,98]),new W(28,new j(2,111),new j(7,112)),new W(28,new j(17,46)),new W(30,new j(7,24),new j(16,25)),new W(24,new j(34,13))),new Ye(23,Int32Array.from([6,30,54,78,102]),new W(30,new j(4,121),new j(5,122)),new W(28,new j(4,47),new j(14,48)),new W(30,new j(11,24),new j(14,25)),new W(30,new j(16,15),new j(14,16))),new Ye(24,Int32Array.from([6,28,54,80,106]),new W(30,new j(6,117),new j(4,118)),new W(28,new j(6,45),new j(14,46)),new W(30,new j(11,24),new j(16,25)),new W(30,new j(30,16),new j(2,17))),new Ye(25,Int32Array.from([6,32,58,84,110]),new W(26,new j(8,106),new j(4,107)),new W(28,new j(8,47),new j(13,48)),new W(30,new j(7,24),new j(22,25)),new W(30,new j(22,15),new j(13,16))),new Ye(26,Int32Array.from([6,30,58,86,114]),new W(28,new j(10,114),new j(2,115)),new W(28,new j(19,46),new j(4,47)),new W(28,new j(28,22),new j(6,23)),new W(30,new j(33,16),new j(4,17))),new Ye(27,Int32Array.from([6,34,62,90,118]),new W(30,new j(8,122),new j(4,123)),new W(28,new j(22,45),new j(3,46)),new W(30,new j(8,23),new j(26,24)),new W(30,new j(12,15),new j(28,16))),new Ye(28,Int32Array.from([6,26,50,74,98,122]),new W(30,new j(3,117),new j(10,118)),new W(28,new j(3,45),new j(23,46)),new W(30,new j(4,24),new j(31,25)),new W(30,new j(11,15),new j(31,16))),new Ye(29,Int32Array.from([6,30,54,78,102,126]),new W(30,new j(7,116),new j(7,117)),new W(28,new j(21,45),new j(7,46)),new W(30,new j(1,23),new j(37,24)),new W(30,new j(19,15),new j(26,16))),new Ye(30,Int32Array.from([6,26,52,78,104,130]),new W(30,new j(5,115),new j(10,116)),new W(28,new j(19,47),new j(10,48)),new W(30,new j(15,24),new j(25,25)),new W(30,new j(23,15),new j(25,16))),new Ye(31,Int32Array.from([6,30,56,82,108,134]),new W(30,new j(13,115),new j(3,116)),new W(28,new j(2,46),new j(29,47)),new W(30,new j(42,24),new j(1,25)),new W(30,new j(23,15),new j(28,16))),new Ye(32,Int32Array.from([6,34,60,86,112,138]),new W(30,new j(17,115)),new W(28,new j(10,46),new j(23,47)),new W(30,new j(10,24),new j(35,25)),new W(30,new j(19,15),new j(35,16))),new Ye(33,Int32Array.from([6,30,58,86,114,142]),new W(30,new j(17,115),new j(1,116)),new W(28,new j(14,46),new j(21,47)),new W(30,new j(29,24),new j(19,25)),new W(30,new j(11,15),new j(46,16))),new Ye(34,Int32Array.from([6,34,62,90,118,146]),new W(30,new j(13,115),new j(6,116)),new W(28,new j(14,46),new j(23,47)),new W(30,new j(44,24),new j(7,25)),new W(30,new j(59,16),new j(1,17))),new Ye(35,Int32Array.from([6,30,54,78,102,126,150]),new W(30,new j(12,121),new j(7,122)),new W(28,new j(12,47),new j(26,48)),new W(30,new j(39,24),new j(14,25)),new W(30,new j(22,15),new j(41,16))),new Ye(36,Int32Array.from([6,24,50,76,102,128,154]),new W(30,new j(6,121),new j(14,122)),new W(28,new j(6,47),new j(34,48)),new W(30,new j(46,24),new j(10,25)),new W(30,new j(2,15),new j(64,16))),new Ye(37,Int32Array.from([6,28,54,80,106,132,158]),new W(30,new j(17,122),new j(4,123)),new W(28,new j(29,46),new j(14,47)),new W(30,new j(49,24),new j(10,25)),new W(30,new j(24,15),new j(46,16))),new Ye(38,Int32Array.from([6,32,58,84,110,136,162]),new W(30,new j(4,122),new j(18,123)),new W(28,new j(13,46),new j(32,47)),new W(30,new j(48,24),new j(14,25)),new W(30,new j(42,15),new j(32,16))),new Ye(39,Int32Array.from([6,26,54,82,110,138,166]),new W(30,new j(20,117),new j(4,118)),new W(28,new j(40,47),new j(7,48)),new W(30,new j(43,24),new j(22,25)),new W(30,new j(10,15),new j(67,16))),new Ye(40,Int32Array.from([6,30,58,86,114,142,170]),new W(30,new j(19,118),new j(6,119)),new W(28,new j(18,47),new j(31,48)),new W(30,new j(34,24),new j(34,25)),new W(30,new j(20,15),new j(61,16)))];var vn;(function(O){O[O.DATA_MASK_000=0]="DATA_MASK_000",O[O.DATA_MASK_001=1]="DATA_MASK_001",O[O.DATA_MASK_010=2]="DATA_MASK_010",O[O.DATA_MASK_011=3]="DATA_MASK_011",O[O.DATA_MASK_100=4]="DATA_MASK_100",O[O.DATA_MASK_101=5]="DATA_MASK_101",O[O.DATA_MASK_110=6]="DATA_MASK_110",O[O.DATA_MASK_111=7]="DATA_MASK_111"})(vn||(vn={}));class Un{constructor(t,i){this.value=t,this.isMasked=i}unmaskBitMatrix(t,i){for(let s=0;s<i;s++)for(let l=0;l<i;l++)this.isMasked(s,l)&&t.flip(l,s)}}Un.values=new Map([[vn.DATA_MASK_000,new Un(vn.DATA_MASK_000,(O,t)=>(O+t&1)===0)],[vn.DATA_MASK_001,new Un(vn.DATA_MASK_001,(O,t)=>(O&1)===0)],[vn.DATA_MASK_010,new Un(vn.DATA_MASK_010,(O,t)=>t%3===0)],[vn.DATA_MASK_011,new Un(vn.DATA_MASK_011,(O,t)=>(O+t)%3===0)],[vn.DATA_MASK_100,new Un(vn.DATA_MASK_100,(O,t)=>(Math.floor(O/2)+Math.floor(t/3)&1)===0)],[vn.DATA_MASK_101,new Un(vn.DATA_MASK_101,(O,t)=>O*t%6===0)],[vn.DATA_MASK_110,new Un(vn.DATA_MASK_110,(O,t)=>O*t%6<3)],[vn.DATA_MASK_111,new Un(vn.DATA_MASK_111,(O,t)=>(O+t+O*t%3&1)===0)]]);class Bt{constructor(t){const i=t.getHeight();if(i<21||(i&3)!==1)throw new fe;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let r=0;r<6;r++)t=this.copyBit(r,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let r=5;r>=0;r--)t=this.copyBit(8,r,t);const i=this.bitMatrix.getHeight();let s=0;const l=i-7;for(let r=i-1;r>=l;r--)s=this.copyBit(8,r,s);for(let r=i-8;r<i;r++)s=this.copyBit(r,8,s);if(this.parsedFormatInfo=In.decodeFormatInformation(t,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new fe}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),i=Math.floor((t-17)/4);if(i<=6)return Ye.getVersionForNumber(i);let s=0;const l=t-11;for(let a=5;a>=0;a--)for(let c=t-9;c>=l;c--)s=this.copyBit(c,a,s);let r=Ye.decodeVersionInformation(s);if(r!==null&&r.getDimensionForVersion()===t)return this.parsedVersion=r,r;s=0;for(let a=5;a>=0;a--)for(let c=t-9;c>=l;c--)s=this.copyBit(a,c,s);if(r=Ye.decodeVersionInformation(s),r!==null&&r.getDimensionForVersion()===t)return this.parsedVersion=r,r;throw new fe}copyBit(t,i,s){return(this.isMirror?this.bitMatrix.get(i,t):this.bitMatrix.get(t,i))?s<<1|1:s<<1}readCodewords(){const t=this.readFormatInformation(),i=this.readVersion(),s=Un.values.get(t.getDataMask()),l=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,l);const r=i.buildFunctionPattern();let a=!0;const c=new Uint8Array(i.getTotalCodewords());let d=0,m=0,b=0;for(let A=l-1;A>0;A-=2){A===6&&A--;for(let S=0;S<l;S++){const _=a?l-1-S:S;for(let M=0;M<2;M++)r.get(A-M,_)||(b++,m<<=1,this.bitMatrix.get(A-M,_)&&(m|=1),b===8&&(c[d++]=m,b=0,m=0))}a=!a}if(d!==i.getTotalCodewords())throw new fe;return c}remask(){if(this.parsedFormatInfo===null)return;const t=Un.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,i)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let i=0,s=t.getWidth();i<s;i++)for(let l=i+1,r=t.getHeight();l<r;l++)t.get(i,l)!==t.get(l,i)&&(t.flip(l,i),t.flip(i,l))}}class qi{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i,s){if(t.length!==i.getTotalCodewords())throw new D;const l=i.getECBlocksForLevel(s);let r=0;const a=l.getECBlocks();for(const M of a)r+=M.getCount();const c=new Array(r);let d=0;for(const M of a)for(let B=0;B<M.getCount();B++){const k=M.getDataCodewords(),P=l.getECCodewordsPerBlock()+k;c[d++]=new qi(k,new Uint8Array(P))}const m=c[0].codewords.length;let b=c.length-1;for(;b>=0&&c[b].codewords.length!==m;)b--;b++;const A=m-l.getECCodewordsPerBlock();let S=0;for(let M=0;M<A;M++)for(let B=0;B<d;B++)c[B].codewords[M]=t[S++];for(let M=b;M<d;M++)c[M].codewords[A]=t[S++];const _=c[0].codewords.length;for(let M=A;M<_;M++)for(let B=0;B<d;B++){const k=B<b?M:M+1;c[B].codewords[k]=t[S++]}return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var fr;(function(O){O[O.TERMINATOR=0]="TERMINATOR",O[O.NUMERIC=1]="NUMERIC",O[O.ALPHANUMERIC=2]="ALPHANUMERIC",O[O.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",O[O.BYTE=4]="BYTE",O[O.ECI=5]="ECI",O[O.KANJI=6]="KANJI",O[O.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",O[O.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",O[O.HANZI=9]="HANZI"})(fr||(fr={}));class Ze{constructor(t,i,s,l){this.value=t,this.stringValue=i,this.characterCountBitsForVersions=s,this.bits=l,Ze.FOR_BITS.set(l,this),Ze.FOR_VALUE.set(t,this)}static forBits(t){const i=Ze.FOR_BITS.get(t);if(i===void 0)throw new D;return i}getCharacterCountBits(t){const i=t.getVersionNumber();let s;return i<=9?s=0:i<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Ze))return!1;const i=t;return this.value===i.value}toString(){return this.stringValue}}Ze.FOR_BITS=new Map,Ze.FOR_VALUE=new Map,Ze.TERMINATOR=new Ze(fr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ze.NUMERIC=new Ze(fr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ze.ALPHANUMERIC=new Ze(fr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ze.STRUCTURED_APPEND=new Ze(fr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ze.BYTE=new Ze(fr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ze.ECI=new Ze(fr.ECI,"ECI",Int32Array.from([0,0,0]),7),Ze.KANJI=new Ze(fr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ze.FNC1_FIRST_POSITION=new Ze(fr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ze.FNC1_SECOND_POSITION=new Ze(fr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ze.HANZI=new Ze(fr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class At{static decode(t,i,s,l){const r=new er(t);let a=new tt;const c=new Array;let d=-1,m=-1;try{let b=null,A=!1,S;do{if(r.available()<4)S=Ze.TERMINATOR;else{const _=r.readBits(4);S=Ze.forBits(_)}switch(S){case Ze.TERMINATOR:break;case Ze.FNC1_FIRST_POSITION:case Ze.FNC1_SECOND_POSITION:A=!0;break;case Ze.STRUCTURED_APPEND:if(r.available()<16)throw new fe;d=r.readBits(8),m=r.readBits(8);break;case Ze.ECI:const _=At.parseECIValue(r);if(b=be.getCharacterSetECIByValue(_),b===null)throw new fe;break;case Ze.HANZI:const M=r.readBits(4),B=r.readBits(S.getCharacterCountBits(i));M===At.GB2312_SUBSET&&At.decodeHanziSegment(r,a,B);break;default:const k=r.readBits(S.getCharacterCountBits(i));switch(S){case Ze.NUMERIC:At.decodeNumericSegment(r,a,k);break;case Ze.ALPHANUMERIC:At.decodeAlphanumericSegment(r,a,k,A);break;case Ze.BYTE:At.decodeByteSegment(r,a,k,b,c,l);break;case Ze.KANJI:At.decodeKanjiSegment(r,a,k);break;default:throw new fe}break}}while(S!==Ze.TERMINATOR)}catch{throw new fe}return new Fe(t,a.toString(),c.length===0?null:c,s===null?null:s.toString(),d,m)}static decodeHanziSegment(t,i,s){if(s*13>t.available())throw new fe;const l=new Uint8Array(2*s);let r=0;for(;s>0;){const a=t.readBits(13);let c=a/96<<8&4294967295|a%96;c<959?c+=41377:c+=42657,l[r]=c>>8&255,l[r+1]=c&255,r+=2,s--}try{i.append(Pt.decode(l,De.GB2312))}catch(a){throw new fe(a)}}static decodeKanjiSegment(t,i,s){if(s*13>t.available())throw new fe;const l=new Uint8Array(2*s);let r=0;for(;s>0;){const a=t.readBits(13);let c=a/192<<8&4294967295|a%192;c<7936?c+=33088:c+=49472,l[r]=c>>8,l[r+1]=c,r+=2,s--}try{i.append(Pt.decode(l,De.SHIFT_JIS))}catch(a){throw new fe(a)}}static decodeByteSegment(t,i,s,l,r,a){if(8*s>t.available())throw new fe;const c=new Uint8Array(s);for(let m=0;m<s;m++)c[m]=t.readBits(8);let d;l===null?d=De.guessEncoding(c,a):d=l.getName();try{i.append(Pt.decode(c,d))}catch(m){throw new fe(m)}r.push(c)}static toAlphaNumericChar(t){if(t>=At.ALPHANUMERIC_CHARS.length)throw new fe;return At.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,i,s,l){const r=i.length();for(;s>1;){if(t.available()<11)throw new fe;const a=t.readBits(11);i.append(At.toAlphaNumericChar(Math.floor(a/45))),i.append(At.toAlphaNumericChar(a%45)),s-=2}if(s===1){if(t.available()<6)throw new fe;i.append(At.toAlphaNumericChar(t.readBits(6)))}if(l)for(let a=r;a<i.length();a++)i.charAt(a)==="%"&&(a<i.length()-1&&i.charAt(a+1)==="%"?i.deleteCharAt(a+1):i.setCharAt(a,""))}static decodeNumericSegment(t,i,s){for(;s>=3;){if(t.available()<10)throw new fe;const l=t.readBits(10);if(l>=1e3)throw new fe;i.append(At.toAlphaNumericChar(Math.floor(l/100))),i.append(At.toAlphaNumericChar(Math.floor(l/10)%10)),i.append(At.toAlphaNumericChar(l%10)),s-=3}if(s===2){if(t.available()<7)throw new fe;const l=t.readBits(7);if(l>=100)throw new fe;i.append(At.toAlphaNumericChar(Math.floor(l/10))),i.append(At.toAlphaNumericChar(l%10))}else if(s===1){if(t.available()<4)throw new fe;const l=t.readBits(4);if(l>=10)throw new fe;i.append(At.toAlphaNumericChar(l))}}static parseECIValue(t){const i=t.readBits(8);if((i&128)===0)return i&127;if((i&192)===128){const s=t.readBits(8);return(i&63)<<8&4294967295|s}if((i&224)===192){const s=t.readBits(16);return(i&31)<<16&4294967295|s}throw new fe}}At.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",At.GB2312_SUBSET=1;class Di{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const i=t[0];t[0]=t[2],t[2]=i}}class ki{constructor(){this.rsDecoder=new ha(mt.QR_CODE_FIELD_256)}decodeBooleanArray(t,i){return this.decodeBitMatrix(It.parseFromBooleanArray(t),i)}decodeBitMatrix(t,i){const s=new Bt(t);let l=null;try{return this.decodeBitMatrixParser(s,i)}catch(r){l=r}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();const r=this.decodeBitMatrixParser(s,i);return r.setOther(new Di(!0)),r}catch(r){throw l!==null?l:r}}decodeBitMatrixParser(t,i){const s=t.readVersion(),l=t.readFormatInformation().getErrorCorrectionLevel(),r=t.readCodewords(),a=qi.getDataBlocks(r,s,l);let c=0;for(const b of a)c+=b.getNumDataCodewords();const d=new Uint8Array(c);let m=0;for(const b of a){const A=b.getCodewords(),S=b.getNumDataCodewords();this.correctErrors(A,S);for(let _=0;_<S;_++)d[m++]=A[_]}return At.decode(d,s,l,i)}correctErrors(t,i){const s=new Int32Array(t);try{this.rsDecoder.decode(s,t.length-i)}catch{throw new te}for(let l=0;l<i;l++)t[l]=s[l]}}class Cr extends ke{constructor(t,i,s){super(t,i),this.estimatedModuleSize=s}aboutEquals(t,i,s){if(Math.abs(i-this.getY())<=t&&Math.abs(s-this.getX())<=t){const l=Math.abs(t-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(t,i,s){const l=(this.getX()+i)/2,r=(this.getY()+t)/2,a=(this.estimatedModuleSize+s)/2;return new Cr(l,r,a)}}class Bi{constructor(t,i,s,l,r,a,c){this.image=t,this.startX=i,this.startY=s,this.width=l,this.height=r,this.moduleSize=a,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,i=this.height,s=this.width,l=t+s,r=this.startY+i/2,a=new Int32Array(3),c=this.image;for(let d=0;d<i;d++){const m=r+((d&1)===0?Math.floor((d+1)/2):-Math.floor((d+1)/2));a[0]=0,a[1]=0,a[2]=0;let b=t;for(;b<l&&!c.get(b,m);)b++;let A=0;for(;b<l;){if(c.get(b,m))if(A===1)a[1]++;else if(A===2){if(this.foundPatternCross(a)){const S=this.handlePossibleCenter(a,m,b);if(S!==null)return S}a[0]=a[2],a[1]=1,a[2]=0,A=1}else a[++A]++;else A===1&&A++,a[A]++;b++}if(this.foundPatternCross(a)){const S=this.handlePossibleCenter(a,m,l);if(S!==null)return S}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new re}static centerFromEnd(t,i){return i-t[2]-t[1]/2}foundPatternCross(t){const i=this.moduleSize,s=i/2;for(let l=0;l<3;l++)if(Math.abs(i-t[l])>=s)return!1;return!0}crossCheckVertical(t,i,s,l){const r=this.image,a=r.getHeight(),c=this.crossCheckStateCount;c[0]=0,c[1]=0,c[2]=0;let d=t;for(;d>=0&&r.get(i,d)&&c[1]<=s;)c[1]++,d--;if(d<0||c[1]>s)return NaN;for(;d>=0&&!r.get(i,d)&&c[0]<=s;)c[0]++,d--;if(c[0]>s)return NaN;for(d=t+1;d<a&&r.get(i,d)&&c[1]<=s;)c[1]++,d++;if(d===a||c[1]>s)return NaN;for(;d<a&&!r.get(i,d)&&c[2]<=s;)c[2]++,d++;if(c[2]>s)return NaN;const m=c[0]+c[1]+c[2];return 5*Math.abs(m-l)>=2*l?NaN:this.foundPatternCross(c)?Bi.centerFromEnd(c,d):NaN}handlePossibleCenter(t,i,s){const l=t[0]+t[1]+t[2],r=Bi.centerFromEnd(t,s),a=this.crossCheckVertical(i,r,2*t[1],l);if(!isNaN(a)){const c=(t[0]+t[1]+t[2])/3;for(const m of this.possibleCenters)if(m.aboutEquals(c,a,r))return m.combineEstimate(a,r,c);const d=new Cr(r,a,c);this.possibleCenters.push(d),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(d)}return null}}class Zr extends ke{constructor(t,i,s,l){super(t,i),this.estimatedModuleSize=s,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,i,s){if(Math.abs(i-this.getY())<=t&&Math.abs(s-this.getX())<=t){const l=Math.abs(t-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(t,i,s){const l=this.count+1,r=(this.count*this.getX()+i)/l,a=(this.count*this.getY()+t)/l,c=(this.count*this.estimatedModuleSize+s)/l;return new Zr(r,a,c,l)}}class ln{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Yt{constructor(t,i){this.image=t,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const i=t!=null&&t.get(Ve.TRY_HARDER)!==void 0,s=t!=null&&t.get(Ve.PURE_BARCODE)!==void 0,l=this.image,r=l.getHeight(),a=l.getWidth();let c=Math.floor(3*r/(4*Yt.MAX_MODULES));(c<Yt.MIN_SKIP||i)&&(c=Yt.MIN_SKIP);let d=!1;const m=new Int32Array(5);for(let A=c-1;A<r&&!d;A+=c){m[0]=0,m[1]=0,m[2]=0,m[3]=0,m[4]=0;let S=0;for(let _=0;_<a;_++)if(l.get(_,A))(S&1)===1&&S++,m[S]++;else if((S&1)===0)if(S===4)if(Yt.foundPatternCross(m)){if(this.handlePossibleCenter(m,A,_,s)===!0)if(c=2,this.hasSkipped===!0)d=this.haveMultiplyConfirmedCenters();else{const B=this.findRowSkip();B>m[2]&&(A+=B-m[2]-c,_=a-1)}else{m[0]=m[2],m[1]=m[3],m[2]=m[4],m[3]=1,m[4]=0,S=3;continue}S=0,m[0]=0,m[1]=0,m[2]=0,m[3]=0,m[4]=0}else m[0]=m[2],m[1]=m[3],m[2]=m[4],m[3]=1,m[4]=0,S=3;else m[++S]++;else m[S]++;Yt.foundPatternCross(m)&&this.handlePossibleCenter(m,A,a,s)===!0&&(c=m[0],this.hasSkipped&&(d=this.haveMultiplyConfirmedCenters()))}const b=this.selectBestPatterns();return ke.orderBestPatterns(b),new ln(b)}static centerFromEnd(t,i){return i-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let i=0;for(let r=0;r<5;r++){const a=t[r];if(a===0)return!1;i+=a}if(i<7)return!1;const s=i/7,l=s/2;return Math.abs(s-t[0])<l&&Math.abs(s-t[1])<l&&Math.abs(3*s-t[2])<3*l&&Math.abs(s-t[3])<l&&Math.abs(s-t[4])<l}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,i,s,l){const r=this.getCrossCheckStateCount();let a=0;const c=this.image;for(;t>=a&&i>=a&&c.get(i-a,t-a);)r[2]++,a++;if(t<a||i<a)return!1;for(;t>=a&&i>=a&&!c.get(i-a,t-a)&&r[1]<=s;)r[1]++,a++;if(t<a||i<a||r[1]>s)return!1;for(;t>=a&&i>=a&&c.get(i-a,t-a)&&r[0]<=s;)r[0]++,a++;if(r[0]>s)return!1;const d=c.getHeight(),m=c.getWidth();for(a=1;t+a<d&&i+a<m&&c.get(i+a,t+a);)r[2]++,a++;if(t+a>=d||i+a>=m)return!1;for(;t+a<d&&i+a<m&&!c.get(i+a,t+a)&&r[3]<s;)r[3]++,a++;if(t+a>=d||i+a>=m||r[3]>=s)return!1;for(;t+a<d&&i+a<m&&c.get(i+a,t+a)&&r[4]<s;)r[4]++,a++;if(r[4]>=s)return!1;const b=r[0]+r[1]+r[2]+r[3]+r[4];return Math.abs(b-l)<2*l&&Yt.foundPatternCross(r)}crossCheckVertical(t,i,s,l){const r=this.image,a=r.getHeight(),c=this.getCrossCheckStateCount();let d=t;for(;d>=0&&r.get(i,d);)c[2]++,d--;if(d<0)return NaN;for(;d>=0&&!r.get(i,d)&&c[1]<=s;)c[1]++,d--;if(d<0||c[1]>s)return NaN;for(;d>=0&&r.get(i,d)&&c[0]<=s;)c[0]++,d--;if(c[0]>s)return NaN;for(d=t+1;d<a&&r.get(i,d);)c[2]++,d++;if(d===a)return NaN;for(;d<a&&!r.get(i,d)&&c[3]<s;)c[3]++,d++;if(d===a||c[3]>=s)return NaN;for(;d<a&&r.get(i,d)&&c[4]<s;)c[4]++,d++;if(c[4]>=s)return NaN;const m=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(m-l)>=2*l?NaN:Yt.foundPatternCross(c)?Yt.centerFromEnd(c,d):NaN}crossCheckHorizontal(t,i,s,l){const r=this.image,a=r.getWidth(),c=this.getCrossCheckStateCount();let d=t;for(;d>=0&&r.get(d,i);)c[2]++,d--;if(d<0)return NaN;for(;d>=0&&!r.get(d,i)&&c[1]<=s;)c[1]++,d--;if(d<0||c[1]>s)return NaN;for(;d>=0&&r.get(d,i)&&c[0]<=s;)c[0]++,d--;if(c[0]>s)return NaN;for(d=t+1;d<a&&r.get(d,i);)c[2]++,d++;if(d===a)return NaN;for(;d<a&&!r.get(d,i)&&c[3]<s;)c[3]++,d++;if(d===a||c[3]>=s)return NaN;for(;d<a&&r.get(d,i)&&c[4]<s;)c[4]++,d++;if(c[4]>=s)return NaN;const m=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(m-l)>=l?NaN:Yt.foundPatternCross(c)?Yt.centerFromEnd(c,d):NaN}handlePossibleCenter(t,i,s,l){const r=t[0]+t[1]+t[2]+t[3]+t[4];let a=Yt.centerFromEnd(t,s),c=this.crossCheckVertical(i,Math.floor(a),t[2],r);if(!isNaN(c)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(c),t[2],r),!isNaN(a)&&(!l||this.crossCheckDiagonal(Math.floor(c),Math.floor(a),t[2],r)))){const d=r/7;let m=!1;const b=this.possibleCenters;for(let A=0,S=b.length;A<S;A++){const _=b[A];if(_.aboutEquals(d,c,a)){b[A]=_.combineEstimate(c,a,d),m=!0;break}}if(!m){const A=new Zr(a,c,d);b.push(A),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(A)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const s of this.possibleCenters)if(s.getCount()>=Yt.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,i=0;const s=this.possibleCenters.length;for(const a of this.possibleCenters)a.getCount()>=Yt.CENTER_QUORUM&&(t++,i+=a.getEstimatedModuleSize());if(t<3)return!1;const l=i/s;let r=0;for(const a of this.possibleCenters)r+=Math.abs(a.getEstimatedModuleSize()-l);return r<=.05*i}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new re;const i=this.possibleCenters;let s;if(t>3){let l=0,r=0;for(const d of this.possibleCenters){const m=d.getEstimatedModuleSize();l+=m,r+=m*m}s=l/t;let a=Math.sqrt(r/t-s*s);i.sort((d,m)=>{const b=Math.abs(m.getEstimatedModuleSize()-s),A=Math.abs(d.getEstimatedModuleSize()-s);return b<A?-1:b>A?1:0});const c=Math.max(.2*s,a);for(let d=0;d<i.length&&i.length>3;d++){const m=i[d];Math.abs(m.getEstimatedModuleSize()-s)>c&&(i.splice(d,1),d--)}}if(i.length>3){let l=0;for(const r of i)l+=r.getEstimatedModuleSize();s=l/i.length,i.sort((r,a)=>{if(a.getCount()===r.getCount()){const c=Math.abs(a.getEstimatedModuleSize()-s),d=Math.abs(r.getEstimatedModuleSize()-s);return c<d?1:c>d?-1:0}else return a.getCount()-r.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}Yt.CENTER_QUORUM=2,Yt.MIN_SKIP=3,Yt.MAX_MODULES=57;class Or{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(Ve.NEED_RESULT_POINT_CALLBACK);const s=new Yt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(s)}processFinderPatternInfo(t){const i=t.getTopLeft(),s=t.getTopRight(),l=t.getBottomLeft(),r=this.calculateModuleSize(i,s,l);if(r<1)throw new re("No pattern found in proccess finder.");const a=Or.computeDimension(i,s,l,r),c=Ye.getProvisionalVersionForDimension(a),d=c.getDimensionForVersion()-7;let m=null;if(c.getAlignmentPatternCenters().length>0){const _=s.getX()-i.getX()+l.getX(),M=s.getY()-i.getY()+l.getY(),B=1-3/d,k=Math.floor(i.getX()+B*(_-i.getX())),P=Math.floor(i.getY()+B*(M-i.getY()));for(let U=4;U<=16;U<<=1)try{m=this.findAlignmentInRegion(r,k,P,U);break}catch(z){if(!(z instanceof re))throw z}}const b=Or.createTransform(i,s,l,m,a),A=Or.sampleGrid(this.image,b,a);let S;return m===null?S=[l,i,s]:S=[l,i,s,m],new da(A,S)}static createTransform(t,i,s,l,r){const a=r-3.5;let c,d,m,b;return l!==null?(c=l.getX(),d=l.getY(),m=a-3,b=m):(c=i.getX()-t.getX()+s.getX(),d=i.getY()-t.getY()+s.getY(),m=a,b=a),gn.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,m,b,3.5,a,t.getX(),t.getY(),i.getX(),i.getY(),c,d,s.getX(),s.getY())}static sampleGrid(t,i,s){return Ln.getInstance().sampleGridWithTransform(t,s,s,i)}static computeDimension(t,i,s,l){const r=wt.round(ke.distance(t,i)/l),a=wt.round(ke.distance(t,s)/l);let c=Math.floor((r+a)/2)+7;switch(c&3){case 0:c++;break;case 2:c--;break;case 3:throw new re("Dimensions could be not found.")}return c}calculateModuleSize(t,i,s){return(this.calculateModuleSizeOneWay(t,i)+this.calculateModuleSizeOneWay(t,s))/2}calculateModuleSizeOneWay(t,i){const s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(i.getX()),Math.floor(i.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(s)?l/7:isNaN(l)?s/7:(s+l)/14}sizeOfBlackWhiteBlackRunBothWays(t,i,s,l){let r=this.sizeOfBlackWhiteBlackRun(t,i,s,l),a=1,c=t-(s-t);c<0?(a=t/(t-c),c=0):c>=this.image.getWidth()&&(a=(this.image.getWidth()-1-t)/(c-t),c=this.image.getWidth()-1);let d=Math.floor(i-(l-i)*a);return a=1,d<0?(a=i/(i-d),d=0):d>=this.image.getHeight()&&(a=(this.image.getHeight()-1-i)/(d-i),d=this.image.getHeight()-1),c=Math.floor(t+(c-t)*a),r+=this.sizeOfBlackWhiteBlackRun(t,i,c,d),r-1}sizeOfBlackWhiteBlackRun(t,i,s,l){const r=Math.abs(l-i)>Math.abs(s-t);if(r){let _=t;t=i,i=_,_=s,s=l,l=_}const a=Math.abs(s-t),c=Math.abs(l-i);let d=-a/2;const m=t<s?1:-1,b=i<l?1:-1;let A=0;const S=s+m;for(let _=t,M=i;_!==S;_+=m){const B=r?M:_,k=r?_:M;if(A===1===this.image.get(B,k)){if(A===2)return wt.distance(_,M,t,i);A++}if(d+=c,d>0){if(M===l)break;M+=b,d-=a}}return A===2?wt.distance(s+m,l,t,i):NaN}findAlignmentInRegion(t,i,s,l){const r=Math.floor(l*t),a=Math.max(0,i-r),c=Math.min(this.image.getWidth()-1,i+r);if(c-a<t*3)throw new re("Alignment top exceeds estimated module size.");const d=Math.max(0,s-r),m=Math.min(this.image.getHeight()-1,s+r);if(m-d<t*3)throw new re("Alignment bottom exceeds estimated module size.");return new Bi(this.image,a,d,c-a,m-d,t,this.resultPointCallback).find()}}class hr{constructor(){this.decoder=new ki}getDecoder(){return this.decoder}decode(t,i){let s,l;if(i!=null&&i.get(Ve.PURE_BARCODE)!==void 0){const d=hr.extractPureBits(t.getBlackMatrix());s=this.decoder.decodeBitMatrix(d,i),l=hr.NO_POINTS}else{const d=new Or(t.getBlackMatrix()).detect(i);s=this.decoder.decodeBitMatrix(d.getBits(),i),l=d.getPoints()}s.getOther()instanceof Di&&s.getOther().applyMirroredCorrection(l);const r=new ze(s.getText(),s.getRawBytes(),void 0,l,ve.QR_CODE,void 0),a=s.getByteSegments();a!==null&&r.putMetadata(ht.BYTE_SEGMENTS,a);const c=s.getECLevel();return c!==null&&r.putMetadata(ht.ERROR_CORRECTION_LEVEL,c),s.hasStructuredAppend()&&(r.putMetadata(ht.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),r.putMetadata(ht.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),r}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),s=t.getBottomRightOnBit();if(i===null||s===null)throw new re;const l=this.moduleSize(i,t);let r=i[1],a=s[1],c=i[0],d=s[0];if(c>=d||r>=a)throw new re;if(a-r!==d-c&&(d=c+(a-r),d>=t.getWidth()))throw new re;const m=Math.round((d-c+1)/l),b=Math.round((a-r+1)/l);if(m<=0||b<=0)throw new re;if(b!==m)throw new re;const A=Math.floor(l/2);r+=A,c+=A;const S=c+Math.floor((m-1)*l)-d;if(S>0){if(S>A)throw new re;c-=S}const _=r+Math.floor((b-1)*l)-a;if(_>0){if(_>A)throw new re;r-=_}const M=new It(m,b);for(let B=0;B<b;B++){const k=r+Math.floor(B*l);for(let P=0;P<m;P++)t.get(c+Math.floor(P*l),k)&&M.set(P,B)}return M}static moduleSize(t,i){const s=i.getHeight(),l=i.getWidth();let r=t[0],a=t[1],c=!0,d=0;for(;r<l&&a<s;){if(c!==i.get(r,a)){if(++d===5)break;c=!c}r++,a++}if(r===l||a===s)throw new re;return(r-t[0])/7}}hr.NO_POINTS=new Array;class We{PDF417Common(){}static getBitCountSum(t){return wt.sum(t)}static toIntArray(t){if(t==null||!t.length)return We.EMPTY_INT_ARRAY;const i=new Int32Array(t.length);let s=0;for(const l of t)i[s++]=l;return i}static getCodeword(t){const i=Pe.binarySearch(We.SYMBOL_TABLE,t&262143);return i<0?-1:(We.CODEWORD_TABLE[i]-1)%We.NUMBER_OF_CODEWORDS}}We.NUMBER_OF_CODEWORDS=929,We.MAX_CODEWORDS_IN_BARCODE=We.NUMBER_OF_CODEWORDS-1,We.MIN_ROWS_IN_BARCODE=3,We.MAX_ROWS_IN_BARCODE=90,We.MODULES_IN_CODEWORD=17,We.MODULES_IN_STOP_PATTERN=18,We.BARS_IN_MODULE=8,We.EMPTY_INT_ARRAY=new Int32Array([]),We.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),We.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class qn{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class ct{static detectMultiple(t,i,s){let l=t.getBlackMatrix(),r=ct.detect(s,l);return r.length||(l=l.clone(),l.rotate180(),r=ct.detect(s,l)),new qn(l,r)}static detect(t,i){const s=new Array;let l=0,r=0,a=!1;for(;l<i.getHeight();){const c=ct.findVertices(i,l,r);if(c[0]==null&&c[3]==null){if(!a)break;a=!1,r=0;for(const d of s)d[1]!=null&&(l=Math.trunc(Math.max(l,d[1].getY()))),d[3]!=null&&(l=Math.max(l,Math.trunc(d[3].getY())));l+=ct.ROW_STEP;continue}if(a=!0,s.push(c),!t)break;c[2]!=null?(r=Math.trunc(c[2].getX()),l=Math.trunc(c[2].getY())):(r=Math.trunc(c[4].getX()),l=Math.trunc(c[4].getY()))}return s}static findVertices(t,i,s){const l=t.getHeight(),r=t.getWidth(),a=new Array(8);return ct.copyToResult(a,ct.findRowsWithPattern(t,l,r,i,s,ct.START_PATTERN),ct.INDEXES_START_PATTERN),a[4]!=null&&(s=Math.trunc(a[4].getX()),i=Math.trunc(a[4].getY())),ct.copyToResult(a,ct.findRowsWithPattern(t,l,r,i,s,ct.STOP_PATTERN),ct.INDEXES_STOP_PATTERN),a}static copyToResult(t,i,s){for(let l=0;l<s.length;l++)t[s[l]]=i[l]}static findRowsWithPattern(t,i,s,l,r,a){const c=new Array(4);let d=!1;const m=new Int32Array(a.length);for(;l<i;l+=ct.ROW_STEP){let A=ct.findGuardPattern(t,r,l,s,!1,a,m);if(A!=null){for(;l>0;){const S=ct.findGuardPattern(t,r,--l,s,!1,a,m);if(S!=null)A=S;else{l++;break}}c[0]=new ke(A[0],l),c[1]=new ke(A[1],l),d=!0;break}}let b=l+1;if(d){let A=0,S=Int32Array.from([Math.trunc(c[0].getX()),Math.trunc(c[1].getX())]);for(;b<i;b++){const _=ct.findGuardPattern(t,S[0],b,s,!1,a,m);if(_!=null&&Math.abs(S[0]-_[0])<ct.MAX_PATTERN_DRIFT&&Math.abs(S[1]-_[1])<ct.MAX_PATTERN_DRIFT)S=_,A=0;else{if(A>ct.SKIPPED_ROW_COUNT_MAX)break;A++}}b-=A+1,c[2]=new ke(S[0],b),c[3]=new ke(S[1],b)}return b-l<ct.BARCODE_MIN_HEIGHT&&Pe.fill(c,null),c}static findGuardPattern(t,i,s,l,r,a,c){Pe.fillWithin(c,0,c.length,0);let d=i,m=0;for(;t.get(d,s)&&d>0&&m++<ct.MAX_PIXEL_DRIFT;)d--;let b=d,A=0,S=a.length;for(let _=r;b<l;b++)if(t.get(b,s)!==_)c[A]++;else{if(A===S-1){if(ct.patternMatchVariance(c,a,ct.MAX_INDIVIDUAL_VARIANCE)<ct.MAX_AVG_VARIANCE)return new Int32Array([d,b]);d+=c[0]+c[1],ue.arraycopy(c,2,c,0,A-1),c[A-1]=0,c[A]=0,A--}else A++;c[A]=1,_=!_}return A===S-1&&ct.patternMatchVariance(c,a,ct.MAX_INDIVIDUAL_VARIANCE)<ct.MAX_AVG_VARIANCE?new Int32Array([d,b-1]):null}static patternMatchVariance(t,i,s){let l=t.length,r=0,a=0;for(let m=0;m<l;m++)r+=t[m],a+=i[m];if(r<a)return 1/0;let c=r/a;s*=c;let d=0;for(let m=0;m<l;m++){let b=t[m],A=i[m]*c,S=b>A?b-A:A-b;if(S>s)return 1/0;d+=S}return d/r}}ct.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ct.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ct.MAX_AVG_VARIANCE=.42,ct.MAX_INDIVIDUAL_VARIANCE=.8,ct.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ct.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ct.MAX_PIXEL_DRIFT=3,ct.MAX_PATTERN_DRIFT=5,ct.SKIPPED_ROW_COUNT_MAX=25,ct.ROW_STEP=5,ct.BARCODE_MIN_HEIGHT=10;class Ft{constructor(t,i){if(i.length===0)throw new D;this.field=t;let s=i.length;if(s>1&&i[0]===0){let l=1;for(;l<s&&i[l]===0;)l++;l===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-l),ue.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let l=0;for(let r of this.coefficients)l=this.field.add(l,r);return l}let i=this.coefficients[0],s=this.coefficients.length;for(let l=1;l<s;l++)i=this.field.add(this.field.multiply(t,i),this.coefficients[l]);return i}add(t){if(!this.field.equals(t.field))throw new D("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,s=t.coefficients;if(i.length>s.length){let a=i;i=s,s=a}let l=new Int32Array(s.length),r=s.length-i.length;ue.arraycopy(s,0,l,0,r);for(let a=r;a<s.length;a++)l[a]=this.field.add(i[a-r],s[a]);return new Ft(this.field,l)}subtract(t){if(!this.field.equals(t.field))throw new D("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Ft?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new D("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Ft(this.field,new Int32Array([0]));let i=this.coefficients,s=i.length,l=t.coefficients,r=l.length,a=new Int32Array(s+r-1);for(let c=0;c<s;c++){let d=i[c];for(let m=0;m<r;m++)a[c+m]=this.field.add(a[c+m],this.field.multiply(d,l[m]))}return new Ft(this.field,a)}negative(){let t=this.coefficients.length,i=new Int32Array(t);for(let s=0;s<t;s++)i[s]=this.field.subtract(0,this.coefficients[s]);return new Ft(this.field,i)}multiplyScalar(t){if(t===0)return new Ft(this.field,new Int32Array([0]));if(t===1)return this;let i=this.coefficients.length,s=new Int32Array(i);for(let l=0;l<i;l++)s[l]=this.field.multiply(this.coefficients[l],t);return new Ft(this.field,s)}multiplyByMonomial(t,i){if(t<0)throw new D;if(i===0)return new Ft(this.field,new Int32Array([0]));let s=this.coefficients.length,l=new Int32Array(s+t);for(let r=0;r<s;r++)l[r]=this.field.multiply(this.coefficients[r],i);return new Ft(this.field,l)}toString(){let t=new tt;for(let i=this.getDegree();i>=0;i--){let s=this.getCoefficient(i);s!==0&&(s<0?(t.append(" - "),s=-s):t.length()>0&&t.append(" + "),(i===0||s!==1)&&t.append(s),i!==0&&(i===1?t.append("x"):(t.append("x^"),t.append(i))))}return t.toString()}}class Ur{add(t,i){return(t+i)%this.modulus}subtract(t,i){return(this.modulus+t-i)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new D;return this.logTable[t]}inverse(t){if(t===0)throw new Nt;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class Ki extends Ur{constructor(t,i){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let s=1;for(let l=0;l<t;l++)this.expTable[l]=s,s=s*i%t;for(let l=0;l<t-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new Ft(this,new Int32Array([0])),this.one=new Ft(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new D;if(i===0)return this.zero;let s=new Int32Array(t+1);return s[0]=i,new Ft(this,s)}}Ki.PDF417_GF=new Ki(We.NUMBER_OF_CODEWORDS,3);class Li{constructor(){this.field=Ki.PDF417_GF}decode(t,i,s){let l=new Ft(this.field,t),r=new Int32Array(i),a=!1;for(let M=i;M>0;M--){let B=l.evaluateAt(this.field.exp(M));r[i-M]=B,B!==0&&(a=!0)}if(!a)return 0;let c=this.field.getOne();if(s!=null)for(const M of s){let B=this.field.exp(t.length-1-M),k=new Ft(this.field,new Int32Array([this.field.subtract(0,B),1]));c=c.multiply(k)}let d=new Ft(this.field,r),m=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),d,i),b=m[0],A=m[1],S=this.findErrorLocations(b),_=this.findErrorMagnitudes(A,b,S);for(let M=0;M<S.length;M++){let B=t.length-1-this.field.log(S[M]);if(B<0)throw te.getChecksumInstance();t[B]=this.field.subtract(t[B],_[M])}return S.length}runEuclideanAlgorithm(t,i,s){if(t.getDegree()<i.getDegree()){let S=t;t=i,i=S}let l=t,r=i,a=this.field.getZero(),c=this.field.getOne();for(;r.getDegree()>=Math.round(s/2);){let S=l,_=a;if(l=r,a=c,l.isZero())throw te.getChecksumInstance();r=S;let M=this.field.getZero(),B=l.getCoefficient(l.getDegree()),k=this.field.inverse(B);for(;r.getDegree()>=l.getDegree()&&!r.isZero();){let P=r.getDegree()-l.getDegree(),U=this.field.multiply(r.getCoefficient(r.getDegree()),k);M=M.add(this.field.buildMonomial(P,U)),r=r.subtract(l.multiplyByMonomial(P,U))}c=M.multiply(a).subtract(_).negative()}let d=c.getCoefficient(0);if(d===0)throw te.getChecksumInstance();let m=this.field.inverse(d),b=c.multiply(m),A=r.multiply(m);return[b,A]}findErrorLocations(t){let i=t.getDegree(),s=new Int32Array(i),l=0;for(let r=1;r<this.field.getSize()&&l<i;r++)t.evaluateAt(r)===0&&(s[l]=this.field.inverse(r),l++);if(l!==i)throw te.getChecksumInstance();return s}findErrorMagnitudes(t,i,s){let l=i.getDegree(),r=new Int32Array(l);for(let m=1;m<=l;m++)r[l-m]=this.field.multiply(m,i.getCoefficient(m));let a=new Ft(this.field,r),c=s.length,d=new Int32Array(c);for(let m=0;m<c;m++){let b=this.field.inverse(s[m]),A=this.field.subtract(0,t.evaluateAt(b)),S=this.field.inverse(a.evaluateAt(b));d[m]=this.field.multiply(A,S)}return d}}class Er{constructor(t,i,s,l,r){t instanceof Er?this.constructor_2(t):this.constructor_1(t,i,s,l,r)}constructor_1(t,i,s,l,r){const a=i==null||s==null,c=l==null||r==null;if(a&&c)throw new re;a?(i=new ke(0,l.getY()),s=new ke(0,r.getY())):c&&(l=new ke(t.getWidth()-1,i.getY()),r=new ke(t.getWidth()-1,s.getY())),this.image=t,this.topLeft=i,this.bottomLeft=s,this.topRight=l,this.bottomRight=r,this.minX=Math.trunc(Math.min(i.getX(),s.getX())),this.maxX=Math.trunc(Math.max(l.getX(),r.getX())),this.minY=Math.trunc(Math.min(i.getY(),l.getY())),this.maxY=Math.trunc(Math.max(s.getY(),r.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,i){return t==null?i:i==null?t:new Er(t.image,t.topLeft,t.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(t,i,s){let l=this.topLeft,r=this.bottomLeft,a=this.topRight,c=this.bottomRight;if(t>0){let d=s?this.topLeft:this.topRight,m=Math.trunc(d.getY()-t);m<0&&(m=0);let b=new ke(d.getX(),m);s?l=b:a=b}if(i>0){let d=s?this.bottomLeft:this.bottomRight,m=Math.trunc(d.getY()+i);m>=this.image.getHeight()&&(m=this.image.getHeight()-1);let b=new ke(d.getX(),m);s?r=b:c=b}return new Er(this.image,l,r,a,c)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Qi{constructor(t,i,s,l){this.columnCount=t,this.errorCorrectionLevel=l,this.rowCountUpperPart=i,this.rowCountLowerPart=s,this.rowCount=i+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Wr{constructor(){this.buffer=""}static form(t,i){let s=-1;function l(a,c,d,m,b,A){if(a==="%%")return"%";if(i[++s]===void 0)return;a=m?parseInt(m.substr(1)):void 0;let S=b?parseInt(b.substr(1)):void 0,_;switch(A){case"s":_=i[s];break;case"c":_=i[s][0];break;case"f":_=parseFloat(i[s]).toFixed(a);break;case"p":_=parseFloat(i[s]).toPrecision(a);break;case"e":_=parseFloat(i[s]).toExponential(a);break;case"x":_=parseInt(i[s]).toString(S||16);break;case"d":_=parseFloat(parseInt(i[s],S||10).toPrecision(a)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(S);let M=parseInt(d),B=d&&d[0]+""=="0"?"0":" ";for(;_.length<M;)_=c!==void 0?_+B:B+_;return _}let r=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(r,l)}format(t,...i){this.buffer+=Wr.form(t,i)}toString(){return this.buffer}}class Zi{constructor(t){this.boundingBox=new Er(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let i=this.getCodeword(t);if(i!=null)return i;for(let s=1;s<Zi.MAX_NEARBY_DISTANCE;s++){let l=this.imageRowToCodewordIndex(t)-s;if(l>=0&&(i=this.codewords[l],i!=null)||(l=this.imageRowToCodewordIndex(t)+s,l<this.codewords.length&&(i=this.codewords[l],i!=null)))return i}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,i){this.codewords[this.imageRowToCodewordIndex(t)]=i}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Wr;let i=0;for(const s of this.codewords){if(s==null){t.format("%3d:    |   %n",i++);continue}t.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}return t.toString()}}Zi.MAX_NEARBY_DISTANCE=5;class hn{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let i=this.values.get(t);i==null&&(i=0),i++,this.values.set(t,i)}getValue(){let t=-1,i=new Array;for(const[s,l]of this.values.entries()){const r={getKey:()=>s,getValue:()=>l};r.getValue()>t?(t=r.getValue(),i=[],i.push(r.getKey())):r.getValue()===t&&i.push(r.getKey())}return We.toIntArray(i)}getConfidence(t){return this.values.get(t)}}class mi extends Zi{constructor(t,i){super(t),this._isLeft=i}setRowNumbers(){for(let t of this.getCodewords())t?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,t);let s=this.getBoundingBox(),l=this._isLeft?s.getTopLeft():s.getTopRight(),r=this._isLeft?s.getBottomLeft():s.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(l.getY())),c=this.imageRowToCodewordIndex(Math.trunc(r.getY())),d=-1,m=1,b=0;for(let A=a;A<c;A++){if(i[A]==null)continue;let S=i[A],_=S.getRowNumber()-d;if(_===0)b++;else if(_===1)m=Math.max(m,b),b=1,d=S.getRowNumber();else if(_<0||S.getRowNumber()>=t.getRowCount()||_>A)i[A]=null;else{let M;m>2?M=(m-2)*_:M=_;let B=M>=A;for(let k=1;k<=M&&!B;k++)B=i[A-k]!=null;B?i[A]=null:(d=S.getRowNumber(),b=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let i=new Int32Array(t.getRowCount());for(let s of this.getCodewords())if(s!=null){let l=s.getRowNumber();if(l>=i.length)continue;i[l]++}return i}adjustIncompleteIndicatorColumnRowNumbers(t){let i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),r=this.imageRowToCodewordIndex(Math.trunc(s.getY())),a=this.imageRowToCodewordIndex(Math.trunc(l.getY())),c=this.getCodewords(),d=-1;for(let m=r;m<a;m++){if(c[m]==null)continue;let b=c[m];b.setRowNumberAsRowIndicatorColumn();let A=b.getRowNumber()-d;A===0||(A===1?d=b.getRowNumber():b.getRowNumber()>=t.getRowCount()?c[m]=null:d=b.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),i=new hn,s=new hn,l=new hn,r=new hn;for(let c of t){if(c==null)continue;c.setRowNumberAsRowIndicatorColumn();let d=c.getValue()%30,m=c.getRowNumber();switch(this._isLeft||(m+=2),m%3){case 0:s.setValue(d*3+1);break;case 1:r.setValue(d/3),l.setValue(d%3);break;case 2:i.setValue(d+1);break}}if(i.getValue().length===0||s.getValue().length===0||l.getValue().length===0||r.getValue().length===0||i.getValue()[0]<1||s.getValue()[0]+l.getValue()[0]<We.MIN_ROWS_IN_BARCODE||s.getValue()[0]+l.getValue()[0]>We.MAX_ROWS_IN_BARCODE)return null;let a=new Qi(i.getValue()[0],s.getValue()[0],l.getValue()[0],r.getValue()[0]);return this.removeIncorrectCodewords(t,a),a}removeIncorrectCodewords(t,i){for(let s=0;s<t.length;s++){let l=t[s];if(t[s]==null)continue;let r=l.getValue()%30,a=l.getRowNumber();if(a>i.getRowCount()){t[s]=null;continue}switch(this._isLeft||(a+=2),a%3){case 0:r*3+1!==i.getRowCountUpperPart()&&(t[s]=null);break;case 1:(Math.trunc(r/3)!==i.getErrorCorrectionLevel()||r%3!==i.getRowCountLowerPart())&&(t[s]=null);break;case 2:r+1!==i.getColumnCount()&&(t[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class xi{constructor(t,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=We.MAX_CODEWORDS_IN_BARCODE,i;do i=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let s=this.detectionResultColumns[i].getCodewords();for(let l=0;l<s.length;l++)s[l]!=null&&(s[l].hasValidRowNumber()||this.adjustRowNumbers(i,l,s))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<t.length;s++)if(t[s]!=null&&i[s]!=null&&t[s].getRowNumber()===i[s].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let r=this.detectionResultColumns[l].getCodewords()[s];r!=null&&(r.setRowNumber(t[s].getRowNumber()),r.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<i.length;s++){if(i[s]==null)continue;let l=i[s].getRowNumber(),r=0;for(let a=this.barcodeColumnCount+1;a>0&&r<this.ADJUST_ROW_NUMBER_SKIP;a--){let c=this.detectionResultColumns[a].getCodewords()[s];c!=null&&(r=xi.adjustRowNumberIfValid(l,r,c),c.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,i=this.detectionResultColumns[0].getCodewords();for(let s=0;s<i.length;s++){if(i[s]==null)continue;let l=i[s].getRowNumber(),r=0;for(let a=1;a<this.barcodeColumnCount+1&&r<this.ADJUST_ROW_NUMBER_SKIP;a++){let c=this.detectionResultColumns[a].getCodewords()[s];c!=null&&(r=xi.adjustRowNumberIfValid(l,r,c),c.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,i,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(t)?(s.setRowNumber(t),i=0):++i),i}adjustRowNumbers(t,i,s){if(!this.detectionResultColumns[t-1])return;let l=s[i],r=this.detectionResultColumns[t-1].getCodewords(),a=r;this.detectionResultColumns[t+1]!=null&&(a=this.detectionResultColumns[t+1].getCodewords());let c=new Array(14);c[2]=r[i],c[3]=a[i],i>0&&(c[0]=s[i-1],c[4]=r[i-1],c[5]=a[i-1]),i>1&&(c[8]=s[i-2],c[10]=r[i-2],c[11]=a[i-2]),i<s.length-1&&(c[1]=s[i+1],c[6]=r[i+1],c[7]=a[i+1]),i<s.length-2&&(c[9]=s[i+2],c[12]=r[i+2],c[13]=a[i+2]);for(let d of c)if(xi.adjustRowNumber(l,d))return}static adjustRowNumber(t,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===t.getBucket()?(t.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,i){this.detectionResultColumns[t]=i}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Wr;for(let s=0;s<t.getCodewords().length;s++){i.format("CW %3d:",s);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){i.format("    |   ");continue}let r=this.detectionResultColumns[l].getCodewords()[s];if(r==null){i.format("    |   ");continue}i.format(" %3d|%3d",r.getRowNumber(),r.getValue())}i.format("%n")}return i.toString()}}class Ar{constructor(t,i,s,l){this.rowNumber=Ar.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(i),this.bucket=Math.trunc(s),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==Ar.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}Ar.BARCODE_ROW_UNKNOWN=-1;class zn{static initialize(){for(let t=0;t<We.SYMBOL_TABLE.length;t++){let i=We.SYMBOL_TABLE[t],s=i&1;for(let l=0;l<We.BARS_IN_MODULE;l++){let r=0;for(;(i&1)===s;)r+=1,i>>=1;s=i&1,zn.RATIOS_TABLE[t]||(zn.RATIOS_TABLE[t]=new Array(We.BARS_IN_MODULE)),zn.RATIOS_TABLE[t][We.BARS_IN_MODULE-l-1]=Math.fround(r/We.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let i=zn.getDecodedCodewordValue(zn.sampleBitCounts(t));return i!==-1?i:zn.getClosestDecodedValue(t)}static sampleBitCounts(t){let i=wt.sum(t),s=new Int32Array(We.BARS_IN_MODULE),l=0,r=0;for(let a=0;a<We.MODULES_IN_CODEWORD;a++){let c=i/(2*We.MODULES_IN_CODEWORD)+a*i/We.MODULES_IN_CODEWORD;r+t[l]<=c&&(r+=t[l],l++),s[l]++}return s}static getDecodedCodewordValue(t){let i=zn.getBitValue(t);return We.getCodeword(i)===-1?-1:i}static getBitValue(t){let i=0;for(let s=0;s<t.length;s++)for(let l=0;l<t[s];l++)i=i<<1|(s%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(t){let i=wt.sum(t),s=new Array(We.BARS_IN_MODULE);if(i>1)for(let a=0;a<s.length;a++)s[a]=Math.fround(t[a]/i);let l=Ti.MAX_VALUE,r=-1;this.bSymbolTableReady||zn.initialize();for(let a=0;a<zn.RATIOS_TABLE.length;a++){let c=0,d=zn.RATIOS_TABLE[a];for(let m=0;m<We.BARS_IN_MODULE;m++){let b=Math.fround(d[m]-s[m]);if(c+=Math.fround(b*b),c>=l)break}c<l&&(l=c,r=We.SYMBOL_TABLE[a])}return r}}zn.bSymbolTableReady=!1,zn.RATIOS_TABLE=new Array(We.SYMBOL_TABLE.length).map(O=>new Array(We.BARS_IN_MODULE));class Wi{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class za{static parseLong(t,i=void 0){return parseInt(t,i)}}class Ji extends E{}Ji.kind="NullPointerException";class Fa{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,i,s){if(t==null)throw new Ji;if(i<0||i>t.length||s<0||i+s>t.length||i+s<0)throw new Le;if(s===0)return;for(let l=0;l<s;l++)this.write(t[i+l])}flush(){}close(){}}class Ha extends E{}class ys extends Fa{constructor(t=32){if(super(),this.count=0,t<0)throw new D("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let s=this.buf.length<<1;if(s-t<0&&(s=t),s<0){if(t<0)throw new Ha;s=Oe.MAX_VALUE}this.buf=Pe.copyOfUint8Array(this.buf,s)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,i,s){if(i<0||i>t.length||s<0||i+s-t.length>0)throw new Le;this.ensureCapacity(this.count+s),ue.arraycopy(t,i,this.buf,this.count,s),this.count+=s}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Pe.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Gt;(function(O){O[O.ALPHA=0]="ALPHA",O[O.LOWER=1]="LOWER",O[O.MIXED=2]="MIXED",O[O.PUNCT=3]="PUNCT",O[O.ALPHA_SHIFT=4]="ALPHA_SHIFT",O[O.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Gt||(Gt={}));function ma(){if(typeof window<"u")return window.BigInt||null;if(typeof il<"u")return il.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Jr;function Ir(O){if(typeof Jr>"u"&&(Jr=ma()),Jr===null)throw new Error("BigInt is not supported!");return Jr(O)}function js(){let O=[];O[0]=Ir(1);let t=Ir(900);O[1]=t;for(let i=2;i<16;i++)O[i]=O[i-1]*t;return O}class oe{static decode(t,i){let s=new tt(""),l=be.ISO8859_1;s.enableDecoding(l);let r=1,a=t[r++],c=new Wi;for(;r<t[0];){switch(a){case oe.TEXT_COMPACTION_MODE_LATCH:r=oe.textCompaction(t,r,s);break;case oe.BYTE_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:r=oe.byteCompaction(a,t,l,r,s);break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(t[r++]);break;case oe.NUMERIC_COMPACTION_MODE_LATCH:r=oe.numericCompaction(t,r,s);break;case oe.ECI_CHARSET:be.getCharacterSetECIByValue(t[r++]);break;case oe.ECI_GENERAL_PURPOSE:r+=2;break;case oe.ECI_USER_DEFINED:r++;break;case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:r=oe.decodeMacroBlock(t,r,c);break;case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:throw new fe;default:r--,r=oe.textCompaction(t,r,s);break}if(r<t.length)a=t[r++];else throw fe.getFormatInstance()}if(s.length()===0)throw fe.getFormatInstance();let d=new Fe(null,s.toString(),null,i);return d.setOther(c),d}static decodeMacroBlock(t,i,s){if(i+oe.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw fe.getFormatInstance();let l=new Int32Array(oe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let c=0;c<oe.NUMBER_OF_SEQUENCE_CODEWORDS;c++,i++)l[c]=t[i];s.setSegmentIndex(Oe.parseInt(oe.decodeBase900toBase10(l,oe.NUMBER_OF_SEQUENCE_CODEWORDS)));let r=new tt;i=oe.textCompaction(t,i,r),s.setFileId(r.toString());let a=-1;for(t[i]===oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=i+1);i<t[0];)switch(t[i]){case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,t[i]){case oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let c=new tt;i=oe.textCompaction(t,i+1,c),s.setFileName(c.toString());break;case oe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let d=new tt;i=oe.textCompaction(t,i+1,d),s.setSender(d.toString());break;case oe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let m=new tt;i=oe.textCompaction(t,i+1,m),s.setAddressee(m.toString());break;case oe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let b=new tt;i=oe.numericCompaction(t,i+1,b),s.setSegmentCount(Oe.parseInt(b.toString()));break;case oe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let A=new tt;i=oe.numericCompaction(t,i+1,A),s.setTimestamp(za.parseLong(A.toString()));break;case oe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let S=new tt;i=oe.numericCompaction(t,i+1,S),s.setChecksum(Oe.parseInt(S.toString()));break;case oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let _=new tt;i=oe.numericCompaction(t,i+1,_),s.setFileSize(za.parseLong(_.toString()));break;default:throw fe.getFormatInstance()}break;case oe.MACRO_PDF417_TERMINATOR:i++,s.setLastSegment(!0);break;default:throw fe.getFormatInstance()}if(a!==-1){let c=i-a;s.isLastSegment()&&c--,s.setOptionalData(Pe.copyOfRange(t,a,a+c))}return i}static textCompaction(t,i,s){let l=new Int32Array((t[0]-i)*2),r=new Int32Array((t[0]-i)*2),a=0,c=!1;for(;i<t[0]&&!c;){let d=t[i++];if(d<oe.TEXT_COMPACTION_MODE_LATCH)l[a]=d/30,l[a+1]=d%30,a+=2;else switch(d){case oe.TEXT_COMPACTION_MODE_LATCH:l[a++]=oe.TEXT_COMPACTION_MODE_LATCH;break;case oe.BYTE_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.NUMERIC_COMPACTION_MODE_LATCH:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:i--,c=!0;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[a]=oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,d=t[i++],r[a]=d,a++;break}}return oe.decodeTextCompaction(l,r,a,s),i}static decodeTextCompaction(t,i,s,l){let r=Gt.ALPHA,a=Gt.ALPHA,c=0;for(;c<s;){let d=t[c],m="";switch(r){case Gt.ALPHA:if(d<26)m=String.fromCharCode(65+d);else switch(d){case 26:m=" ";break;case oe.LL:r=Gt.LOWER;break;case oe.ML:r=Gt.MIXED;break;case oe.PS:a=r,r=Gt.PUNCT_SHIFT;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case oe.TEXT_COMPACTION_MODE_LATCH:r=Gt.ALPHA;break}break;case Gt.LOWER:if(d<26)m=String.fromCharCode(97+d);else switch(d){case 26:m=" ";break;case oe.AS:a=r,r=Gt.ALPHA_SHIFT;break;case oe.ML:r=Gt.MIXED;break;case oe.PS:a=r,r=Gt.PUNCT_SHIFT;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case oe.TEXT_COMPACTION_MODE_LATCH:r=Gt.ALPHA;break}break;case Gt.MIXED:if(d<oe.PL)m=oe.MIXED_CHARS[d];else switch(d){case oe.PL:r=Gt.PUNCT;break;case 26:m=" ";break;case oe.LL:r=Gt.LOWER;break;case oe.AL:r=Gt.ALPHA;break;case oe.PS:a=r,r=Gt.PUNCT_SHIFT;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case oe.TEXT_COMPACTION_MODE_LATCH:r=Gt.ALPHA;break}break;case Gt.PUNCT:if(d<oe.PAL)m=oe.PUNCT_CHARS[d];else switch(d){case oe.PAL:r=Gt.ALPHA;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case oe.TEXT_COMPACTION_MODE_LATCH:r=Gt.ALPHA;break}break;case Gt.ALPHA_SHIFT:if(r=a,d<26)m=String.fromCharCode(65+d);else switch(d){case 26:m=" ";break;case oe.TEXT_COMPACTION_MODE_LATCH:r=Gt.ALPHA;break}break;case Gt.PUNCT_SHIFT:if(r=a,d<oe.PAL)m=oe.PUNCT_CHARS[d];else switch(d){case oe.PAL:r=Gt.ALPHA;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case oe.TEXT_COMPACTION_MODE_LATCH:r=Gt.ALPHA;break}break}m!==""&&l.append(m),c++}}static byteCompaction(t,i,s,l,r){let a=new ys,c=0,d=0,m=!1;switch(t){case oe.BYTE_COMPACTION_MODE_LATCH:let b=new Int32Array(6),A=i[l++];for(;l<i[0]&&!m;)switch(b[c++]=A,d=900*d+A,A=i[l++],A){case oe.TEXT_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH:case oe.NUMERIC_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:l--,m=!0;break;default:if(c%5===0&&c>0){for(let S=0;S<6;++S)a.write(Number(Ir(d)>>Ir(8*(5-S))));d=0,c=0}break}l===i[0]&&A<oe.TEXT_COMPACTION_MODE_LATCH&&(b[c++]=A);for(let S=0;S<c;S++)a.write(b[S]);break;case oe.BYTE_COMPACTION_MODE_LATCH_6:for(;l<i[0]&&!m;){let S=i[l++];if(S<oe.TEXT_COMPACTION_MODE_LATCH)c++,d=900*d+S;else switch(S){case oe.TEXT_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH:case oe.NUMERIC_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:l--,m=!0;break}if(c%5===0&&c>0){for(let _=0;_<6;++_)a.write(Number(Ir(d)>>Ir(8*(5-_))));d=0,c=0}}break}return r.append(Pt.decode(a.toByteArray(),s)),l}static numericCompaction(t,i,s){let l=0,r=!1,a=new Int32Array(oe.MAX_NUMERIC_CODEWORDS);for(;i<t[0]&&!r;){let c=t[i++];if(i===t[0]&&(r=!0),c<oe.TEXT_COMPACTION_MODE_LATCH)a[l]=c,l++;else switch(c){case oe.TEXT_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:i--,r=!0;break}(l%oe.MAX_NUMERIC_CODEWORDS===0||c===oe.NUMERIC_COMPACTION_MODE_LATCH||r)&&l>0&&(s.append(oe.decodeBase900toBase10(a,l)),l=0)}return i}static decodeBase900toBase10(t,i){let s=Ir(0);for(let r=0;r<i;r++)s+=oe.EXP900[i-r-1]*Ir(t[r]);let l=s.toString();if(l.charAt(0)!=="1")throw new fe;return l.substring(1)}}oe.TEXT_COMPACTION_MODE_LATCH=900,oe.BYTE_COMPACTION_MODE_LATCH=901,oe.NUMERIC_COMPACTION_MODE_LATCH=902,oe.BYTE_COMPACTION_MODE_LATCH_6=924,oe.ECI_USER_DEFINED=925,oe.ECI_GENERAL_PURPOSE=926,oe.ECI_CHARSET=927,oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,oe.MACRO_PDF417_TERMINATOR=922,oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,oe.MAX_NUMERIC_CODEWORDS=15,oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,oe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,oe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,oe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,oe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,oe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,oe.PL=25,oe.LL=27,oe.AS=27,oe.ML=28,oe.AL=28,oe.PS=29,oe.PAL=29,oe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,oe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",oe.EXP900=ma()?js():[],oe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ut{constructor(){}static decode(t,i,s,l,r,a,c){let d=new Er(t,i,s,l,r),m=null,b=null,A;for(let M=!0;;M=!1){if(i!=null&&(m=ut.getRowIndicatorColumn(t,d,i,!0,a,c)),l!=null&&(b=ut.getRowIndicatorColumn(t,d,l,!1,a,c)),A=ut.merge(m,b),A==null)throw re.getNotFoundInstance();let B=A.getBoundingBox();if(M&&B!=null&&(B.getMinY()<d.getMinY()||B.getMaxY()>d.getMaxY()))d=B;else break}A.setBoundingBox(d);let S=A.getBarcodeColumnCount()+1;A.setDetectionResultColumn(0,m),A.setDetectionResultColumn(S,b);let _=m!=null;for(let M=1;M<=S;M++){let B=_?M:S-M;if(A.getDetectionResultColumn(B)!==void 0)continue;let k;B===0||B===S?k=new mi(d,B===0):k=new Zi(d),A.setDetectionResultColumn(B,k);let P=-1,U=P;for(let z=d.getMinY();z<=d.getMaxY();z++){if(P=ut.getStartColumn(A,B,z,_),P<0||P>d.getMaxX()){if(U===-1)continue;P=U}let F=ut.detectCodeword(t,d.getMinX(),d.getMaxX(),_,P,z,a,c);F!=null&&(k.setCodeword(z,F),U=P,a=Math.min(a,F.getWidth()),c=Math.max(c,F.getWidth()))}}return ut.createDecoderResult(A)}static merge(t,i){if(t==null&&i==null)return null;let s=ut.getBarcodeMetadata(t,i);if(s==null)return null;let l=Er.merge(ut.adjustBoundingBox(t),ut.adjustBoundingBox(i));return new xi(s,l)}static adjustBoundingBox(t){if(t==null)return null;let i=t.getRowHeights();if(i==null)return null;let s=ut.getMax(i),l=0;for(let c of i)if(l+=s-c,c>0)break;let r=t.getCodewords();for(let c=0;l>0&&r[c]==null;c++)l--;let a=0;for(let c=i.length-1;c>=0&&(a+=s-i[c],!(i[c]>0));c--);for(let c=r.length-1;a>0&&r[c]==null;c--)a--;return t.getBoundingBox().addMissingRows(l,a,t.isLeft())}static getMax(t){let i=-1;for(let s of t)i=Math.max(i,s);return i}static getBarcodeMetadata(t,i){let s;if(t==null||(s=t.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let l;return i==null||(l=i.getBarcodeMetadata())==null?s:s.getColumnCount()!==l.getColumnCount()&&s.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&s.getRowCount()!==l.getRowCount()?null:s}static getRowIndicatorColumn(t,i,s,l,r,a){let c=new mi(i,l);for(let d=0;d<2;d++){let m=d===0?1:-1,b=Math.trunc(Math.trunc(s.getX()));for(let A=Math.trunc(Math.trunc(s.getY()));A<=i.getMaxY()&&A>=i.getMinY();A+=m){let S=ut.detectCodeword(t,0,t.getWidth(),l,b,A,r,a);S!=null&&(c.setCodeword(A,S),l?b=S.getStartX():b=S.getEndX())}}return c}static adjustCodewordCount(t,i){let s=i[0][1],l=s.getValue(),r=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-ut.getNumberOfECCodeWords(t.getBarcodeECLevel());if(l.length===0){if(r<1||r>We.MAX_CODEWORDS_IN_BARCODE)throw re.getNotFoundInstance();s.setValue(r)}else l[0]!==r&&s.setValue(r)}static createDecoderResult(t){let i=ut.createBarcodeMatrix(t);ut.adjustCodewordCount(t,i);let s=new Array,l=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),r=[],a=new Array;for(let d=0;d<t.getBarcodeRowCount();d++)for(let m=0;m<t.getBarcodeColumnCount();m++){let b=i[d][m+1].getValue(),A=d*t.getBarcodeColumnCount()+m;b.length===0?s.push(A):b.length===1?l[A]=b[0]:(a.push(A),r.push(b))}let c=new Array(r.length);for(let d=0;d<c.length;d++)c[d]=r[d];return ut.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),l,We.toIntArray(s),We.toIntArray(a),c)}static createDecoderResultFromAmbiguousValues(t,i,s,l,r){let a=new Int32Array(l.length),c=100;for(;c-- >0;){for(let d=0;d<a.length;d++)i[l[d]]=r[d][a[d]];try{return ut.decodeCodewords(i,t,s)}catch(d){if(!(d instanceof te))throw d}if(a.length===0)throw te.getChecksumInstance();for(let d=0;d<a.length;d++)if(a[d]<r[d].length-1){a[d]++;break}else if(a[d]=0,d===a.length-1)throw te.getChecksumInstance()}throw te.getChecksumInstance()}static createBarcodeMatrix(t){let i=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let l=0;l<i.length;l++)for(let r=0;r<i[l].length;r++)i[l][r]=new hn;let s=0;for(let l of t.getDetectionResultColumns()){if(l!=null){for(let r of l.getCodewords())if(r!=null){let a=r.getRowNumber();if(a>=0){if(a>=i.length)continue;i[a][s].setValue(r.getValue())}}}s++}return i}static isValidBarcodeColumn(t,i){return i>=0&&i<=t.getBarcodeColumnCount()+1}static getStartColumn(t,i,s,l){let r=l?1:-1,a=null;if(ut.isValidBarcodeColumn(t,i-r)&&(a=t.getDetectionResultColumn(i-r).getCodeword(s)),a!=null)return l?a.getEndX():a.getStartX();if(a=t.getDetectionResultColumn(i).getCodewordNearby(s),a!=null)return l?a.getStartX():a.getEndX();if(ut.isValidBarcodeColumn(t,i-r)&&(a=t.getDetectionResultColumn(i-r).getCodewordNearby(s)),a!=null)return l?a.getEndX():a.getStartX();let c=0;for(;ut.isValidBarcodeColumn(t,i-r);){i-=r;for(let d of t.getDetectionResultColumn(i).getCodewords())if(d!=null)return(l?d.getEndX():d.getStartX())+r*c*(d.getEndX()-d.getStartX());c++}return l?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,i,s,l,r,a,c,d){r=ut.adjustCodewordStartColumn(t,i,s,l,r,a);let m=ut.getModuleBitCount(t,i,s,l,r,a);if(m==null)return null;let b,A=wt.sum(m);if(l)b=r+A;else{for(let M=0;M<m.length/2;M++){let B=m[M];m[M]=m[m.length-1-M],m[m.length-1-M]=B}b=r,r=b-A}if(!ut.checkCodewordSkew(A,c,d))return null;let S=zn.getDecodedValue(m),_=We.getCodeword(S);return _===-1?null:new Ar(r,b,ut.getCodewordBucketNumber(S),_)}static getModuleBitCount(t,i,s,l,r,a){let c=r,d=new Int32Array(8),m=0,b=l?1:-1,A=l;for(;(l?c<s:c>=i)&&m<d.length;)t.get(c,a)===A?(d[m]++,c+=b):(m++,A=!A);return m===d.length||c===(l?s:i)&&m===d.length-1?d:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,i,s,l,r,a){let c=r,d=l?-1:1;for(let m=0;m<2;m++){for(;(l?c>=i:c<s)&&l===t.get(c,a);){if(Math.abs(r-c)>ut.CODEWORD_SKEW_SIZE)return r;c+=d}d=-d,l=!l}return c}static checkCodewordSkew(t,i,s){return i-ut.CODEWORD_SKEW_SIZE<=t&&t<=s+ut.CODEWORD_SKEW_SIZE}static decodeCodewords(t,i,s){if(t.length===0)throw fe.getFormatInstance();let l=1<<i+1,r=ut.correctErrors(t,s,l);ut.verifyCodewordCount(t,l);let a=oe.decode(t,""+i);return a.setErrorsCorrected(r),a.setErasures(s.length),a}static correctErrors(t,i,s){if(i!=null&&i.length>s/2+ut.MAX_ERRORS||s<0||s>ut.MAX_EC_CODEWORDS)throw te.getChecksumInstance();return ut.errorCorrection.decode(t,s,i)}static verifyCodewordCount(t,i){if(t.length<4)throw fe.getFormatInstance();let s=t[0];if(s>t.length)throw fe.getFormatInstance();if(s===0)if(i<t.length)t[0]=t.length-i;else throw fe.getFormatInstance()}static getBitCountForCodeword(t){let i=new Int32Array(8),s=0,l=i.length-1;for(;!((t&1)!==s&&(s=t&1,l--,l<0));)i[l]++,t>>=1;return i}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return ut.getCodewordBucketNumber(ut.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let i=new Wr;for(let s=0;s<t.length;s++){i.format("Row %2d: ",s);for(let l=0;l<t[s].length;l++){let r=t[s][l];r.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",r.getValue()[0],r.getConfidence(r.getValue()[0]))}i.format("%n")}return i.toString()}}ut.CODEWORD_SKEW_SIZE=2,ut.MAX_ERRORS=3,ut.MAX_EC_CODEWORDS=512,ut.errorCorrection=new Li;class Tn{decode(t,i=null){let s=Tn.decode(t,i,!1);if(s==null||s.length===0||s[0]==null)throw re.getNotFoundInstance();return s[0]}decodeMultiple(t,i=null){try{return Tn.decode(t,i,!0)}catch(s){throw s instanceof fe||s instanceof te?re.getNotFoundInstance():s}}static decode(t,i,s){const l=new Array,r=ct.detectMultiple(t,i,s);for(const a of r.getPoints()){const c=ut.decode(r.getBits(),a[4],a[5],a[6],a[7],Tn.getMinCodewordWidth(a),Tn.getMaxCodewordWidth(a)),d=new ze(c.getText(),c.getRawBytes(),void 0,a,ve.PDF_417);d.putMetadata(ht.ERROR_CORRECTION_LEVEL,c.getECLevel());const m=c.getOther();m!=null&&d.putMetadata(ht.PDF417_EXTRA_METADATA,m),l.push(d)}return l.map(a=>a)}static getMaxWidth(t,i){return t==null||i==null?0:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMinWidth(t,i){return t==null||i==null?Oe.MAX_VALUE:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(Tn.getMaxWidth(t[0],t[4]),Tn.getMaxWidth(t[6],t[2])*We.MODULES_IN_CODEWORD/We.MODULES_IN_STOP_PATTERN),Math.max(Tn.getMaxWidth(t[1],t[5]),Tn.getMaxWidth(t[7],t[3])*We.MODULES_IN_CODEWORD/We.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(Tn.getMinWidth(t[0],t[4]),Tn.getMinWidth(t[6],t[2])*We.MODULES_IN_CODEWORD/We.MODULES_IN_STOP_PATTERN),Math.min(Tn.getMinWidth(t[1],t[5]),Tn.getMinWidth(t[7],t[3])*We.MODULES_IN_CODEWORD/We.MODULES_IN_STOP_PATTERN)))}reset(){}}class Pi extends E{}Pi.kind="ReaderException";class Ga{constructor(t,i){this.verbose=t===!0,i&&this.setHints(i)}decode(t,i){return i&&this.setHints(i),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const i=!g(t)&&t.get(Ve.TRY_HARDER)===!0,s=g(t)?null:t.get(Ve.POSSIBLE_FORMATS),l=new Array;if(!g(s)){const r=s.some(a=>a===ve.UPC_A||a===ve.UPC_E||a===ve.EAN_13||a===ve.EAN_8||a===ve.CODABAR||a===ve.CODE_39||a===ve.CODE_93||a===ve.CODE_128||a===ve.ITF||a===ve.RSS_14||a===ve.RSS_EXPANDED);r&&!i&&l.push(new jr(t,this.verbose)),s.includes(ve.QR_CODE)&&l.push(new hr),s.includes(ve.DATA_MATRIX)&&l.push(new Xn),s.includes(ve.AZTEC)&&l.push(new Ri),s.includes(ve.PDF_417)&&l.push(new Tn),r&&i&&l.push(new jr(t,this.verbose))}l.length===0&&(i||l.push(new jr(t,this.verbose)),l.push(new hr),l.push(new Xn),l.push(new Ri),l.push(new Tn),i&&l.push(new jr(t,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new Pi("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(t,this.hints)}catch(s){if(s instanceof Pi)continue}throw new re("No MultiFormat Readers were able to detect the code.")}}class bs extends _e{constructor(t=null,i=500){const s=new Ga;s.setHints(t),super(s,i)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class Kn extends _e{constructor(t=500){super(new Tn,t)}}class xa extends _e{constructor(t=500){super(new hr,t)}}var $r;(function(O){O[O.ERROR_CORRECTION=0]="ERROR_CORRECTION",O[O.CHARACTER_SET=1]="CHARACTER_SET",O[O.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",O[O.MIN_SIZE=3]="MIN_SIZE",O[O.MAX_SIZE=4]="MAX_SIZE",O[O.MARGIN=5]="MARGIN",O[O.PDF417_COMPACT=6]="PDF417_COMPACT",O[O.PDF417_COMPACTION=7]="PDF417_COMPACTION",O[O.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",O[O.AZTEC_LAYERS=9]="AZTEC_LAYERS",O[O.QR_VERSION=10]="QR_VERSION"})($r||($r={}));var Cn=$r;class $i{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new yn(t,Int32Array.from([1])))}buildGenerator(t){const i=this.cachedGenerators;if(t>=i.length){let s=i[i.length-1];const l=this.field;for(let r=i.length;r<=t;r++){const a=s.multiply(new yn(l,Int32Array.from([1,l.exp(r-1+l.getGeneratorBase())])));i.push(a),s=a}}return i[t]}encode(t,i){if(i===0)throw new D("No error correction bytes");const s=t.length-i;if(s<=0)throw new D("No data bytes provided");const l=this.buildGenerator(i),r=new Int32Array(s);ue.arraycopy(t,0,r,0,s);let a=new yn(this.field,r);a=a.multiplyByMonomial(i,1);const d=a.divide(l)[1].getCoefficients(),m=i-d.length;for(let b=0;b<m;b++)t[s+b]=0;ue.arraycopy(d,0,t,s+m,d.length)}}class cn{constructor(){}static applyMaskPenaltyRule1(t){return cn.applyMaskPenaltyRule1Internal(t,!0)+cn.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let i=0;const s=t.getArray(),l=t.getWidth(),r=t.getHeight();for(let a=0;a<r-1;a++){const c=s[a];for(let d=0;d<l-1;d++){const m=c[d];m===c[d+1]&&m===s[a+1][d]&&m===s[a+1][d+1]&&i++}}return cn.N2*i}static applyMaskPenaltyRule3(t){let i=0;const s=t.getArray(),l=t.getWidth(),r=t.getHeight();for(let a=0;a<r;a++)for(let c=0;c<l;c++){const d=s[a];c+6<l&&d[c]===1&&d[c+1]===0&&d[c+2]===1&&d[c+3]===1&&d[c+4]===1&&d[c+5]===0&&d[c+6]===1&&(cn.isWhiteHorizontal(d,c-4,c)||cn.isWhiteHorizontal(d,c+7,c+11))&&i++,a+6<r&&s[a][c]===1&&s[a+1][c]===0&&s[a+2][c]===1&&s[a+3][c]===1&&s[a+4][c]===1&&s[a+5][c]===0&&s[a+6][c]===1&&(cn.isWhiteVertical(s,c,a-4,a)||cn.isWhiteVertical(s,c,a+7,a+11))&&i++}return i*cn.N3}static isWhiteHorizontal(t,i,s){i=Math.max(i,0),s=Math.min(s,t.length);for(let l=i;l<s;l++)if(t[l]===1)return!1;return!0}static isWhiteVertical(t,i,s,l){s=Math.max(s,0),l=Math.min(l,t.length);for(let r=s;r<l;r++)if(t[r][i]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let i=0;const s=t.getArray(),l=t.getWidth(),r=t.getHeight();for(let d=0;d<r;d++){const m=s[d];for(let b=0;b<l;b++)m[b]===1&&i++}const a=t.getHeight()*t.getWidth();return Math.floor(Math.abs(i*2-a)*10/a)*cn.N4}static getDataMaskBit(t,i,s){let l,r;switch(t){case 0:l=s+i&1;break;case 1:l=s&1;break;case 2:l=i%3;break;case 3:l=(s+i)%3;break;case 4:l=Math.floor(s/2)+Math.floor(i/3)&1;break;case 5:r=s*i,l=(r&1)+r%3;break;case 6:r=s*i,l=(r&1)+r%3&1;break;case 7:r=s*i,l=r%3+(s+i&1)&1;break;default:throw new D("Invalid mask pattern: "+t)}return l===0}static applyMaskPenaltyRule1Internal(t,i){let s=0;const l=i?t.getHeight():t.getWidth(),r=i?t.getWidth():t.getHeight(),a=t.getArray();for(let c=0;c<l;c++){let d=0,m=-1;for(let b=0;b<r;b++){const A=i?a[c][b]:a[b][c];A===m?d++:(d>=5&&(s+=cn.N1+(d-5)),d=1,m=A)}d>=5&&(s+=cn.N1+(d-5))}return s}}cn.N1=3,cn.N2=3,cn.N3=40,cn.N4=10;class ea{constructor(t,i){this.width=t,this.height=i;const s=new Array(i);for(let l=0;l!==i;l++)s[l]=new Uint8Array(t);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(t,i){return this.bytes[i][t]}getArray(){return this.bytes}setNumber(t,i,s){this.bytes[i][t]=s}setBoolean(t,i,s){this.bytes[i][t]=s?1:0}clear(t){for(const i of this.bytes)Pe.fill(i,t)}equals(t){if(!(t instanceof ea))return!1;const i=t;if(this.width!==i.width||this.height!==i.height)return!1;for(let s=0,l=this.height;s<l;++s){const r=this.bytes[s],a=i.bytes[s];for(let c=0,d=this.width;c<d;++c)if(r[c]!==a[c])return!1}return!0}toString(){const t=new tt;for(let i=0,s=this.height;i<s;++i){const l=this.bytes[i];for(let r=0,a=this.width;r<a;++r)switch(l[r]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class zr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new tt;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<zr.NUM_MASK_PATTERNS}}zr.NUM_MASK_PATTERNS=8;class Vt extends E{}Vt.kind="WriterException";class Qe{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,i,s,l,r){Qe.clearMatrix(r),Qe.embedBasicPatterns(s,r),Qe.embedTypeInfo(i,l,r),Qe.maybeEmbedVersionInfo(s,r),Qe.embedDataBits(t,l,r)}static embedBasicPatterns(t,i){Qe.embedPositionDetectionPatternsAndSeparators(i),Qe.embedDarkDotAtLeftBottomCorner(i),Qe.maybeEmbedPositionAdjustmentPatterns(t,i),Qe.embedTimingPatterns(i)}static embedTypeInfo(t,i,s){const l=new Ge;Qe.makeTypeInfoBits(t,i,l);for(let r=0,a=l.getSize();r<a;++r){const c=l.get(l.getSize()-1-r),d=Qe.TYPE_INFO_COORDINATES[r],m=d[0],b=d[1];if(s.setBoolean(m,b,c),r<8){const A=s.getWidth()-r-1;s.setBoolean(A,8,c)}else{const S=s.getHeight()-7+(r-8);s.setBoolean(8,S,c)}}}static maybeEmbedVersionInfo(t,i){if(t.getVersionNumber()<7)return;const s=new Ge;Qe.makeVersionInfoBits(t,s);let l=6*3-1;for(let r=0;r<6;++r)for(let a=0;a<3;++a){const c=s.get(l);l--,i.setBoolean(r,i.getHeight()-11+a,c),i.setBoolean(i.getHeight()-11+a,r,c)}}static embedDataBits(t,i,s){let l=0,r=-1,a=s.getWidth()-1,c=s.getHeight()-1;for(;a>0;){for(a===6&&(a-=1);c>=0&&c<s.getHeight();){for(let d=0;d<2;++d){const m=a-d;if(!Qe.isEmpty(s.get(m,c)))continue;let b;l<t.getSize()?(b=t.get(l),++l):b=!1,i!==255&&cn.getDataMaskBit(i,m,c)&&(b=!b),s.setBoolean(m,c,b)}c+=r}r=-r,c+=r,a-=2}if(l!==t.getSize())throw new Vt("Not all bits consumed: "+l+"/"+t.getSize())}static findMSBSet(t){return 32-Oe.numberOfLeadingZeros(t)}static calculateBCHCode(t,i){if(i===0)throw new D("0 polynomial");const s=Qe.findMSBSet(i);for(t<<=s-1;Qe.findMSBSet(t)>=s;)t^=i<<Qe.findMSBSet(t)-s;return t}static makeTypeInfoBits(t,i,s){if(!zr.isValidMaskPattern(i))throw new Vt("Invalid mask pattern");const l=t.getBits()<<3|i;s.appendBits(l,5);const r=Qe.calculateBCHCode(l,Qe.TYPE_INFO_POLY);s.appendBits(r,10);const a=new Ge;if(a.appendBits(Qe.TYPE_INFO_MASK_PATTERN,15),s.xor(a),s.getSize()!==15)throw new Vt("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(t,i){i.appendBits(t.getVersionNumber(),6);const s=Qe.calculateBCHCode(t.getVersionNumber(),Qe.VERSION_INFO_POLY);if(i.appendBits(s,12),i.getSize()!==18)throw new Vt("should not happen but we got: "+i.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let i=8;i<t.getWidth()-8;++i){const s=(i+1)%2;Qe.isEmpty(t.get(i,6))&&t.setNumber(i,6,s),Qe.isEmpty(t.get(6,i))&&t.setNumber(6,i,s)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Vt;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,i,s){for(let l=0;l<8;++l){if(!Qe.isEmpty(s.get(t+l,i)))throw new Vt;s.setNumber(t+l,i,0)}}static embedVerticalSeparationPattern(t,i,s){for(let l=0;l<7;++l){if(!Qe.isEmpty(s.get(t,i+l)))throw new Vt;s.setNumber(t,i+l,0)}}static embedPositionAdjustmentPattern(t,i,s){for(let l=0;l<5;++l){const r=Qe.POSITION_ADJUSTMENT_PATTERN[l];for(let a=0;a<5;++a)s.setNumber(t+a,i+l,r[a])}}static embedPositionDetectionPattern(t,i,s){for(let l=0;l<7;++l){const r=Qe.POSITION_DETECTION_PATTERN[l];for(let a=0;a<7;++a)s.setNumber(t+a,i+l,r[a])}}static embedPositionDetectionPatternsAndSeparators(t){const i=Qe.POSITION_DETECTION_PATTERN[0].length;Qe.embedPositionDetectionPattern(0,0,t),Qe.embedPositionDetectionPattern(t.getWidth()-i,0,t),Qe.embedPositionDetectionPattern(0,t.getWidth()-i,t);const s=8;Qe.embedHorizontalSeparationPattern(0,s-1,t),Qe.embedHorizontalSeparationPattern(t.getWidth()-s,s-1,t),Qe.embedHorizontalSeparationPattern(0,t.getWidth()-s,t);const l=7;Qe.embedVerticalSeparationPattern(l,0,t),Qe.embedVerticalSeparationPattern(t.getHeight()-l-1,0,t),Qe.embedVerticalSeparationPattern(l,t.getHeight()-l,t)}static maybeEmbedPositionAdjustmentPatterns(t,i){if(t.getVersionNumber()<2)return;const s=t.getVersionNumber()-1,l=Qe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let r=0,a=l.length;r!==a;r++){const c=l[r];if(c>=0)for(let d=0;d!==a;d++){const m=l[d];m>=0&&Qe.isEmpty(i.get(m,c))&&Qe.embedPositionAdjustmentPattern(m-2,c-2,i)}}}}Qe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Qe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Qe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Qe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Qe.VERSION_INFO_POLY=7973,Qe.TYPE_INFO_POLY=1335,Qe.TYPE_INFO_MASK_PATTERN=21522;class vs{constructor(t,i){this.dataBytes=t,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class qt{constructor(){}static calculateMaskPenalty(t){return cn.applyMaskPenaltyRule1(t)+cn.applyMaskPenaltyRule2(t)+cn.applyMaskPenaltyRule3(t)+cn.applyMaskPenaltyRule4(t)}static encode(t,i,s=null){let l=qt.DEFAULT_BYTE_MODE_ENCODING;const r=s!==null&&s.get(Cn.CHARACTER_SET)!==void 0;r&&(l=s.get(Cn.CHARACTER_SET).toString());const a=this.chooseMode(t,l),c=new Ge;if(a===Ze.BYTE&&(r||qt.DEFAULT_BYTE_MODE_ENCODING!==l)){const z=be.getCharacterSetECIByName(l);z!==void 0&&this.appendECI(z,c)}this.appendModeInfo(a,c);const d=new Ge;this.appendBytes(t,a,d,l);let m;if(s!==null&&s.get(Cn.QR_VERSION)!==void 0){const z=Number.parseInt(s.get(Cn.QR_VERSION).toString(),10);m=Ye.getVersionForNumber(z);const F=this.calculateBitsNeeded(a,c,d,m);if(!this.willFit(F,m,i))throw new Vt("Data too big for requested version")}else m=this.recommendVersion(i,a,c,d);const b=new Ge;b.appendBitArray(c);const A=a===Ze.BYTE?d.getSizeInBytes():t.length;this.appendLengthInfo(A,m,a,b),b.appendBitArray(d);const S=m.getECBlocksForLevel(i),_=m.getTotalCodewords()-S.getTotalECCodewords();this.terminateBits(_,b);const M=this.interleaveWithECBytes(b,m.getTotalCodewords(),_,S.getNumBlocks()),B=new zr;B.setECLevel(i),B.setMode(a),B.setVersion(m);const k=m.getDimensionForVersion(),P=new ea(k,k),U=this.chooseMaskPattern(M,i,m,P);return B.setMaskPattern(U),Qe.buildMatrix(M,i,m,U,P),B.setMatrix(P),B}static recommendVersion(t,i,s,l){const r=this.calculateBitsNeeded(i,s,l,Ye.getVersionForNumber(1)),a=this.chooseVersion(r,t),c=this.calculateBitsNeeded(i,s,l,a);return this.chooseVersion(c,t)}static calculateBitsNeeded(t,i,s,l){return i.getSize()+t.getCharacterCountBits(l)+s.getSize()}static getAlphanumericCode(t){return t<qt.ALPHANUMERIC_TABLE.length?qt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,i=null){if(be.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(t))return Ze.KANJI;let s=!1,l=!1;for(let r=0,a=t.length;r<a;++r){const c=t.charAt(r);if(qt.isDigit(c))s=!0;else if(this.getAlphanumericCode(c.charCodeAt(0))!==-1)l=!0;else return Ze.BYTE}return l?Ze.ALPHANUMERIC:s?Ze.NUMERIC:Ze.BYTE}static isOnlyDoubleByteKanji(t){let i;try{i=Pt.encode(t,be.SJIS)}catch{return!1}const s=i.length;if(s%2!==0)return!1;for(let l=0;l<s;l+=2){const r=i[l]&255;if((r<129||r>159)&&(r<224||r>235))return!1}return!0}static chooseMaskPattern(t,i,s,l){let r=Number.MAX_SAFE_INTEGER,a=-1;for(let c=0;c<zr.NUM_MASK_PATTERNS;c++){Qe.buildMatrix(t,i,s,c,l);let d=this.calculateMaskPenalty(l);d<r&&(r=d,a=c)}return a}static chooseVersion(t,i){for(let s=1;s<=40;s++){const l=Ye.getVersionForNumber(s);if(qt.willFit(t,l,i))return l}throw new Vt("Data too big")}static willFit(t,i,s){const l=i.getTotalCodewords(),a=i.getECBlocksForLevel(s).getTotalECCodewords(),c=l-a,d=(t+7)/8;return c>=d}static terminateBits(t,i){const s=t*8;if(i.getSize()>s)throw new Vt("data bits cannot fit in the QR Code"+i.getSize()+" > "+s);for(let a=0;a<4&&i.getSize()<s;++a)i.appendBit(!1);const l=i.getSize()&7;if(l>0)for(let a=l;a<8;a++)i.appendBit(!1);const r=t-i.getSizeInBytes();for(let a=0;a<r;++a)i.appendBits((a&1)===0?236:17,8);if(i.getSize()!==s)throw new Vt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,i,s,l,r,a){if(l>=s)throw new Vt("Block ID too large");const c=t%s,d=s-c,m=Math.floor(t/s),b=m+1,A=Math.floor(i/s),S=A+1,_=m-A,M=b-S;if(_!==M)throw new Vt("EC bytes mismatch");if(s!==d+c)throw new Vt("RS blocks mismatch");if(t!==(A+_)*d+(S+M)*c)throw new Vt("Total bytes mismatch");l<d?(r[0]=A,a[0]=_):(r[0]=S,a[0]=M)}static interleaveWithECBytes(t,i,s,l){if(t.getSizeInBytes()!==s)throw new Vt("Number of bits and data bytes does not match");let r=0,a=0,c=0;const d=new Array;for(let b=0;b<l;++b){const A=new Int32Array(1),S=new Int32Array(1);qt.getNumDataBytesAndNumECBytesForBlockID(i,s,l,b,A,S);const _=A[0],M=new Uint8Array(_);t.toBytes(8*r,M,0,_);const B=qt.generateECBytes(M,S[0]);d.push(new vs(M,B)),a=Math.max(a,_),c=Math.max(c,B.length),r+=A[0]}if(s!==r)throw new Vt("Data bytes does not match offset");const m=new Ge;for(let b=0;b<a;++b)for(const A of d){const S=A.getDataBytes();b<S.length&&m.appendBits(S[b],8)}for(let b=0;b<c;++b)for(const A of d){const S=A.getErrorCorrectionBytes();b<S.length&&m.appendBits(S[b],8)}if(i!==m.getSizeInBytes())throw new Vt("Interleaving error: "+i+" and "+m.getSizeInBytes()+" differ.");return m}static generateECBytes(t,i){const s=t.length,l=new Int32Array(s+i);for(let a=0;a<s;a++)l[a]=t[a]&255;new $i(mt.QR_CODE_FIELD_256).encode(l,i);const r=new Uint8Array(i);for(let a=0;a<i;a++)r[a]=l[s+a];return r}static appendModeInfo(t,i){i.appendBits(t.getBits(),4)}static appendLengthInfo(t,i,s,l){const r=s.getCharacterCountBits(i);if(t>=1<<r)throw new Vt(t+" is bigger than "+((1<<r)-1));l.appendBits(t,r)}static appendBytes(t,i,s,l){switch(i){case Ze.NUMERIC:qt.appendNumericBytes(t,s);break;case Ze.ALPHANUMERIC:qt.appendAlphanumericBytes(t,s);break;case Ze.BYTE:qt.append8BitBytes(t,s,l);break;case Ze.KANJI:qt.appendKanjiBytes(t,s);break;default:throw new Vt("Invalid mode: "+i)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const i=qt.getDigit(t);return i>=0&&i<=9}static appendNumericBytes(t,i){const s=t.length;let l=0;for(;l<s;){const r=qt.getDigit(t.charAt(l));if(l+2<s){const a=qt.getDigit(t.charAt(l+1)),c=qt.getDigit(t.charAt(l+2));i.appendBits(r*100+a*10+c,10),l+=3}else if(l+1<s){const a=qt.getDigit(t.charAt(l+1));i.appendBits(r*10+a,7),l+=2}else i.appendBits(r,4),l++}}static appendAlphanumericBytes(t,i){const s=t.length;let l=0;for(;l<s;){const r=qt.getAlphanumericCode(t.charCodeAt(l));if(r===-1)throw new Vt;if(l+1<s){const a=qt.getAlphanumericCode(t.charCodeAt(l+1));if(a===-1)throw new Vt;i.appendBits(r*45+a,11),l+=2}else i.appendBits(r,6),l++}}static append8BitBytes(t,i,s){let l;try{l=Pt.encode(t,s)}catch(r){throw new Vt(r)}for(let r=0,a=l.length;r!==a;r++){const c=l[r];i.appendBits(c,8)}}static appendKanjiBytes(t,i){let s;try{s=Pt.encode(t,be.SJIS)}catch(r){throw new Vt(r)}const l=s.length;for(let r=0;r<l;r+=2){const a=s[r]&255,c=s[r+1]&255,d=a<<8&4294967295|c;let m=-1;if(d>=33088&&d<=40956?m=d-33088:d>=57408&&d<=60351&&(m=d-49472),m===-1)throw new Vt("Invalid byte sequence");const b=(m>>8)*192+(m&255);i.appendBits(b,13)}}static appendECI(t,i){i.appendBits(Ze.ECI.getBits(),4),i.appendBits(t.getValue(),8)}}qt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),qt.DEFAULT_BYTE_MODE_ENCODING=be.UTF8.getName();class Fr{write(t,i,s,l=null){if(t.length===0)throw new D("Found empty contents");if(i<0||s<0)throw new D("Requested dimensions are too small: "+i+"x"+s);let r=Ut.L,a=Fr.QUIET_ZONE_SIZE;l!==null&&(l.get(Cn.ERROR_CORRECTION)!==void 0&&(r=Ut.fromString(l.get(Cn.ERROR_CORRECTION).toString())),l.get(Cn.MARGIN)!==void 0&&(a=Number.parseInt(l.get(Cn.MARGIN).toString(),10)));const c=qt.encode(t,r,l);return this.renderResult(c,i,s,a)}writeToDom(t,i,s,l,r=null){typeof t=="string"&&(t=document.querySelector(t));const a=this.write(i,s,l,r);t&&t.appendChild(a)}renderResult(t,i,s,l){const r=t.getMatrix();if(r===null)throw new Vn;const a=r.getWidth(),c=r.getHeight(),d=a+l*2,m=c+l*2,b=Math.max(i,d),A=Math.max(s,m),S=Math.min(Math.floor(b/d),Math.floor(A/m)),_=Math.floor((b-a*S)/2),M=Math.floor((A-c*S)/2),B=this.createSVGElement(b,A);for(let k=0,P=M;k<c;k++,P+=S)for(let U=0,z=_;U<a;U++,z+=S)if(r.get(U,k)===1){const F=this.createSvgRectElement(z,P,S,S);B.appendChild(F)}return B}createSVGElement(t,i){const s=document.createElementNS(Fr.SVG_NS,"svg");return s.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width",i.toString()),s}createSvgRectElement(t,i,s,l){const r=document.createElementNS(Fr.SVG_NS,"rect");return r.setAttributeNS(null,"x",t.toString()),r.setAttributeNS(null,"y",i.toString()),r.setAttributeNS(null,"height",s.toString()),r.setAttributeNS(null,"width",l.toString()),r.setAttributeNS(null,"fill","#000000"),r}}Fr.QUIET_ZONE_SIZE=4,Fr.SVG_NS="http://www.w3.org/2000/svg";class yi{encode(t,i,s,l,r){if(t.length===0)throw new D("Found empty contents");if(i!==ve.QR_CODE)throw new D("Can only encode QR_CODE, but got "+i);if(s<0||l<0)throw new D(`Requested dimensions are too small: ${s}x${l}`);let a=Ut.L,c=yi.QUIET_ZONE_SIZE;r!==null&&(r.get(Cn.ERROR_CORRECTION)!==void 0&&(a=Ut.fromString(r.get(Cn.ERROR_CORRECTION).toString())),r.get(Cn.MARGIN)!==void 0&&(c=Number.parseInt(r.get(Cn.MARGIN).toString(),10)));const d=qt.encode(t,a,r);return yi.renderResult(d,s,l,c)}static renderResult(t,i,s,l){const r=t.getMatrix();if(r===null)throw new Vn;const a=r.getWidth(),c=r.getHeight(),d=a+l*2,m=c+l*2,b=Math.max(i,d),A=Math.max(s,m),S=Math.min(Math.floor(b/d),Math.floor(A/m)),_=Math.floor((b-a*S)/2),M=Math.floor((A-c*S)/2),B=new It(b,A);for(let k=0,P=M;k<c;k++,P+=S)for(let U=0,z=_;U<a;U++,z+=S)r.get(U,k)===1&&B.setRegion(z,P,S,S);return B}}yi.QUIET_ZONE_SIZE=4;class Us{encode(t,i,s,l,r){let a;switch(i){case ve.QR_CODE:a=new yi;break;default:throw new D("No encoder available for format "+i)}return a.encode(t,i,s,l,r)}}class Hr extends Ee{constructor(t,i,s,l,r,a,c,d){if(super(a,c),this.yuvData=t,this.dataWidth=i,this.dataHeight=s,this.left=l,this.top=r,l+a>i||r+c>s)throw new D("Crop rectangle does not fit within image data.");d&&this.reverseHorizontal(a,c)}getRow(t,i){if(t<0||t>=this.getHeight())throw new D("Requested row is outside the image: "+t);const s=this.getWidth();(i==null||i.length<s)&&(i=new Uint8ClampedArray(s));const l=(t+this.top)*this.dataWidth+this.left;return ue.arraycopy(this.yuvData,l,i,0,s),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.yuvData;const s=t*i,l=new Uint8ClampedArray(s);let r=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return ue.arraycopy(this.yuvData,r,l,0,s),l;for(let a=0;a<i;a++){const c=a*t;ue.arraycopy(this.yuvData,r,l,c,t),r+=this.dataWidth}return l}isCropSupported(){return!0}crop(t,i,s,l){return new Hr(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+i,s,l,!1)}renderThumbnail(){const t=this.getWidth()/Hr.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/Hr.THUMBNAIL_SCALE_FACTOR,s=new Int32Array(t*i),l=this.yuvData;let r=this.top*this.dataWidth+this.left;for(let a=0;a<i;a++){const c=a*t;for(let d=0;d<t;d++){const m=l[r+d*Hr.THUMBNAIL_SCALE_FACTOR]&255;s[c+d]=4278190080|m*65793}r+=this.dataWidth*Hr.THUMBNAIL_SCALE_FACTOR}return s}getThumbnailWidth(){return this.getWidth()/Hr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Hr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,i){const s=this.yuvData;for(let l=0,r=this.top*this.dataWidth+this.left;l<i;l++,r+=this.dataWidth){const a=r+t/2;for(let c=r,d=r+t-1;c<a;c++,d--){const m=s[c];s[c]=s[d],s[d]=m}}}invert(){return new Ke(this)}}Hr.THUMBNAIL_SCALE_FACTOR=2;class ji extends Ee{constructor(t,i,s,l,r,a,c){if(super(i,s),this.dataWidth=l,this.dataHeight=r,this.left=a,this.top=c,t.BYTES_PER_ELEMENT===4){const d=i*s,m=new Uint8ClampedArray(d);for(let b=0;b<d;b++){const A=t[b],S=A>>16&255,_=A>>7&510,M=A&255;m[b]=(S+_+M)/4&255}this.luminances=m}else this.luminances=t;if(l===void 0&&(this.dataWidth=i),r===void 0&&(this.dataHeight=s),a===void 0&&(this.left=0),c===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+s>this.dataHeight)throw new D("Crop rectangle does not fit within image data.")}getRow(t,i){if(t<0||t>=this.getHeight())throw new D("Requested row is outside the image: "+t);const s=this.getWidth();(i==null||i.length<s)&&(i=new Uint8ClampedArray(s));const l=(t+this.top)*this.dataWidth+this.left;return ue.arraycopy(this.luminances,l,i,0,s),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.luminances;const s=t*i,l=new Uint8ClampedArray(s);let r=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return ue.arraycopy(this.luminances,r,l,0,s),l;for(let a=0;a<i;a++){const c=a*t;ue.arraycopy(this.luminances,r,l,c,t),r+=this.dataWidth}return l}isCropSupported(){return!0}crop(t,i,s,l){return new ji(this.luminances,s,l,this.dataWidth,this.dataHeight,this.left+t,this.top+i)}invert(){return new Ke(this)}}class ei extends be{static forName(t){return this.getCharacterSetECIByName(t)}}class Cs{}Cs.ISO_8859_1=be.ISO8859_1;class ya{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class ba{static singletonList(t){return[t]}static min(t,i){return t.sort(i)[0]}}class zs{constructor(t){this.previous=t}getPrevious(){return this.previous}}class bi extends zs{constructor(t,i,s){super(t),this.value=i,this.bitCount=s}appendTo(t,i){t.appendBits(this.value,this.bitCount)}add(t,i){return new bi(this,t,i)}addBinaryShift(t,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new bi(this,t,i)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+Oe.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class Va extends bi{constructor(t,i,s){super(t,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=s}appendTo(t,i){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):s===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(i[this.binaryShiftStart+s],8)}addBinaryShift(t,i){return new Va(this,t,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Ui(O,t,i){return new Va(O,t,i)}function ta(O,t,i){return new bi(O,t,i)}const mo=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ti=0,zi=1,ar=2,Fi=3,sr=4,xo=new bi(null,0,0),na=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function va(O){for(let t of O)Pe.fill(t,-1);return O[ti][sr]=0,O[zi][sr]=0,O[zi][ti]=28,O[Fi][sr]=0,O[ar][sr]=0,O[ar][ti]=15,O}const Mr=va(Pe.createInt32Array(6,6));class Lt{constructor(t,i,s,l){this.token=t,this.mode=i,this.binaryShiftByteCount=s,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,i){let s=this.bitCount,l=this.token;if(t!==this.mode){let a=na[this.mode][t];l=ta(l,a&65535,a>>16),s+=a>>16}let r=t===ar?4:5;return l=ta(l,i,r),new Lt(l,t,0,s+r)}shiftAndAppend(t,i){let s=this.token,l=this.mode===ar?4:5;return s=ta(s,Mr[this.mode][t],l),s=ta(s,i,5),new Lt(s,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(t){let i=this.token,s=this.mode,l=this.bitCount;if(this.mode===sr||this.mode===ar){let c=na[s][ti];i=ta(i,c&65535,c>>16),l+=c>>16,s=ti}let r=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,a=new Lt(i,s,this.binaryShiftByteCount+1,l+r);return a.binaryShiftByteCount===2078&&(a=a.endBinaryShift(t+1)),a}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=Ui(i,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Lt(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let i=this.bitCount+(na[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?i+=Lt.calculateBinaryShiftCost(t)-Lt.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(i+=10),i<=t.bitCount}toBitArray(t){let i=[];for(let l=this.endBinaryShift(t.length).token;l!==null;l=l.getPrevious())i.unshift(l);let s=new Ge;for(const l of i)l.appendTo(s,t);return s}toString(){return De.format("%s bits=%d bytes=%d",mo[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Lt.INITIAL_STATE=new Lt(xo,ti,0,0);function ra(O){const t=De.getCharCode(" "),i=De.getCharCode("."),s=De.getCharCode(",");O[ti][t]=1;const l=De.getCharCode("Z"),r=De.getCharCode("A");for(let S=r;S<=l;S++)O[ti][S]=S-r+2;O[zi][t]=1;const a=De.getCharCode("z"),c=De.getCharCode("a");for(let S=c;S<=a;S++)O[zi][S]=S-c+2;O[ar][t]=1;const d=De.getCharCode("9"),m=De.getCharCode("0");for(let S=m;S<=d;S++)O[ar][S]=S-m+2;O[ar][s]=12,O[ar][i]=13;const b=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let S=0;S<b.length;S++)O[Fi][De.getCharCode(b[S])]=S;const A=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let S=0;S<A.length;S++)De.getCharCode(A[S])>0&&(O[sr][De.getCharCode(A[S])]=S);return O}const tr=ra(Pe.createInt32Array(5,256));class ia{constructor(t){this.text=t}encode(){const t=De.getCharCode(" "),i=De.getCharCode(`
`);let s=ba.singletonList(Lt.INITIAL_STATE);for(let r=0;r<this.text.length;r++){let a,c=r+1<this.text.length?this.text[r+1]:0;switch(this.text[r]){case De.getCharCode("\r"):a=c===i?2:0;break;case De.getCharCode("."):a=c===t?3:0;break;case De.getCharCode(","):a=c===t?4:0;break;case De.getCharCode(":"):a=c===t?5:0;break;default:a=0}a>0?(s=ia.updateStateListForPair(s,r,a),r++):s=this.updateStateListForChar(s,r)}return ba.min(s,(r,a)=>r.getBitCount()-a.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,i){const s=[];for(let l of t)this.updateStateForChar(l,i,s);return ia.simplifyStates(s)}updateStateForChar(t,i,s){let l=this.text[i]&255,r=tr[t.getMode()][l]>0,a=null;for(let c=0;c<=sr;c++){let d=tr[c][l];if(d>0){if(a==null&&(a=t.endBinaryShift(i)),!r||c===t.getMode()||c===ar){const m=a.latchAndAppend(c,d);s.push(m)}if(!r&&Mr[t.getMode()][c]>=0){const m=a.shiftAndAppend(c,d);s.push(m)}}}if(t.getBinaryShiftByteCount()>0||tr[t.getMode()][l]===0){let c=t.addBinaryShiftChar(i);s.push(c)}}static updateStateListForPair(t,i,s){const l=[];for(let r of t)this.updateStateForPair(r,i,s,l);return this.simplifyStates(l)}static updateStateForPair(t,i,s,l){let r=t.endBinaryShift(i);if(l.push(r.latchAndAppend(sr,s)),t.getMode()!==sr&&l.push(r.shiftAndAppend(sr,s)),s===3||s===4){let a=r.latchAndAppend(ar,16-s).latchAndAppend(ar,1);l.push(a)}if(t.getBinaryShiftByteCount()>0){let a=t.addBinaryShiftChar(i).addBinaryShiftChar(i+1);l.push(a)}}static simplifyStates(t){let i=[];for(const s of t){let l=!0;for(const r of i){if(r.isBetterThanOrEqualTo(s)){l=!1;break}s.isBetterThanOrEqualTo(r)&&(i=i.filter(a=>a!==r))}l&&i.push(s)}return i}}class Ct{constructor(){}static encodeBytes(t){return Ct.encode(t,Ct.DEFAULT_EC_PERCENT,Ct.DEFAULT_AZTEC_LAYERS)}static encode(t,i,s){let l=new ia(t).encode(),r=Oe.truncDivision(l.getSize()*i,100)+11,a=l.getSize()+r,c,d,m,b,A;if(s!==Ct.DEFAULT_AZTEC_LAYERS){if(c=s<0,d=Math.abs(s),d>(c?Ct.MAX_NB_BITS_COMPACT:Ct.MAX_NB_BITS))throw new D(De.format("Illegal value %s for layers",s));m=Ct.totalBitsInLayer(d,c),b=Ct.WORD_SIZE[d];let F=m-m%b;if(A=Ct.stuffBits(l,b),A.getSize()+r>F)throw new D("Data to large for user specified layer");if(c&&A.getSize()>b*64)throw new D("Data to large for user specified layer")}else{b=0,A=null;for(let F=0;;F++){if(F>Ct.MAX_NB_BITS)throw new D("Data too large for an Aztec code");if(c=F<=3,d=c?F+1:F,m=Ct.totalBitsInLayer(d,c),a>m)continue;(A==null||b!==Ct.WORD_SIZE[d])&&(b=Ct.WORD_SIZE[d],A=Ct.stuffBits(l,b));let V=m-m%b;if(!(c&&A.getSize()>b*64)&&A.getSize()+r<=V)break}}let S=Ct.generateCheckWords(A,m,b),_=A.getSize()/b,M=Ct.generateModeMessage(c,d,_),B=(c?11:14)+d*4,k=new Int32Array(B),P;if(c){P=B;for(let F=0;F<k.length;F++)k[F]=F}else{P=B+1+2*Oe.truncDivision(Oe.truncDivision(B,2)-1,15);let F=Oe.truncDivision(B,2),V=Oe.truncDivision(P,2);for(let K=0;K<F;K++){let $=K+Oe.truncDivision(K,15);k[F-K-1]=V-$-1,k[F+K]=V+$+1}}let U=new It(P);for(let F=0,V=0;F<d;F++){let K=(d-F)*4+(c?9:12);for(let $=0;$<K;$++){let ne=$*2;for(let le=0;le<2;le++)S.get(V+ne+le)&&U.set(k[F*2+le],k[F*2+$]),S.get(V+K*2+ne+le)&&U.set(k[F*2+$],k[B-1-F*2-le]),S.get(V+K*4+ne+le)&&U.set(k[B-1-F*2-le],k[B-1-F*2-$]),S.get(V+K*6+ne+le)&&U.set(k[B-1-F*2-$],k[F*2+le])}V+=K*8}if(Ct.drawModeMessage(U,c,P,M),c)Ct.drawBullsEye(U,Oe.truncDivision(P,2),5);else{Ct.drawBullsEye(U,Oe.truncDivision(P,2),7);for(let F=0,V=0;F<Oe.truncDivision(B,2)-1;F+=15,V+=16)for(let K=Oe.truncDivision(P,2)&1;K<P;K+=2)U.set(Oe.truncDivision(P,2)-V,K),U.set(Oe.truncDivision(P,2)+V,K),U.set(K,Oe.truncDivision(P,2)-V),U.set(K,Oe.truncDivision(P,2)+V)}let z=new ya;return z.setCompact(c),z.setSize(P),z.setLayers(d),z.setCodeWords(_),z.setMatrix(U),z}static drawBullsEye(t,i,s){for(let l=0;l<s;l+=2)for(let r=i-l;r<=i+l;r++)t.set(r,i-l),t.set(r,i+l),t.set(i-l,r),t.set(i+l,r);t.set(i-s,i-s),t.set(i-s+1,i-s),t.set(i-s,i-s+1),t.set(i+s,i-s),t.set(i+s,i-s+1),t.set(i+s,i+s-1)}static generateModeMessage(t,i,s){let l=new Ge;return t?(l.appendBits(i-1,2),l.appendBits(s-1,6),l=Ct.generateCheckWords(l,28,4)):(l.appendBits(i-1,5),l.appendBits(s-1,11),l=Ct.generateCheckWords(l,40,4)),l}static drawModeMessage(t,i,s,l){let r=Oe.truncDivision(s,2);if(i)for(let a=0;a<7;a++){let c=r-3+a;l.get(a)&&t.set(c,r-5),l.get(a+7)&&t.set(r+5,c),l.get(20-a)&&t.set(c,r+5),l.get(27-a)&&t.set(r-5,c)}else for(let a=0;a<10;a++){let c=r-5+a+Oe.truncDivision(a,5);l.get(a)&&t.set(c,r-7),l.get(a+10)&&t.set(r+7,c),l.get(29-a)&&t.set(c,r+7),l.get(39-a)&&t.set(r-7,c)}}static generateCheckWords(t,i,s){let l=t.getSize()/s,r=new $i(Ct.getGF(s)),a=Oe.truncDivision(i,s),c=Ct.bitsToWords(t,s,a);r.encode(c,a-l);let d=i%s,m=new Ge;m.appendBits(0,d);for(const b of Array.from(c))m.appendBits(b,s);return m}static bitsToWords(t,i,s){let l=new Int32Array(s),r,a;for(r=0,a=t.getSize()/i;r<a;r++){let c=0;for(let d=0;d<i;d++)c|=t.get(r*i+d)?1<<i-d-1:0;l[r]=c}return l}static getGF(t){switch(t){case 4:return mt.AZTEC_PARAM;case 6:return mt.AZTEC_DATA_6;case 8:return mt.AZTEC_DATA_8;case 10:return mt.AZTEC_DATA_10;case 12:return mt.AZTEC_DATA_12;default:throw new D("Unsupported word size "+t)}}static stuffBits(t,i){let s=new Ge,l=t.getSize(),r=(1<<i)-2;for(let a=0;a<l;a+=i){let c=0;for(let d=0;d<i;d++)(a+d>=l||t.get(a+d))&&(c|=1<<i-1-d);(c&r)===r?(s.appendBits(c&r,i),a--):(c&r)===0?(s.appendBits(c|1,i),a--):s.appendBits(c,i)}return s}static totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}Ct.DEFAULT_EC_PERCENT=33,Ct.DEFAULT_AZTEC_LAYERS=0,Ct.MAX_NB_BITS=32,Ct.MAX_NB_BITS_COMPACT=4,Ct.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ca{encode(t,i,s,l){return this.encodeWithHints(t,i,s,l,null)}encodeWithHints(t,i,s,l,r){let a=Cs.ISO_8859_1,c=Ct.DEFAULT_EC_PERCENT,d=Ct.DEFAULT_AZTEC_LAYERS;return r!=null&&(r.has(Cn.CHARACTER_SET)&&(a=ei.forName(r.get(Cn.CHARACTER_SET).toString())),r.has(Cn.ERROR_CORRECTION)&&(c=Oe.parseInt(r.get(Cn.ERROR_CORRECTION).toString())),r.has(Cn.AZTEC_LAYERS)&&(d=Oe.parseInt(r.get(Cn.AZTEC_LAYERS).toString()))),Ca.encodeLayers(t,i,s,l,a,c,d)}static encodeLayers(t,i,s,l,r,a,c){if(i!==ve.AZTEC)throw new D("Can only encode AZTEC, but got "+i);let d=Ct.encode(De.getBytes(t,r),a,c);return Ca.renderResult(d,s,l)}static renderResult(t,i,s){let l=t.getMatrix();if(l==null)throw new Vn;let r=l.getWidth(),a=l.getHeight(),c=Math.max(i,r),d=Math.max(s,a),m=Math.min(c/r,d/a),b=(c-r*m)/2,A=(d-a*m)/2,S=new It(c,d);for(let _=0,M=A;_<a;_++,M+=m)for(let B=0,k=b;B<r;B++,k+=m)l.get(B,_)&&S.setRegion(k,M,m,m);return S}}h.AbstractExpandedDecoder=vr,h.ArgumentException=I,h.ArithmeticException=Nt,h.AztecCode=ya,h.AztecCodeReader=Ri,h.AztecCodeWriter=Ca,h.AztecDecoder=Zt,h.AztecDetector=La,h.AztecDetectorResult=_i,h.AztecEncoder=Ct,h.AztecHighLevelEncoder=ia,h.AztecPoint=jt,h.BarcodeFormat=ve,h.Binarizer=ce,h.BinaryBitmap=X,h.BitArray=Ge,h.BitMatrix=It,h.BitSource=er,h.BrowserAztecCodeReader=Oi,h.BrowserBarcodeReader=gi,h.BrowserCodeReader=_e,h.BrowserDatamatrixCodeReader=xs,h.BrowserMultiFormatReader=bs,h.BrowserPDF417Reader=Kn,h.BrowserQRCodeReader=xa,h.BrowserQRCodeSvgWriter=Fr,h.CharacterSetECI=be,h.ChecksumException=te,h.Code128Reader=Ne,h.Code39Reader=Mt,h.DataMatrixDecodedBitStreamParser=kt,h.DataMatrixReader=Xn,h.DecodeHintType=Ve,h.DecoderResult=Fe,h.DefaultGridSampler=bn,h.DetectorResult=da,h.EAN13Reader=yr,h.EncodeHintType=Cn,h.Exception=E,h.FormatException=fe,h.GenericGF=mt,h.GenericGFPoly=yn,h.GlobalHistogramBinarizer=ie,h.GridSampler=Ni,h.GridSamplerInstance=Ln,h.HTMLCanvasElementLuminanceSource=Y,h.HybridBinarizer=Q,h.ITFReader=Te,h.IllegalArgumentException=D,h.IllegalStateException=Vn,h.InvertedLuminanceSource=Ke,h.LuminanceSource=Ee,h.MathUtils=wt,h.MultiFormatOneDReader=jr,h.MultiFormatReader=Ga,h.MultiFormatWriter=Us,h.NotFoundException=re,h.OneDReader=Wt,h.PDF417DecodedBitStreamParser=oe,h.PDF417DecoderErrorCorrection=Li,h.PDF417Reader=Tn,h.PDF417ResultMetadata=Wi,h.PerspectiveTransform=gn,h.PlanarYUVLuminanceSource=Hr,h.QRCodeByteMatrix=ea,h.QRCodeDataMask=Un,h.QRCodeDecodedBitStreamParser=At,h.QRCodeDecoderErrorCorrectionLevel=Ut,h.QRCodeDecoderFormatInformation=In,h.QRCodeEncoder=qt,h.QRCodeEncoderQRCode=zr,h.QRCodeMaskUtil=cn,h.QRCodeMatrixUtil=Qe,h.QRCodeMode=Ze,h.QRCodeReader=hr,h.QRCodeVersion=Ye,h.QRCodeWriter=yi,h.RGBLuminanceSource=ji,h.RSS14Reader=Dt,h.RSSExpandedReader=ge,h.ReaderException=Pi,h.ReedSolomonDecoder=ha,h.ReedSolomonEncoder=$i,h.ReedSolomonException=hi,h.Result=ze,h.ResultMetadataType=ht,h.ResultPoint=ke,h.StringUtils=De,h.UnsupportedOperationException=Nn,h.VideoInputDevice=me,h.WhiteRectangleDetector=Br,h.WriterException=Vt,h.ZXingArrays=Pe,h.ZXingCharset=ei,h.ZXingInteger=Oe,h.ZXingStandardCharsets=Cs,h.ZXingStringBuilder=tt,h.ZXingStringEncoding=Pt,h.ZXingSystem=ue,h.createAbstractExpandedDecoder=Qr,Object.defineProperty(h,"__esModule",{value:!0})})}(sl,sl.exports)),sl.exports}var mn=lx();const cx=po(mn),ux=kd({__proto__:null,default:cx},[mn]);var Ad=function(){function p(f,h,g){if(this.formatMap=new Map([[He.QR_CODE,mn.BarcodeFormat.QR_CODE],[He.AZTEC,mn.BarcodeFormat.AZTEC],[He.CODABAR,mn.BarcodeFormat.CODABAR],[He.CODE_39,mn.BarcodeFormat.CODE_39],[He.CODE_93,mn.BarcodeFormat.CODE_93],[He.CODE_128,mn.BarcodeFormat.CODE_128],[He.DATA_MATRIX,mn.BarcodeFormat.DATA_MATRIX],[He.MAXICODE,mn.BarcodeFormat.MAXICODE],[He.ITF,mn.BarcodeFormat.ITF],[He.EAN_13,mn.BarcodeFormat.EAN_13],[He.EAN_8,mn.BarcodeFormat.EAN_8],[He.PDF_417,mn.BarcodeFormat.PDF_417],[He.RSS_14,mn.BarcodeFormat.RSS_14],[He.RSS_EXPANDED,mn.BarcodeFormat.RSS_EXPANDED],[He.UPC_A,mn.BarcodeFormat.UPC_A],[He.UPC_E,mn.BarcodeFormat.UPC_E],[He.UPC_EAN_EXTENSION,mn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!ux)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=h,this.logger=g;var y=this.createZXingFormats(f),v=new Map;v.set(mn.DecodeHintType.POSSIBLE_FORMATS,y),v.set(mn.DecodeHintType.TRY_HARDER,!1),this.hints=v}return p.prototype.decodeAsync=function(f){var h=this;return new Promise(function(g,y){try{g(h.decode(f))}catch(v){y(v)}})},p.prototype.decode=function(f){var h=new mn.MultiFormatReader(this.verbose,this.hints),g=new mn.HTMLCanvasElementLuminanceSource(f),y=new mn.BinaryBitmap(new mn.HybridBinarizer(g)),v=h.decode(y);return{text:v.text,format:Mg.create(this.toHtml5QrcodeSupportedFormats(v.format)),debugData:this.createDebugData()}},p.prototype.createReverseFormatMap=function(){var f=new Map;return this.formatMap.forEach(function(h,g,y){f.set(h,g)}),f},p.prototype.toHtml5QrcodeSupportedFormats=function(f){if(!this.reverseFormatMap.has(f))throw"reverseFormatMap doesn't have ".concat(f);return this.reverseFormatMap.get(f)},p.prototype.createZXingFormats=function(f){for(var h=[],g=0,y=f;g<y.length;g++){var v=y[g];this.formatMap.has(v)?h.push(this.formatMap.get(v)):this.logger.logError("".concat(v," is not supported by")+"ZXingHtml5QrcodeShim")}return h},p.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},p}(),fx=function(p,f,h,g){function y(v){return v instanceof h?v:new h(function(w){w(v)})}return new(h||(h=Promise))(function(v,w){function T(I){try{E(g.next(I))}catch(D){w(D)}}function N(I){try{E(g.throw(I))}catch(D){w(D)}}function E(I){I.done?v(I.value):y(I.value).then(T,N)}E((g=g.apply(p,f||[])).next())})},hx=function(p,f){var h={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},g,y,v,w;return w={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function T(E){return function(I){return N([E,I])}}function N(E){if(g)throw new TypeError("Generator is already executing.");for(;w&&(w=0,E[0]&&(h=0)),h;)try{if(g=1,y&&(v=E[0]&2?y.return:E[0]?y.throw||((v=y.return)&&v.call(y),0):y.next)&&!(v=v.call(y,E[1])).done)return v;switch(y=0,v&&(E=[E[0]&2,v.value]),E[0]){case 0:case 1:v=E;break;case 4:return h.label++,{value:E[1],done:!1};case 5:h.label++,y=E[1],E=[0];continue;case 7:E=h.ops.pop(),h.trys.pop();continue;default:if(v=h.trys,!(v=v.length>0&&v[v.length-1])&&(E[0]===6||E[0]===2)){h=0;continue}if(E[0]===3&&(!v||E[1]>v[0]&&E[1]<v[3])){h.label=E[1];break}if(E[0]===6&&h.label<v[1]){h.label=v[1],v=E;break}if(v&&h.label<v[2]){h.label=v[2],h.ops.push(E);break}v[2]&&h.ops.pop(),h.trys.pop();continue}E=f.call(p,h)}catch(I){E=[6,I],y=0}finally{g=v=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Sd=function(){function p(f,h,g){if(this.formatMap=new Map([[He.QR_CODE,"qr_code"],[He.AZTEC,"aztec"],[He.CODABAR,"codabar"],[He.CODE_39,"code_39"],[He.CODE_93,"code_93"],[He.CODE_128,"code_128"],[He.DATA_MATRIX,"data_matrix"],[He.ITF,"itf"],[He.EAN_13,"ean_13"],[He.EAN_8,"ean_8"],[He.PDF_417,"pdf417"],[He.UPC_A,"upc_a"],[He.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!p.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=h,this.logger=g;var y=this.createBarcodeDetectorFormats(f);if(this.detector=new BarcodeDetector(y),!this.detector)throw"BarcodeDetector detector not supported"}return p.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var f=new BarcodeDetector({formats:["qr_code"]});return typeof f<"u"},p.prototype.decodeAsync=function(f){return fx(this,void 0,void 0,function(){var h,g;return hx(this,function(y){switch(y.label){case 0:return[4,this.detector.detect(f)];case 1:if(h=y.sent(),!h||h.length===0)throw"No barcode or QR code detected.";return g=this.selectLargestBarcode(h),[2,{text:g.rawValue,format:Mg.create(this.toHtml5QrcodeSupportedFormats(g.format)),debugData:this.createDebugData()}]}})})},p.prototype.selectLargestBarcode=function(f){for(var h=null,g=0,y=0,v=f;y<v.length;y++){var w=v[y],T=w.boundingBox.width*w.boundingBox.height;T>g&&(g=T,h=w)}if(!h)throw"No largest barcode found";return h},p.prototype.createBarcodeDetectorFormats=function(f){for(var h=[],g=0,y=f;g<y.length;g++){var v=y[g];this.formatMap.has(v)?h.push(this.formatMap.get(v)):this.logger.warn("".concat(v," is not supported by")+"BarcodeDetectorDelegate")}return{formats:h}},p.prototype.toHtml5QrcodeSupportedFormats=function(f){if(!this.reverseFormatMap.has(f))throw"reverseFormatMap doesn't have ".concat(f);return this.reverseFormatMap.get(f)},p.prototype.createReverseFormatMap=function(){var f=new Map;return this.formatMap.forEach(function(h,g,y){f.set(h,g)}),f},p.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},p}(),wd=function(p,f,h,g){function y(v){return v instanceof h?v:new h(function(w){w(v)})}return new(h||(h=Promise))(function(v,w){function T(I){try{E(g.next(I))}catch(D){w(D)}}function N(I){try{E(g.throw(I))}catch(D){w(D)}}function E(I){I.done?v(I.value):y(I.value).then(T,N)}E((g=g.apply(p,f||[])).next())})},Td=function(p,f){var h={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},g,y,v,w;return w={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function T(E){return function(I){return N([E,I])}}function N(E){if(g)throw new TypeError("Generator is already executing.");for(;w&&(w=0,E[0]&&(h=0)),h;)try{if(g=1,y&&(v=E[0]&2?y.return:E[0]?y.throw||((v=y.return)&&v.call(y),0):y.next)&&!(v=v.call(y,E[1])).done)return v;switch(y=0,v&&(E=[E[0]&2,v.value]),E[0]){case 0:case 1:v=E;break;case 4:return h.label++,{value:E[1],done:!1};case 5:h.label++,y=E[1],E=[0];continue;case 7:E=h.ops.pop(),h.trys.pop();continue;default:if(v=h.trys,!(v=v.length>0&&v[v.length-1])&&(E[0]===6||E[0]===2)){h=0;continue}if(E[0]===3&&(!v||E[1]>v[0]&&E[1]<v[3])){h.label=E[1];break}if(E[0]===6&&h.label<v[1]){h.label=v[1],v=E;break}if(v&&h.label<v[2]){h.label=v[2],h.ops.push(E);break}v[2]&&h.ops.pop(),h.trys.pop();continue}E=f.call(p,h)}catch(I){E=[6,I],y=0}finally{g=v=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},dx=function(){function p(f,h,g,y){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=g,h&&Sd.isSupported()?(this.primaryDecoder=new Sd(f,g,y),this.secondaryDecoder=new Ad(f,g,y)):this.primaryDecoder=new Ad(f,g,y)}return p.prototype.decodeAsync=function(f){return wd(this,void 0,void 0,function(){var h;return Td(this,function(g){switch(g.label){case 0:h=performance.now(),g.label=1;case 1:return g.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(f)];case 2:return[2,g.sent()];case 3:return this.possiblyLogPerformance(h),[7];case 4:return[2]}})})},p.prototype.decodeRobustlyAsync=function(f){return wd(this,void 0,void 0,function(){var h,g;return Td(this,function(y){switch(y.label){case 0:h=performance.now(),y.label=1;case 1:return y.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(f)];case 2:return[2,y.sent()];case 3:if(g=y.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(f)];throw g;case 4:return this.possiblyLogPerformance(h),[7];case 5:return[2]}})})},p.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},p.prototype.possiblyLogPerformance=function(f){if(this.verbose){var h=performance.now()-f;this.executionResults.push(h),this.executions++,this.possiblyFlushPerformanceReport()}},p.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var f=0,h=0,g=this.executionResults;h<g.length;h++){var y=g[h];f+=y}var v=f/this.executionResults.length;console.log("".concat(v," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},p}(),zf=function(){var p=function(f,h){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&(g[v]=y[v])},p(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");p(f,h);function g(){this.constructor=f}f.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)}}(),xc=function(p,f,h,g){function y(v){return v instanceof h?v:new h(function(w){w(v)})}return new(h||(h=Promise))(function(v,w){function T(I){try{E(g.next(I))}catch(D){w(D)}}function N(I){try{E(g.throw(I))}catch(D){w(D)}}function E(I){I.done?v(I.value):y(I.value).then(T,N)}E((g=g.apply(p,f||[])).next())})},yc=function(p,f){var h={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},g,y,v,w;return w={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function T(E){return function(I){return N([E,I])}}function N(E){if(g)throw new TypeError("Generator is already executing.");for(;w&&(w=0,E[0]&&(h=0)),h;)try{if(g=1,y&&(v=E[0]&2?y.return:E[0]?y.throw||((v=y.return)&&v.call(y),0):y.next)&&!(v=v.call(y,E[1])).done)return v;switch(y=0,v&&(E=[E[0]&2,v.value]),E[0]){case 0:case 1:v=E;break;case 4:return h.label++,{value:E[1],done:!1};case 5:h.label++,y=E[1],E=[0];continue;case 7:E=h.ops.pop(),h.trys.pop();continue;default:if(v=h.trys,!(v=v.length>0&&v[v.length-1])&&(E[0]===6||E[0]===2)){h=0;continue}if(E[0]===3&&(!v||E[1]>v[0]&&E[1]<v[3])){h.label=E[1];break}if(E[0]===6&&h.label<v[1]){h.label=v[1],v=E;break}if(v&&h.label<v[2]){h.label=v[2],h.ops.push(E);break}v[2]&&h.ops.pop(),h.trys.pop();continue}E=f.call(p,h)}catch(I){E=[6,I],y=0}finally{g=v=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Lg=function(){function p(f,h){this.name=f,this.track=h}return p.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},p.prototype.apply=function(f){var h={};h[this.name]=f;var g={advanced:[h]};return this.track.applyConstraints(g)},p.prototype.value=function(){var f=this.track.getSettings();if(this.name in f){var h=f[this.name];return h}return null},p}(),gx=function(p){zf(f,p);function f(h,g){return p.call(this,h,g)||this}return f.prototype.min=function(){return this.getCapabilities().min},f.prototype.max=function(){return this.getCapabilities().max},f.prototype.step=function(){return this.getCapabilities().step},f.prototype.apply=function(h){var g={};g[this.name]=h;var y={advanced:[g]};return this.track.applyConstraints(y)},f.prototype.getCapabilities=function(){this.failIfNotSupported();var h=this.track.getCapabilities(),g=h[this.name];return{min:g.min,max:g.max,step:g.step}},f.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},f}(Lg),px=function(p){zf(f,p);function f(h){return p.call(this,"zoom",h)||this}return f}(gx),mx=function(p){zf(f,p);function f(h){return p.call(this,"torch",h)||this}return f}(Lg),xx=function(){function p(f){this.track=f}return p.prototype.zoomFeature=function(){return new px(this.track)},p.prototype.torchFeature=function(){return new mx(this.track)},p}(),yx=function(){function p(f,h,g){this.isClosed=!1,this.parentElement=f,this.mediaStream=h,this.callbacks=g,this.surface=this.createVideoElement(this.parentElement.clientWidth),f.append(this.surface)}return p.prototype.createVideoElement=function(f){var h=document.createElement("video");return h.style.width="".concat(f,"px"),h.style.display="block",h.muted=!0,h.setAttribute("muted","true"),h.playsInline=!0,h},p.prototype.setupSurface=function(){var f=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var h=function(){var g=f.surface.clientWidth,y=f.surface.clientHeight;f.callbacks.onRenderSurfaceReady(g,y),f.surface.removeEventListener("playing",h)};this.surface.addEventListener("playing",h),this.surface.srcObject=this.mediaStream,this.surface.play()},p.create=function(f,h,g,y){return xc(this,void 0,void 0,function(){var v,w;return yc(this,function(T){switch(T.label){case 0:return v=new p(f,h,y),g.aspectRatio?(w={aspectRatio:g.aspectRatio},[4,v.getFirstTrackOrFail().applyConstraints(w)]):[3,2];case 1:T.sent(),T.label=2;case 2:return v.setupSurface(),[2,v]}})})},p.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},p.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},p.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},p.prototype.resume=function(f){this.failIfClosed();var h=this,g=function(){setTimeout(f,200),h.surface.removeEventListener("playing",g)};this.surface.addEventListener("playing",g),this.surface.play()},p.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},p.prototype.getSurface=function(){return this.failIfClosed(),this.surface},p.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},p.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},p.prototype.applyVideoConstraints=function(f){return xc(this,void 0,void 0,function(){return yc(this,function(h){if("aspectRatio"in f)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(f)]})})},p.prototype.close=function(){if(this.isClosed)return Promise.resolve();var f=this;return new Promise(function(h,g){var y=f.mediaStream.getVideoTracks(),v=y.length,w=0;f.mediaStream.getVideoTracks().forEach(function(T){f.mediaStream.removeTrack(T),T.stop(),++w,w>=v&&(f.isClosed=!0,f.parentElement.removeChild(f.surface),h())})})},p.prototype.getCapabilities=function(){return new xx(this.getFirstTrackOrFail())},p}(),bx=function(){function p(f){this.mediaStream=f}return p.prototype.render=function(f,h,g){return xc(this,void 0,void 0,function(){return yc(this,function(y){return[2,yx.create(f,this.mediaStream,h,g)]})})},p.create=function(f){return xc(this,void 0,void 0,function(){var h,g;return yc(this,function(y){switch(y.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return h={audio:!1,video:f},[4,navigator.mediaDevices.getUserMedia(h)];case 1:return g=y.sent(),[2,new p(g)]}})})},p}(),_d=function(p,f,h,g){function y(v){return v instanceof h?v:new h(function(w){w(v)})}return new(h||(h=Promise))(function(v,w){function T(I){try{E(g.next(I))}catch(D){w(D)}}function N(I){try{E(g.throw(I))}catch(D){w(D)}}function E(I){I.done?v(I.value):y(I.value).then(T,N)}E((g=g.apply(p,f||[])).next())})},Nd=function(p,f){var h={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},g,y,v,w;return w={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function T(E){return function(I){return N([E,I])}}function N(E){if(g)throw new TypeError("Generator is already executing.");for(;w&&(w=0,E[0]&&(h=0)),h;)try{if(g=1,y&&(v=E[0]&2?y.return:E[0]?y.throw||((v=y.return)&&v.call(y),0):y.next)&&!(v=v.call(y,E[1])).done)return v;switch(y=0,v&&(E=[E[0]&2,v.value]),E[0]){case 0:case 1:v=E;break;case 4:return h.label++,{value:E[1],done:!1};case 5:h.label++,y=E[1],E=[0];continue;case 7:E=h.ops.pop(),h.trys.pop();continue;default:if(v=h.trys,!(v=v.length>0&&v[v.length-1])&&(E[0]===6||E[0]===2)){h=0;continue}if(E[0]===3&&(!v||E[1]>v[0]&&E[1]<v[3])){h.label=E[1];break}if(E[0]===6&&h.label<v[1]){h.label=v[1],v=E;break}if(v&&h.label<v[2]){h.label=v[2],h.ops.push(E);break}v[2]&&h.ops.pop(),h.trys.pop();continue}E=f.call(p,h)}catch(I){E=[6,I],y=0}finally{g=v=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},vx=function(){function p(){}return p.failIfNotSupported=function(){return _d(this,void 0,void 0,function(){return Nd(this,function(f){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new p]})})},p.prototype.create=function(f){return _d(this,void 0,void 0,function(){return Nd(this,function(h){return[2,bx.create(f)]})})},p}(),Cx=function(p,f,h,g){function y(v){return v instanceof h?v:new h(function(w){w(v)})}return new(h||(h=Promise))(function(v,w){function T(I){try{E(g.next(I))}catch(D){w(D)}}function N(I){try{E(g.throw(I))}catch(D){w(D)}}function E(I){I.done?v(I.value):y(I.value).then(T,N)}E((g=g.apply(p,f||[])).next())})},Ex=function(p,f){var h={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},g,y,v,w;return w={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function T(E){return function(I){return N([E,I])}}function N(E){if(g)throw new TypeError("Generator is already executing.");for(;w&&(w=0,E[0]&&(h=0)),h;)try{if(g=1,y&&(v=E[0]&2?y.return:E[0]?y.throw||((v=y.return)&&v.call(y),0):y.next)&&!(v=v.call(y,E[1])).done)return v;switch(y=0,v&&(E=[E[0]&2,v.value]),E[0]){case 0:case 1:v=E;break;case 4:return h.label++,{value:E[1],done:!1};case 5:h.label++,y=E[1],E=[0];continue;case 7:E=h.ops.pop(),h.trys.pop();continue;default:if(v=h.trys,!(v=v.length>0&&v[v.length-1])&&(E[0]===6||E[0]===2)){h=0;continue}if(E[0]===3&&(!v||E[1]>v[0]&&E[1]<v[3])){h.label=E[1];break}if(E[0]===6&&h.label<v[1]){h.label=v[1],v=E;break}if(v&&h.label<v[2]){h.label=v[2],h.ops.push(E);break}v[2]&&h.ops.pop(),h.trys.pop();continue}E=f.call(p,h)}catch(I){E=[6,I],y=0}finally{g=v=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Ax=function(){function p(){}return p.retrieve=function(){if(navigator.mediaDevices)return p.getCamerasFromMediaDevices();var f=MediaStreamTrack;return MediaStreamTrack&&f.getSources?p.getCamerasFromMediaStreamTrack():p.rejectWithError()},p.rejectWithError=function(){var f=ho.unableToQuerySupportedDevices();return p.isHttpsOrLocalhost()||(f=ho.insecureContextCameraQueryError()),Promise.reject(f)},p.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var f=location.host.split(":")[0];return f==="127.0.0.1"||f==="localhost"},p.getCamerasFromMediaDevices=function(){return Cx(this,void 0,void 0,function(){var f,h,g,y,v,w,T;return Ex(this,function(N){switch(N.label){case 0:return f=function(E){for(var I=E.getVideoTracks(),D=0,X=I;D<X.length;D++){var te=X[D];te.enabled=!1,te.stop(),E.removeTrack(te)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return h=N.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(g=N.sent(),y=[],v=0,w=g;v<w.length;v++)T=w[v],T.kind==="videoinput"&&y.push({id:T.deviceId,label:T.label});return f(h),[2,y]}})})},p.getCamerasFromMediaStreamTrack=function(){return new Promise(function(f,h){var g=function(v){for(var w=[],T=0,N=v;T<N.length;T++){var E=N[T];E.kind==="video"&&w.push({id:E.id,label:E.label})}f(w)},y=MediaStreamTrack;y.getSources(g)})},p}(),kn;(function(p){p[p.UNKNOWN=0]="UNKNOWN",p[p.NOT_STARTED=1]="NOT_STARTED",p[p.SCANNING=2]="SCANNING",p[p.PAUSED=3]="PAUSED"})(kn||(kn={}));var Sx=function(){function p(){this.state=kn.NOT_STARTED,this.onGoingTransactionNewState=kn.UNKNOWN}return p.prototype.directTransition=function(f){this.failIfTransitionOngoing(),this.validateTransition(f),this.state=f},p.prototype.startTransition=function(f){return this.failIfTransitionOngoing(),this.validateTransition(f),this.onGoingTransactionNewState=f,this},p.prototype.execute=function(){if(this.onGoingTransactionNewState===kn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var f=this.onGoingTransactionNewState;this.onGoingTransactionNewState=kn.UNKNOWN,this.directTransition(f)},p.prototype.cancel=function(){if(this.onGoingTransactionNewState===kn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=kn.UNKNOWN},p.prototype.getState=function(){return this.state},p.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==kn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},p.prototype.validateTransition=function(f){switch(this.state){case kn.UNKNOWN:throw"Transition from unknown is not allowed";case kn.NOT_STARTED:this.failIfNewStateIs(f,[kn.PAUSED]);break;case kn.SCANNING:break;case kn.PAUSED:break}},p.prototype.failIfNewStateIs=function(f,h){for(var g=0,y=h;g<y.length;g++){var v=y[g];if(f===v)throw"Cannot transition from ".concat(this.state," to ").concat(f)}},p}(),wx=function(){function p(f){this.stateManager=f}return p.prototype.startTransition=function(f){return this.stateManager.startTransition(f)},p.prototype.directTransition=function(f){this.stateManager.directTransition(f)},p.prototype.getState=function(){return this.stateManager.getState()},p.prototype.canScanFile=function(){return this.stateManager.getState()===kn.NOT_STARTED},p.prototype.isScanning=function(){return this.stateManager.getState()!==kn.NOT_STARTED},p.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===kn.SCANNING},p.prototype.isPaused=function(){return this.stateManager.getState()===kn.PAUSED},p}(),Tx=function(){function p(){}return p.create=function(){return new wx(new Sx)},p}(),_x=function(){var p=function(f,h){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&(g[v]=y[v])},p(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");p(f,h);function g(){this.constructor=f}f.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)}}(),li=function(p){_x(f,p);function f(){return p!==null&&p.apply(this,arguments)||this}return f.DEFAULT_WIDTH=300,f.DEFAULT_WIDTH_OFFSET=2,f.FILE_SCAN_MIN_HEIGHT=300,f.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,f.MIN_QR_BOX_SIZE=50,f.SHADED_LEFT=1,f.SHADED_RIGHT=2,f.SHADED_TOP=3,f.SHADED_BOTTOM=4,f.SHADED_REGION_ELEMENT_ID="qr-shaded-region",f.VERBOSE=!1,f.BORDER_SHADER_DEFAULT_COLOR="#ffffff",f.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",f}(Yi),Nx=function(){function p(f,h){this.logger=h,this.fps=li.SCAN_DEFAULT_FPS,f?(f.fps&&(this.fps=f.fps),this.disableFlip=f.disableFlip===!0,this.qrbox=f.qrbox,this.aspectRatio=f.aspectRatio,this.videoConstraints=f.videoConstraints):this.disableFlip=li.DEFAULT_DISABLE_FLIP}return p.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Bg.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},p.prototype.isShadedBoxEnabled=function(){return!fa(this.qrbox)},p.create=function(f,h){return new p(f,h)},p}(),Rd=function(){function p(f,h){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(f))throw"HTML Element with id=".concat(f," not found");this.elementId=f,this.verbose=!1;var g;typeof h=="boolean"?this.verbose=h===!0:h&&(g=h,this.verbose=g.verbose===!0,g.experimentalFeatures),this.logger=new kg(this.verbose),this.qrcode=new dx(this.getSupportedFormats(h),this.getUseBarCodeDetectorIfSupported(g),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Tx.create()}return p.prototype.start=function(f,h,g,y){var v=this;if(!f)throw"cameraIdOrConfig is required";if(!g||typeof g!="function")throw"qrCodeSuccessCallback is required and should be a function.";var w;y?w=y:w=this.verbose?this.logger.log:function(){};var T=Nx.create(h,this.logger);this.clearElement();var N=!1;T.videoConstraints&&(T.isMediaStreamConstraintsValid()?N=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var E=N,I=document.getElementById(this.elementId);I.clientWidth?I.clientWidth:li.DEFAULT_WIDTH,I.style.position="relative",this.shouldScan=!0,this.element=I;var D=this,X=this.stateManagerProxy.startTransition(kn.SCANNING);return new Promise(function(te,ce){var ue=E?T.videoConstraints:D.createVideoConstraints(f);if(!ue){X.cancel(),ce("videoConstraints should be defined");return}var Le={};(!E||T.aspectRatio)&&(Le.aspectRatio=T.aspectRatio);var je={onRenderSurfaceReady:function(Pe,Oe){D.setupUi(Pe,Oe,T),D.isScanning=!0,D.foreverScan(T,g,w)}};vx.failIfNotSupported().then(function(Pe){Pe.create(ue).then(function(Oe){return Oe.render(v.element,Le,je).then(function(Ge){D.renderedCamera=Ge,X.execute(),te(null)}).catch(function(Ge){X.cancel(),ce(Ge)})}).catch(function(Oe){X.cancel(),ce(ho.errorGettingUserMedia(Oe))})}).catch(function(Pe){X.cancel(),ce(ho.cameraStreamingNotSupported())})})},p.prototype.pause=function(f){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(kn.PAUSED),this.showPausedState(),(fa(f)||f!==!0)&&(f=!1),f&&this.renderedCamera&&this.renderedCamera.pause()},p.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var f=this,h=function(){f.stateManagerProxy.directTransition(kn.SCANNING),f.hidePausedState()};if(!this.renderedCamera.isPaused()){h();return}this.renderedCamera.resume(function(){h()})},p.prototype.getState=function(){return this.stateManagerProxy.getState()},p.prototype.stop=function(){var f=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var h=this.stateManagerProxy.startTransition(kn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var g=function(){if(f.element){var v=document.getElementById(li.SHADED_REGION_ELEMENT_ID);v&&f.element.removeChild(v)}},y=this;return this.renderedCamera.close().then(function(){return y.renderedCamera=null,y.element&&(y.element.removeChild(y.canvasElement),y.canvasElement=null),g(),y.qrRegion&&(y.qrRegion=null),y.context&&(y.context=null),h.execute(),y.hidePausedState(),y.isScanning=!1,Promise.resolve()})},p.prototype.scanFile=function(f,h){return this.scanFileV2(f,h).then(function(g){return g.decodedText})},p.prototype.scanFileV2=function(f,h){var g=this;if(!f||!(f instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(fa(h)&&(h=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(y,v){g.possiblyCloseLastScanImageFile(),g.clearElement(),g.lastScanImageFile=URL.createObjectURL(f);var w=new Image;w.onload=function(){var T=w.width,N=w.height,E=document.getElementById(g.elementId),I=E.clientWidth?E.clientWidth:li.DEFAULT_WIDTH,D=Math.max(E.clientHeight?E.clientHeight:N,li.FILE_SCAN_MIN_HEIGHT),X=g.computeCanvasDrawConfig(T,N,I,D);if(h){var te=g.createCanvasElement(I,D,"qr-canvas-visible");te.style.display="inline-block",E.appendChild(te);var ce=te.getContext("2d");if(!ce)throw"Unable to get 2d context from canvas";ce.canvas.width=I,ce.canvas.height=D,ce.drawImage(w,0,0,T,N,X.x,X.y,X.width,X.height)}var ue=li.FILE_SCAN_HIDDEN_CANVAS_PADDING,Le=Math.max(w.width,X.width),je=Math.max(w.height,X.height),Pe=Le+2*ue,Oe=je+2*ue,Ge=g.createCanvasElement(Pe,Oe);E.appendChild(Ge);var Me=Ge.getContext("2d");if(!Me)throw"Unable to get 2d context from canvas";Me.canvas.width=Pe,Me.canvas.height=Oe,Me.drawImage(w,0,0,T,N,ue,ue,Le,je);try{g.qrcode.decodeRobustlyAsync(Ge).then(function(Ve){y(vd.createFromQrcodeResult(Ve))}).catch(v)}catch(Ve){v("QR code parse error, error = ".concat(Ve))}},w.onerror=v,w.onabort=v,w.onstalled=v,w.onsuspend=v,w.src=URL.createObjectURL(f)})},p.prototype.clear=function(){this.clearElement()},p.getCameras=function(){return Ax.retrieve()},p.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},p.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},p.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},p.prototype.applyVideoConstraints=function(f){if(f){if(!Bg.isMediaStreamConstraintsValid(f,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(f)},p.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},p.prototype.getSupportedFormats=function(f){var h=[He.QR_CODE,He.AZTEC,He.CODABAR,He.CODE_39,He.CODE_93,He.CODE_128,He.DATA_MATRIX,He.MAXICODE,He.ITF,He.EAN_13,He.EAN_8,He.PDF_417,He.RSS_14,He.RSS_EXPANDED,He.UPC_A,He.UPC_E,He.UPC_EAN_EXTENSION];if(!f||typeof f=="boolean"||!f.formatsToSupport)return h;if(!Array.isArray(f.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(f.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var g=[],y=0,v=f.formatsToSupport;y<v.length;y++){var w=v[y];ax(w)?g.push(w):this.logger.warn("Invalid format: ".concat(w," passed in config, ignoring."))}if(g.length===0)throw"None of formatsToSupport match supported values.";return g},p.prototype.getUseBarCodeDetectorIfSupported=function(f){if(fa(f))return!0;if(!fa(f.useBarCodeDetectorIfSupported))return f.useBarCodeDetectorIfSupported!==!1;if(fa(f.experimentalFeatures))return!0;var h=f.experimentalFeatures;return fa(h.useBarCodeDetectorIfSupported)?!0:h.useBarCodeDetectorIfSupported!==!1},p.prototype.validateQrboxSize=function(f,h,g){var y=this,v=g.qrbox;this.validateQrboxConfig(v);var w=this.toQrdimensions(f,h,v),T=function(E){if(E<li.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(li.MIN_QR_BOX_SIZE,"px.")},N=function(E){return E>f&&(y.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),E=f),E};T(w.width),T(w.height),w.width=N(w.width)},p.prototype.validateQrboxConfig=function(f){if(typeof f!="number"&&typeof f!="function"&&(f.width===void 0||f.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},p.prototype.toQrdimensions=function(f,h,g){if(typeof g=="number")return{width:g,height:g};if(typeof g=="function")try{return g(f,h)}catch(y){throw new Error("qrbox config was passed as a function but it failed with unknown error"+y)}return g},p.prototype.setupUi=function(f,h,g){g.isShadedBoxEnabled()&&this.validateQrboxSize(f,h,g);var y=fa(g.qrbox)?{width:f,height:h}:g.qrbox;this.validateQrboxConfig(y);var v=this.toQrdimensions(f,h,y);v.height>h&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var w=g.isShadedBoxEnabled()&&v.height<=h,T={x:0,y:0,width:f,height:h},N=w?this.getShadedRegionBounds(f,h,v):T,E=this.createCanvasElement(N.width,N.height),I={willReadFrequently:!0},D=E.getContext("2d",I);D.canvas.width=N.width,D.canvas.height=N.height,this.element.append(E),w&&this.possiblyInsertShadingElement(this.element,f,h,v),this.createScannerPausedUiElement(this.element),this.qrRegion=N,this.context=D,this.canvasElement=E},p.prototype.createScannerPausedUiElement=function(f){var h=document.createElement("div");h.innerText=ho.scannerPaused(),h.style.display="none",h.style.position="absolute",h.style.top="0px",h.style.zIndex="1",h.style.background="rgba(9, 9, 9, 0.46)",h.style.color="#FFECEC",h.style.textAlign="center",h.style.width="100%",f.appendChild(h),this.scannerPausedUiElement=h},p.prototype.scanContext=function(f,h){var g=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(y){return f(y.text,vd.createFromQrcodeResult(y)),g.possiblyUpdateShaders(!0),!0}).catch(function(y){g.possiblyUpdateShaders(!1);var v=ho.codeParseError(y);return h(v,Dg.createFrom(v)),!1})},p.prototype.foreverScan=function(f,h,g){var y=this;if(this.shouldScan&&this.renderedCamera){var v=this.renderedCamera.getSurface(),w=v.videoWidth/v.clientWidth,T=v.videoHeight/v.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var N=this.qrRegion.width*w,E=this.qrRegion.height*T,I=this.qrRegion.x*w,D=this.qrRegion.y*T;this.context.drawImage(v,I,D,N,E,0,0,this.qrRegion.width,this.qrRegion.height);var X=function(){y.foreverScanTimeout=setTimeout(function(){y.foreverScan(f,h,g)},y.getTimeoutFps(f.fps))};this.scanContext(h,g).then(function(te){!te&&f.disableFlip!==!0?(y.context.translate(y.context.canvas.width,0),y.context.scale(-1,1),y.scanContext(h,g).finally(function(){X()})):X()}).catch(function(te){y.logger.logError("Error happend while scanning context",te),X()})}},p.prototype.createVideoConstraints=function(f){if(typeof f=="string")return{deviceId:{exact:f}};if(typeof f=="object"){var h="facingMode",g="deviceId",y={user:!0,environment:!0},v="exact",w=function(ce){if(ce in y)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(ce,"'")},T=Object.keys(f);if(T.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(T.length," keys");var N=Object.keys(f)[0];if(N!==h&&N!==g)throw"Only '".concat(h,"' and '").concat(g,"' ")+" are supported for 'cameraIdOrConfig'";if(N===h){var E=f.facingMode;if(typeof E=="string"){if(w(E))return{facingMode:E}}else if(typeof E=="object")if(v in E){if(w(E["".concat(v)]))return{facingMode:{exact:E["".concat(v)]}}}else throw"'facingMode' should be string or object with"+" ".concat(v," as key.");else{var I=typeof E;throw"Invalid type of 'facingMode' = ".concat(I)}}else{var D=f.deviceId;if(typeof D=="string")return{deviceId:D};if(typeof D=="object"){if(v in D)return{deviceId:{exact:D["".concat(v)]}};throw"'deviceId' should be string or object with"+" ".concat(v," as key.")}else{var X=typeof D;throw"Invalid type of 'deviceId' = ".concat(X)}}}var te=typeof f;throw"Invalid type of 'cameraIdOrConfig' = ".concat(te)},p.prototype.computeCanvasDrawConfig=function(f,h,g,y){if(f<=g&&h<=y){var v=(g-f)/2,w=(y-h)/2;return{x:v,y:w,width:f,height:h}}else{var T=f,N=h;return f>g&&(h=g/f*h,f=g),h>y&&(f=y/h*f,h=y),this.logger.log("Image downsampled from "+"".concat(T,"X").concat(N)+" to ".concat(f,"X").concat(h,".")),this.computeCanvasDrawConfig(f,h,g,y)}},p.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var f=document.getElementById(this.elementId);f&&(f.innerHTML="")},p.prototype.possiblyUpdateShaders=function(f){this.qrMatch!==f&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(h){h.style.backgroundColor=f?li.BORDER_SHADER_MATCH_COLOR:li.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=f)},p.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},p.prototype.createCanvasElement=function(f,h,g){var y=f,v=h,w=document.createElement("canvas");return w.style.width="".concat(y,"px"),w.style.height="".concat(v,"px"),w.style.display="none",w.id=fa(g)?"qr-canvas":g,w},p.prototype.getShadedRegionBounds=function(f,h,g){if(g.width>f||g.height>h)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(f-g.width)/2,y:(h-g.height)/2,width:g.width,height:g.height}},p.prototype.possiblyInsertShadingElement=function(f,h,g,y){if(!(h-y.width<1||g-y.height<1)){var v=document.createElement("div");v.style.position="absolute";var w=(h-y.width)/2,T=(g-y.height)/2;if(v.style.borderLeft="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),v.style.borderRight="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),v.style.borderTop="".concat(T,"px solid rgba(0, 0, 0, 0.48)"),v.style.borderBottom="".concat(T,"px solid rgba(0, 0, 0, 0.48)"),v.style.boxSizing="border-box",v.style.top="0px",v.style.bottom="0px",v.style.left="0px",v.style.right="0px",v.id="".concat(li.SHADED_REGION_ELEMENT_ID),h-y.width<11||g-y.height<11)this.hasBorderShaders=!1;else{var N=5,E=40;this.insertShaderBorders(v,E,N,-N,null,0,!0),this.insertShaderBorders(v,E,N,-N,null,0,!1),this.insertShaderBorders(v,E,N,null,-N,0,!0),this.insertShaderBorders(v,E,N,null,-N,0,!1),this.insertShaderBorders(v,N,E+N,-N,null,-N,!0),this.insertShaderBorders(v,N,E+N,null,-N,-N,!0),this.insertShaderBorders(v,N,E+N,-N,null,-N,!1),this.insertShaderBorders(v,N,E+N,null,-N,-N,!1),this.hasBorderShaders=!0}f.append(v)}},p.prototype.insertShaderBorders=function(f,h,g,y,v,w,T){var N=document.createElement("div");N.style.position="absolute",N.style.backgroundColor=li.BORDER_SHADER_DEFAULT_COLOR,N.style.width="".concat(h,"px"),N.style.height="".concat(g,"px"),y!==null&&(N.style.top="".concat(y,"px")),v!==null&&(N.style.bottom="".concat(v,"px")),T?N.style.left="".concat(w,"px"):N.style.right="".concat(w,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(N),f.appendChild(N)},p.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},p.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},p.prototype.getTimeoutFps=function(f){return 1e3/f},p}(),Ff="data:image/svg+xml;base64,",Rx=Ff+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Ox=Ff+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Od=Ff+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Ix="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Id=function(){function p(){}return p.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},p}(),Mx=function(){function p(){this.data=Id.createDefault();var f=localStorage.getItem(p.LOCAL_STORAGE_KEY);f?this.data=JSON.parse(f):this.reset()}return p.prototype.hasCameraPermissions=function(){return this.data.hasPermission},p.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},p.prototype.setHasPermission=function(f){this.data.hasPermission=f,this.flush()},p.prototype.setLastUsedCameraId=function(f){this.data.lastUsedCameraId=f,this.flush()},p.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},p.prototype.reset=function(){this.data=Id.createDefault(),this.flush()},p.prototype.flush=function(){localStorage.setItem(p.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},p.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",p}(),Dx=function(){function p(){this.infoDiv=document.createElement("div")}return p.prototype.renderInto=function(f){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Cd.poweredBy();var h=document.createElement("a");h.innerText="ScanApp",h.href="https://scanapp.org",h.target="new",h.style.color="white",this.infoDiv.appendChild(h);var g=document.createElement("br"),y=document.createElement("br");this.infoDiv.appendChild(g),this.infoDiv.appendChild(y);var v=document.createElement("a");v.innerText=Cd.reportIssues(),v.href="https://github.com/mebjas/html5-qrcode/issues",v.target="new",v.style.color="white",this.infoDiv.appendChild(v),f.appendChild(this.infoDiv)},p.prototype.show=function(){this.infoDiv.style.display="block"},p.prototype.hide=function(){this.infoDiv.style.display="none"},p}(),kx=function(){function p(f,h){this.isShowingInfoIcon=!0,this.onTapIn=f,this.onTapOut=h,this.infoIcon=document.createElement("img")}return p.prototype.renderInto=function(f){var h=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Od,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(g){return h.onHoverIn()},this.infoIcon.onmouseout=function(g){return h.onHoverOut()},this.infoIcon.onclick=function(g){return h.onClick()},f.appendChild(this.infoIcon)},p.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},p.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},p.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Ix,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Od,this.infoIcon.style.opacity="0.6")},p}(),Bx=function(){function p(){var f=this;this.infoDiv=new Dx,this.infoIcon=new kx(function(){f.infoDiv.show()},function(){f.infoDiv.hide()})}return p.prototype.renderInto=function(f){this.infoDiv.renderInto(f),this.infoIcon.renderInto(f)},p}(),Lx=function(p,f,h,g){function y(v){return v instanceof h?v:new h(function(w){w(v)})}return new(h||(h=Promise))(function(v,w){function T(I){try{E(g.next(I))}catch(D){w(D)}}function N(I){try{E(g.throw(I))}catch(D){w(D)}}function E(I){I.done?v(I.value):y(I.value).then(T,N)}E((g=g.apply(p,f||[])).next())})},Px=function(p,f){var h={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},g,y,v,w;return w={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function T(E){return function(I){return N([E,I])}}function N(E){if(g)throw new TypeError("Generator is already executing.");for(;w&&(w=0,E[0]&&(h=0)),h;)try{if(g=1,y&&(v=E[0]&2?y.return:E[0]?y.throw||((v=y.return)&&v.call(y),0):y.next)&&!(v=v.call(y,E[1])).done)return v;switch(y=0,v&&(E=[E[0]&2,v.value]),E[0]){case 0:case 1:v=E;break;case 4:return h.label++,{value:E[1],done:!1};case 5:h.label++,y=E[1],E=[0];continue;case 7:E=h.ops.pop(),h.trys.pop();continue;default:if(v=h.trys,!(v=v.length>0&&v[v.length-1])&&(E[0]===6||E[0]===2)){h=0;continue}if(E[0]===3&&(!v||E[1]>v[0]&&E[1]<v[3])){h.label=E[1];break}if(E[0]===6&&h.label<v[1]){h.label=v[1],v=E;break}if(v&&h.label<v[2]){h.label=v[2],h.ops.push(E);break}v[2]&&h.ops.pop(),h.trys.pop();continue}E=f.call(p,h)}catch(I){E=[6,I],y=0}finally{g=v=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Md=function(){function p(){}return p.hasPermissions=function(){return Lx(this,void 0,void 0,function(){var f,h,g,y;return Px(this,function(v){switch(v.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(f=v.sent(),h=0,g=f;h<g.length;h++)if(y=g[h],y.kind==="videoinput"&&y.label)return[2,!0];return[2,!1]}})})},p}(),hs=function(){function p(f){this.supportedScanTypes=this.validateAndReturnScanTypes(f)}return p.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},p.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},p.prototype.isCameraScanRequired=function(){for(var f=0,h=this.supportedScanTypes;f<h.length;f++){var g=h[f];if(p.isCameraScanType(g))return!0}return!1},p.isCameraScanType=function(f){return f===ps.SCAN_TYPE_CAMERA},p.isFileScanType=function(f){return f===ps.SCAN_TYPE_FILE},p.prototype.validateAndReturnScanTypes=function(f){if(!f||f.length===0)return Yi.DEFAULT_SUPPORTED_SCAN_TYPE;var h=Yi.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(f.length>h)throw"Max ".concat(h," values expected for ")+"supportedScanTypes";for(var g=0,y=f;g<y.length;g++){var v=y[g];if(!Yi.DEFAULT_SUPPORTED_SCAN_TYPE.includes(v))throw"Unsupported scan type ".concat(v)}return f},p}(),ui=function(){function p(){}return p.ALL_ELEMENT_CLASS="html5-qrcode-element",p.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",p.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",p.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",p.TORCH_BUTTON_ID="html5-qrcode-button-torch",p.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",p.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",p.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",p.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",p.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",p.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",p}(),Ba=function(){function p(){}return p.createElement=function(f,h){var g=document.createElement(f);return g.id=h,g.classList.add(ui.ALL_ELEMENT_CLASS),f==="button"&&g.setAttribute("type","button"),g},p}(),Pg=function(p,f,h,g){function y(v){return v instanceof h?v:new h(function(w){w(v)})}return new(h||(h=Promise))(function(v,w){function T(I){try{E(g.next(I))}catch(D){w(D)}}function N(I){try{E(g.throw(I))}catch(D){w(D)}}function E(I){I.done?v(I.value):y(I.value).then(T,N)}E((g=g.apply(p,f||[])).next())})},jg=function(p,f){var h={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},g,y,v,w;return w={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function T(E){return function(I){return N([E,I])}}function N(E){if(g)throw new TypeError("Generator is already executing.");for(;w&&(w=0,E[0]&&(h=0)),h;)try{if(g=1,y&&(v=E[0]&2?y.return:E[0]?y.throw||((v=y.return)&&v.call(y),0):y.next)&&!(v=v.call(y,E[1])).done)return v;switch(y=0,v&&(E=[E[0]&2,v.value]),E[0]){case 0:case 1:v=E;break;case 4:return h.label++,{value:E[1],done:!1};case 5:h.label++,y=E[1],E=[0];continue;case 7:E=h.ops.pop(),h.trys.pop();continue;default:if(v=h.trys,!(v=v.length>0&&v[v.length-1])&&(E[0]===6||E[0]===2)){h=0;continue}if(E[0]===3&&(!v||E[1]>v[0]&&E[1]<v[3])){h.label=E[1];break}if(E[0]===6&&h.label<v[1]){h.label=v[1],v=E;break}if(v&&h.label<v[2]){h.label=v[2],h.ops.push(E);break}v[2]&&h.ops.pop(),h.trys.pop();continue}E=f.call(p,h)}catch(I){E=[6,I],y=0}finally{g=v=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Dd=function(){function p(f,h,g){this.isTorchOn=!1,this.torchCapability=f,this.buttonController=h,this.onTorchActionFailureCallback=g}return p.prototype.isTorchEnabled=function(){return this.isTorchOn},p.prototype.flipState=function(){return Pg(this,void 0,void 0,function(){var f,h;return jg(this,function(g){switch(g.label){case 0:this.buttonController.disable(),f=!this.isTorchOn,g.label=1;case 1:return g.trys.push([1,3,,4]),[4,this.torchCapability.apply(f)];case 2:return g.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),f),[3,4];case 3:return h=g.sent(),this.propagateFailure(f,h),this.buttonController.enable(),[3,4];case 4:return[2]}})})},p.prototype.updateUiBasedOnLatestSettings=function(f,h){f===h?(this.buttonController.setText(h?nn.torchOffButton():nn.torchOnButton()),this.isTorchOn=h):this.propagateFailure(h),this.buttonController.enable()},p.prototype.propagateFailure=function(f,h){var g=f?nn.torchOnFailedMessage():nn.torchOffFailedMessage();h&&(g+="; Error = "+h),this.onTorchActionFailureCallback(g)},p.prototype.reset=function(){this.isTorchOn=!1},p}(),jx=function(){function p(f,h){this.onTorchActionFailureCallback=h,this.torchButton=Ba.createElement("button",ui.TORCH_BUTTON_ID),this.torchController=new Dd(f,this,h)}return p.prototype.render=function(f,h){var g=this;this.torchButton.innerText=nn.torchOnButton(),this.torchButton.style.display=h.display,this.torchButton.style.marginLeft=h.marginLeft;var y=this;this.torchButton.addEventListener("click",function(v){return Pg(g,void 0,void 0,function(){return jg(this,function(w){switch(w.label){case 0:return[4,y.torchController.flipState()];case 1:return w.sent(),y.torchController.isTorchEnabled()?(y.torchButton.classList.remove(ui.TORCH_BUTTON_CLASS_TORCH_OFF),y.torchButton.classList.add(ui.TORCH_BUTTON_CLASS_TORCH_ON)):(y.torchButton.classList.remove(ui.TORCH_BUTTON_CLASS_TORCH_ON),y.torchButton.classList.add(ui.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),f.appendChild(this.torchButton)},p.prototype.updateTorchCapability=function(f){this.torchController=new Dd(f,this,this.onTorchActionFailureCallback)},p.prototype.getTorchButton=function(){return this.torchButton},p.prototype.hide=function(){this.torchButton.style.display="none"},p.prototype.show=function(){this.torchButton.style.display="inline-block"},p.prototype.disable=function(){this.torchButton.disabled=!0},p.prototype.enable=function(){this.torchButton.disabled=!1},p.prototype.setText=function(f){this.torchButton.innerText=f},p.prototype.reset=function(){this.torchButton.innerText=nn.torchOnButton(),this.torchController.reset()},p.create=function(f,h,g,y){var v=new p(h,y);return v.render(f,g),v},p}(),Ux=function(){function p(f,h,g){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=h?"block":"none",f.appendChild(this.fileBasedScanRegion);var y=document.createElement("label");y.setAttribute("for",this.getFileScanInputId()),y.style.display="inline-block",this.fileBasedScanRegion.appendChild(y),this.fileSelectionButton=Ba.createElement("button",ui.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(T){y.click()}),y.append(this.fileSelectionButton),this.fileScanInput=Ba.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",y.appendChild(this.fileScanInput);var v=this;this.fileScanInput.addEventListener("change",function(T){if(!(T==null||T.target==null)){var N=T.target;if(!(N.files&&N.files.length===0)){var E=N.files,I=E[0],D=I.name;v.setImageNameToButton(D),g(I)}}});var w=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(w),this.fileBasedScanRegion.addEventListener("dragenter",function(T){v.fileBasedScanRegion.style.border=v.fileBasedScanRegionActiveBorder(),T.stopPropagation(),T.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(T){v.fileBasedScanRegion.style.border=v.fileBasedScanRegionDefaultBorder(),T.stopPropagation(),T.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(T){v.fileBasedScanRegion.style.border=v.fileBasedScanRegionActiveBorder(),T.stopPropagation(),T.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(T){T.stopPropagation(),T.preventDefault(),v.fileBasedScanRegion.style.border=v.fileBasedScanRegionDefaultBorder();var N=T.dataTransfer;if(N){var E=N.files;if(!E||E.length===0)return;for(var I=!1,D=0;D<E.length;++D){var X=E.item(D);if(X){var te=/image.*/;if(X.type.match(te)){I=!0;var ce=X.name;v.setImageNameToButton(ce),g(X),w.innerText=nn.dragAndDropMessage();break}}}I||(w.innerText=nn.dragAndDropMessageOnlyImages())}})}return p.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},p.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},p.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},p.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},p.prototype.createFileBasedScanRegion=function(){var f=document.createElement("div");return f.style.textAlign="center",f.style.margin="auto",f.style.width="80%",f.style.maxWidth="600px",f.style.border=this.fileBasedScanRegionDefaultBorder(),f.style.padding="10px",f.style.marginBottom="10px",f},p.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},p.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},p.prototype.createDragAndDropMessage=function(){var f=document.createElement("div");return f.innerText=nn.dragAndDropMessage(),f.style.fontWeight="400",f},p.prototype.setImageNameToButton=function(f){var h=20;if(f.length>h){var g=f.substring(0,8),y=f.length,v=f.substring(y-8,y);f="".concat(g,"....").concat(v)}var w=nn.fileSelectionChooseAnother()+" - "+f;this.fileSelectionButton.innerText=w},p.prototype.setInitialValueToButton=function(){var f=nn.fileSelectionChooseImage()+" - "+nn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=f},p.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},p.create=function(f,h,g){var y=new p(f,h,g);return y},p}(),zx=function(){function p(f){this.selectElement=Ba.createElement("select",ui.CAMERA_SELECTION_SELECT_ID),this.cameras=f,this.options=[]}return p.prototype.render=function(f){var h=document.createElement("span");h.style.marginRight="10px";var g=this.cameras.length;if(g===0)throw new Error("No cameras found");if(g===1)h.style.display="none";else{var y=nn.selectCamera();h.innerText="".concat(y," (").concat(this.cameras.length,")  ")}for(var v=1,w=0,T=this.cameras;w<T.length;w++){var N=T[w],E=N.id,I=N.label==null?E:N.label;(!I||I==="")&&(I=[nn.anonymousCameraPrefix(),v++].join(" "));var D=document.createElement("option");D.value=E,D.innerText=I,this.options.push(D),this.selectElement.appendChild(D)}h.appendChild(this.selectElement),f.appendChild(h)},p.prototype.disable=function(){this.selectElement.disabled=!0},p.prototype.isDisabled=function(){return this.selectElement.disabled===!0},p.prototype.enable=function(){this.selectElement.disabled=!1},p.prototype.getValue=function(){return this.selectElement.value},p.prototype.hasValue=function(f){for(var h=0,g=this.options;h<g.length;h++){var y=g[h];if(y.value===f)return!0}return!1},p.prototype.setValue=function(f){if(!this.hasValue(f))throw new Error("".concat(f," is not present in the camera list."));this.selectElement.value=f},p.prototype.hasSingleItem=function(){return this.cameras.length===1},p.prototype.numCameras=function(){return this.cameras.length},p.create=function(f,h){var g=new p(h);return g.render(f),g},p}(),Fx=function(){function p(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ba.createElement("input",ui.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return p.prototype.render=function(f,h){this.zoomElementContainer.style.display=h?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",f.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var g=nn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(g),this.rangeText.style.marginRight="10px";var y=this;this.rangeInput.addEventListener("input",function(){return y.onValueChange()}),this.rangeInput.addEventListener("change",function(){return y.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},p.prototype.onValueChange=function(){var f=nn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(f),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},p.prototype.setValues=function(f,h,g,y){this.rangeInput.min=f.toString(),this.rangeInput.max=h.toString(),this.rangeInput.step=y.toString(),this.rangeInput.value=g.toString(),this.onValueChange()},p.prototype.show=function(){this.zoomElementContainer.style.display="block"},p.prototype.hide=function(){this.zoomElementContainer.style.display="none"},p.prototype.setOnCameraZoomValueChangeCallback=function(f){this.onChangeCallback=f},p.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},p.create=function(f,h){var g=new p;return g.render(f,h),g},p}(),ci;(function(p){p[p.STATUS_DEFAULT=0]="STATUS_DEFAULT",p[p.STATUS_SUCCESS=1]="STATUS_SUCCESS",p[p.STATUS_WARNING=2]="STATUS_WARNING",p[p.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ci||(ci={}));function Hx(p){return{fps:p.fps,qrbox:p.qrbox,aspectRatio:p.aspectRatio,disableFlip:p.disableFlip,videoConstraints:p.videoConstraints}}function Gx(p,f){return{formatsToSupport:p.formatsToSupport,useBarCodeDetectorIfSupported:p.useBarCodeDetectorIfSupported,experimentalFeatures:p.experimentalFeatures,verbose:f}}var Vx=function(){function p(f,h,g){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=f,this.config=this.createConfig(h),this.verbose=g===!0,!document.getElementById(f))throw"HTML Element with id=".concat(f," not found");this.scanTypeSelector=new hs(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new kg(this.verbose),this.persistedDataManager=new Mx,h.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return p.prototype.render=function(f,h){var g=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(v,w){if(f)f(v,w);else{if(g.lastMatchFound===v)return;g.lastMatchFound=v,g.setHeaderMessage(nn.lastMatch(v),ci.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(v,w){h&&h(v,w)};var y=document.getElementById(this.elementId);if(!y)throw"HTML Element with id=".concat(this.elementId," not found");y.innerHTML="",this.createBasicLayout(y),this.html5Qrcode=new Rd(this.getScanRegionId(),Gx(this.config,this.verbose))},p.prototype.pause=function(f){(fa(f)||f!==!0)&&(f=!1),this.getHtml5QrcodeOrFail().pause(f)},p.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},p.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},p.prototype.clear=function(){var f=this,h=function(){var g=document.getElementById(f.elementId);g&&(g.innerHTML="",f.resetBasicLayout(g))};return this.html5Qrcode?new Promise(function(g,y){if(!f.html5Qrcode){g();return}f.html5Qrcode.isScanning?f.html5Qrcode.stop().then(function(v){if(!f.html5Qrcode){g();return}f.html5Qrcode.clear(),h(),g()}).catch(function(v){f.verbose&&f.logger.logError("Unable to stop qrcode scanner",v),y(v)}):(f.html5Qrcode.clear(),h(),g())}):Promise.resolve()},p.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},p.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},p.prototype.applyVideoConstraints=function(f){return this.getHtml5QrcodeOrFail().applyVideoConstraints(f)},p.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},p.prototype.createConfig=function(f){return f?(f.fps||(f.fps=Yi.SCAN_DEFAULT_FPS),f.rememberLastUsedCamera!==!Yi.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(f.rememberLastUsedCamera=Yi.DEFAULT_REMEMBER_LAST_CAMERA_USED),f.supportedScanTypes||(f.supportedScanTypes=Yi.DEFAULT_SUPPORTED_SCAN_TYPE),f):{fps:Yi.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Yi.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Yi.DEFAULT_SUPPORTED_SCAN_TYPE}},p.prototype.createBasicLayout=function(f){f.style.position="relative",f.style.padding="0px",f.style.border="1px solid silver",this.createHeader(f);var h=document.createElement("div"),g=this.getScanRegionId();h.id=g,h.style.width="100%",h.style.minHeight="100px",h.style.textAlign="center",f.appendChild(h),hs.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var y=document.createElement("div"),v=this.getDashboardId();y.id=v,y.style.width="100%",f.appendChild(y),this.setupInitialDashboard(y)},p.prototype.resetBasicLayout=function(f){f.style.border="none"},p.prototype.setupInitialDashboard=function(f){this.createSection(f),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},p.prototype.createHeader=function(f){var h=document.createElement("div");h.style.textAlign="left",h.style.margin="0px",f.appendChild(h);var g=new Bx;g.renderInto(h);var y=document.createElement("div");y.id=this.getHeaderMessageContainerId(),y.style.display="none",y.style.textAlign="center",y.style.fontSize="14px",y.style.padding="2px 10px",y.style.margin="4px",y.style.borderTop="1px solid #f6f6f6",h.appendChild(y)},p.prototype.createSection=function(f){var h=document.createElement("div");h.id=this.getDashboardSectionId(),h.style.width="100%",h.style.padding="10px 0px 10px 0px",h.style.textAlign="left",f.appendChild(h)},p.prototype.createCameraListUi=function(f,h,g){var y=this;y.showHideScanTypeSwapLink(!1),y.setHeaderMessage(nn.cameraPermissionRequesting());var v=function(){g||y.createPermissionButton(f,h)};Rd.getCameras().then(function(w){y.persistedDataManager.setHasPermission(!0),y.showHideScanTypeSwapLink(!0),y.resetHeaderMessage(),w&&w.length>0?(f.removeChild(h),y.renderCameraSelection(w)):(y.setHeaderMessage(nn.noCameraFound(),ci.STATUS_WARNING),v())}).catch(function(w){y.persistedDataManager.setHasPermission(!1),g?g.disabled=!1:v(),y.setHeaderMessage(w,ci.STATUS_WARNING),y.showHideScanTypeSwapLink(!0)})},p.prototype.createPermissionButton=function(f,h){var g=this,y=Ba.createElement("button",this.getCameraPermissionButtonId());y.innerText=nn.cameraPermissionTitle(),y.addEventListener("click",function(){y.disabled=!0,g.createCameraListUi(f,h,y)}),h.appendChild(y)},p.prototype.createPermissionsUi=function(f,h){var g=this;if(hs.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Md.hasPermissions().then(function(y){y?g.createCameraListUi(f,h):(g.persistedDataManager.setHasPermission(!1),g.createPermissionButton(f,h))}).catch(function(y){g.persistedDataManager.setHasPermission(!1),g.createPermissionButton(f,h)});return}this.createPermissionButton(f,h)},p.prototype.createSectionControlPanel=function(){var f=document.getElementById(this.getDashboardSectionId()),h=document.createElement("div");f.appendChild(h);var g=document.createElement("div");g.id=this.getDashboardSectionCameraScanRegionId(),g.style.display=hs.isCameraScanType(this.currentScanType)?"block":"none",h.appendChild(g);var y=document.createElement("div");y.style.textAlign="center",g.appendChild(y),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(g,y),this.renderFileScanUi(h)},p.prototype.renderFileScanUi=function(f){var h=hs.isFileScanType(this.currentScanType),g=this,y=function(v){if(!g.html5Qrcode)throw"html5Qrcode not defined";hs.isFileScanType(g.currentScanType)&&(g.setHeaderMessage(nn.loadingImage()),g.html5Qrcode.scanFileV2(v,!0).then(function(w){g.resetHeaderMessage(),g.qrCodeSuccessCallback(w.decodedText,w)}).catch(function(w){g.setHeaderMessage(w,ci.STATUS_WARNING),g.qrCodeErrorCallback(w,Dg.createFrom(w))}))};this.fileSelectionUi=Ux.create(f,h,y)},p.prototype.renderCameraSelection=function(f){var h=this,g=this,y=document.getElementById(this.getDashboardSectionCameraScanRegionId());y.style.textAlign="center";var v=Fx.create(y,!1),w=function(ue){var Le=ue.zoomFeature();if(Le.isSupported()){v.setOnCameraZoomValueChangeCallback(function(Pe){Le.apply(Pe)});var je=1;h.config.defaultZoomValueIfSupported&&(je=h.config.defaultZoomValueIfSupported),je=sx(je,Le.min(),Le.max()),v.setValues(Le.min(),Le.max(),je,Le.step()),v.show()}},T=zx.create(y,f),N=document.createElement("span"),E=Ba.createElement("button",ui.CAMERA_START_BUTTON_ID);E.innerText=nn.scanButtonStartScanningText(),N.appendChild(E);var I=Ba.createElement("button",ui.CAMERA_STOP_BUTTON_ID);I.innerText=nn.scanButtonStopScanningText(),I.style.display="none",I.disabled=!0,N.appendChild(I);var D,X=function(ue){if(!ue.torchFeature().isSupported()){D&&D.hide();return}D?D.updateTorchCapability(ue.torchFeature()):D=jx.create(N,ue.torchFeature(),{display:"none",marginLeft:"5px"},function(Le){g.setHeaderMessage(Le,ci.STATUS_WARNING)}),D.show()};y.appendChild(N);var te=function(ue){ue||(E.style.display="none"),E.innerText=nn.scanButtonStartScanningText(),E.style.opacity="1",E.disabled=!1,ue&&(E.style.display="inline-block")};if(E.addEventListener("click",function(ue){E.innerText=nn.scanButtonScanningStarting(),T.disable(),E.disabled=!0,E.style.opacity="0.5",h.scanTypeSelector.hasMoreThanOneScanType()&&g.showHideScanTypeSwapLink(!1),g.resetHeaderMessage();var Le=T.getValue();g.persistedDataManager.setLastUsedCameraId(Le),g.html5Qrcode.start(Le,Hx(g.config),g.qrCodeSuccessCallback,g.qrCodeErrorCallback).then(function(je){I.disabled=!1,I.style.display="inline-block",te(!1);var Pe=g.html5Qrcode.getRunningTrackCameraCapabilities();h.config.showTorchButtonIfSupported===!0&&X(Pe),h.config.showZoomSliderIfSupported===!0&&w(Pe)}).catch(function(je){g.showHideScanTypeSwapLink(!0),T.enable(),te(!0),g.setHeaderMessage(je,ci.STATUS_WARNING)})}),T.hasSingleItem()&&E.click(),I.addEventListener("click",function(ue){if(!g.html5Qrcode)throw"html5Qrcode not defined";I.disabled=!0,g.html5Qrcode.stop().then(function(Le){h.scanTypeSelector.hasMoreThanOneScanType()&&g.showHideScanTypeSwapLink(!0),T.enable(),E.disabled=!1,I.style.display="none",E.style.display="inline-block",D&&(D.reset(),D.hide()),v.removeOnCameraZoomValueChangeCallback(),v.hide(),g.insertCameraScanImageToScanRegion()}).catch(function(Le){I.disabled=!1,g.setHeaderMessage(Le,ci.STATUS_WARNING)})}),g.persistedDataManager.getLastUsedCameraId()){var ce=g.persistedDataManager.getLastUsedCameraId();T.hasValue(ce)?(T.setValue(ce),E.click()):g.persistedDataManager.resetLastUsedCameraId()}},p.prototype.createSectionSwap=function(){var f=this,h=nn.textIfCameraScanSelected(),g=nn.textIfFileScanSelected(),y=document.getElementById(this.getDashboardSectionId()),v=document.createElement("div");v.style.textAlign="center";var w=Ba.createElement("span",this.getDashboardSectionSwapLinkId());w.style.textDecoration="underline",w.style.cursor="pointer",w.innerText=hs.isCameraScanType(this.currentScanType)?h:g,w.addEventListener("click",function(){if(!f.sectionSwapAllowed){f.verbose&&f.logger.logError("Section swap called when not allowed");return}f.resetHeaderMessage(),f.fileSelectionUi.resetValue(),f.sectionSwapAllowed=!1,hs.isCameraScanType(f.currentScanType)?(f.clearScanRegion(),f.getCameraScanRegion().style.display="none",f.fileSelectionUi.show(),w.innerText=g,f.currentScanType=ps.SCAN_TYPE_FILE,f.insertFileScanImageToScanRegion()):(f.clearScanRegion(),f.getCameraScanRegion().style.display="block",f.fileSelectionUi.hide(),w.innerText=h,f.currentScanType=ps.SCAN_TYPE_CAMERA,f.insertCameraScanImageToScanRegion(),f.startCameraScanIfPermissionExistsOnSwap()),f.sectionSwapAllowed=!0}),v.appendChild(w),y.appendChild(v)},p.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var f=this,h=this;if(this.persistedDataManager.hasCameraPermissions()){Md.hasPermissions().then(function(g){if(g){var y=document.getElementById(h.getCameraPermissionButtonId());if(!y)throw f.logger.logError("Permission button not found, fail;"),"Permission button not found";y.click()}else h.persistedDataManager.setHasPermission(!1)}).catch(function(g){h.persistedDataManager.setHasPermission(!1)});return}},p.prototype.resetHeaderMessage=function(){var f=document.getElementById(this.getHeaderMessageContainerId());f.style.display="none"},p.prototype.setHeaderMessage=function(f,h){h||(h=ci.STATUS_DEFAULT);var g=this.getHeaderMessageDiv();switch(g.innerText=f,g.style.display="block",h){case ci.STATUS_SUCCESS:g.style.background="rgba(106, 175, 80, 0.26)",g.style.color="#477735";break;case ci.STATUS_WARNING:g.style.background="rgba(203, 36, 49, 0.14)",g.style.color="#cb2431";break;case ci.STATUS_DEFAULT:default:g.style.background="rgba(0, 0, 0, 0)",g.style.color="rgb(17, 17, 17)";break}},p.prototype.showHideScanTypeSwapLink=function(f){this.scanTypeSelector.hasMoreThanOneScanType()&&(f!==!0&&(f=!1),this.sectionSwapAllowed=f,this.getDashboardSectionSwapLink().style.display=f?"inline-block":"none")},p.prototype.insertCameraScanImageToScanRegion=function(){var f=this,h=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){h.innerHTML="<br>",h.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(g){h.innerHTML="<br>",h.appendChild(f.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Rx,this.cameraScanImage.alt=nn.cameraScanAltText()},p.prototype.insertFileScanImageToScanRegion=function(){var f=this,h=document.getElementById(this.getScanRegionId());if(this.fileScanImage){h.innerHTML="<br>",h.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(g){h.innerHTML="<br>",h.appendChild(f.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Ox,this.fileScanImage.alt=nn.fileScanAltText()},p.prototype.clearScanRegion=function(){var f=document.getElementById(this.getScanRegionId());f.innerHTML=""},p.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},p.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},p.prototype.getDashboardSectionSwapLinkId=function(){return ui.SCAN_TYPE_CHANGE_ANCHOR_ID},p.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},p.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},p.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},p.prototype.getCameraPermissionButtonId=function(){return ui.CAMERA_PERMISSION_BUTTON_ID},p.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},p.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},p.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},p}();function Yx({onClose:p,onDataSynced:f}){const{t:h}=Xi(),[g,y]=ft.useState(""),[v,w]=ft.useState("initializing"),T=ft.useRef(null),N=ft.useRef(null);ft.useEffect(()=>{const D=new qm;return T.current=D,D.on("open",X=>{y(X),w("waiting")}),D.on("connection",X=>{N.current=X,w("connected"),X.on("data",te=>{w("syncing"),f(te)})}),()=>{D.destroy()}},[f]);const E=()=>{w("scanning");const D=new Vx("qr-reader",{fps:10,qrbox:250},!1),X=async te=>{await D.clear();const ce=T.current.connect(te);N.current=ce,ce.on("open",async()=>{w("connected");const ue=await xr.projects.toArray();ce.send({projects:ue}),p()})};D.render(X)},I=()=>{switch(v){case"initializing":return H.jsx("p",{children:h("syncInitializing")});case"waiting":return H.jsxs(H.Fragment,{children:[H.jsx("h4",{className:"font-bold mb-2",children:h("syncShowQR")}),H.jsx("div",{className:"p-4 bg-white rounded-lg",children:g&&H.jsx(ix,{value:g})}),H.jsx("p",{className:"my-4",children:h("syncOr")}),H.jsxs("button",{onClick:E,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg",children:[H.jsx($2,{size:18})," ",h("syncScanQR")]})]});case"scanning":return H.jsxs("div",{children:[H.jsx("p",{className:"mb-4",children:h("syncCameraHelp")}),H.jsx("div",{id:"qr-reader",style:{width:"100%"}})]});case"connected":return H.jsx("p",{className:"text-green-500",children:h("syncConnected")});case"syncing":return H.jsx("p",{className:"text-blue-500",children:h("syncReceiving")});default:return null}};return H.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex justify-center items-center",children:H.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md p-6 text-center",children:[H.jsxs("header",{className:"flex items-center justify-between mb-4",children:[H.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[H.jsx(Ud,{}),h("syncTitle")]}),H.jsx("button",{onClick:p,children:H.jsx(ol,{})})]}),H.jsx("div",{className:"flex flex-col items-center",children:I()})]})})}function Xx(){const[p,f]=x2(),{t:h}=Xi(),[g,y]=ft.useState(null),[v,w]=ft.useState(null),[T,N]=ft.useState("dashboard"),[E,I]=ft.useState(null),[D,X]=ft.useState(null),[te,ce]=ft.useState(null),[ue,Le]=ft.useState(!1),[je,Pe]=ft.useState(!1),[Oe,Ge]=ft.useState(null),Me=m2(()=>xr.projects.orderBy("createdAt").reverse().toArray(),[],[]),Ve=Me===void 0,fe=async Q=>{Q.trim()&&await xr.projects.add({name:Q.trim(),description:"",keywords:[],notes:[],tasks:[],createdAt:new Date,updatedAt:new Date})},Je=async()=>{v&&(await xr.projects.delete(v),w(null),E===v&&re())},be=async(Q,Ee)=>{await xr.projects.update(Q,{...Ee,updatedAt:new Date})},Nn=async()=>{if(te)try{await xr.transaction("rw",xr.projects,async()=>{await xr.projects.clear();const Q=te.map(Ee=>({...Ee,createdAt:new Date(Ee.createdAt),updatedAt:Ee.updatedAt?new Date(Ee.updatedAt):new Date(Ee.createdAt),id:void 0}));await xr.projects.bulkAdd(Q)}),ce(null)}catch(Q){console.error("Error importing data:",Q),y(h("importError"))}},Pt=async Q=>{if(Q.projects&&Array.isArray(Q.projects))try{await xr.transaction("rw",xr.projects,async()=>{const Ee=await xr.projects.toArray(),Ke=[],Y=[],me=new Map(Ee.map(we=>[we.id,we]));for(const we of Q.projects){const _e=me.get(we.id);_e?new Date(we.updatedAt)>new Date(_e.updatedAt)&&Ke.push(we):Y.push(we)}Ke.length>0&&await xr.projects.bulkPut(Ke),Y.length>0&&await xr.projects.bulkAdd(Y)}),console.log("Sincronización completada."),Pe(!1)}catch(Ee){console.error("Error durante la fusión de datos:",Ee),y("Error al sincronizar los proyectos.")}},De=async()=>{if(y(null),!("showOpenFilePicker"in window))return y("Tu navegador no soporta la API de Acceso al Sistema de Archivos.");try{const[Q]=await window.showOpenFilePicker({types:[{description:"Archivos JSON",accept:{"application/json":[".json"]}}]}),Ke=await(await Q.getFile()).text(),Y=JSON.parse(Ke);let me=null;if(Array.isArray(Y)?me=Y:Y.projects&&Array.isArray(Y.projects)&&(me=Y.projects),me)ce(me),Ge(Q);else throw new Error(h("jsonFormatError"))}catch(Q){console.error("Error al abrir o leer el archivo:",Q),Q.name!=="AbortError"&&y(h("jsonParseError"))}},tt=async()=>{y(null);let Q=Oe;if(!Q){if(!("showSaveFilePicker"in window))return y("Tu navegador no soporta esta función.");try{Q=await window.showSaveFilePicker({suggestedName:"proyectos-backup.json",types:[{description:"Archivos JSON",accept:{"application/json":[".json"]}}]}),Ge(Q)}catch(Ee){Ee.name!=="AbortError"&&console.error("Error en 'Guardar como':",Ee);return}}try{if(await Q.requestPermission({mode:"readwrite"})!=="granted")return y("Se necesita permiso para guardar los cambios.");const Ee=await Q.createWritable(),Ke=await xr.projects.toArray();await Ee.write(JSON.stringify({projects:Ke},null,2)),await Ee.close(),alert("¡Archivo guardado!")}catch(Ee){console.error("Error al guardar:",Ee),y("No se pudo guardar el archivo.")}},It=Q=>{I(Q),N("project")},re=()=>{I(null),N("dashboard")},ie=Me?.find(Q=>Q.id===E);return H.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 min-h-screen font-sans text-slate-800 dark:text-slate-200 flex flex-col transition-colors duration-300",children:[H.jsxs("main",{className:"container mx-auto p-4 sm:p-6 lg:p-8 flex-grow",children:[g&&H.jsxs("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6 rounded-md flex justify-between items-center",role:"alert",children:[H.jsx("p",{children:g}),H.jsx("button",{onClick:()=>y(null),className:"font-bold text-xl",children:"×"})]}),T==="dashboard"&&H.jsx(ym,{projects:Me,onAddProject:fe,onOpenProject:It,onDeleteProject:w,isLoading:Ve,onOpenFile:De,onSaveFile:tt,onOpenHelp:()=>Le(!0),onOpenSync:()=>Pe(!0),theme:p,setTheme:f}),T==="project"&&ie&&H.jsx(bm,{project:ie,onUpdateProject:be,onBack:re,onViewNote:X}),v&&H.jsx(K1,{title:h("deleteConfirmTitle"),message:h("deleteConfirmMessage"),onConfirm:Je,onCancel:()=>w(null)}),te&&H.jsx(K1,{title:h("importConfirmTitle"),message:h("importConfirmMessage"),onConfirm:Nn,onCancel:()=>ce(null)}),D&&H.jsx(vm,{note:D,onClose:()=>X(null)}),ue&&H.jsx(Cm,{onClose:()=>Le(!1)}),je&&H.jsx(Yx,{onClose:()=>Pe(!1),onDataSynced:Pt})]}),H.jsx(Em,{})]})}u2.createRoot(document.getElementById("root")).render(H.jsx(fo.StrictMode,{children:H.jsx(y2,{children:H.jsx(Xx,{})})}));
